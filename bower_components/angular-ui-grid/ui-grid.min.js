(function(){"use strict";angular.module("ui.grid.i18n",[]);angular.module("ui.grid",["ui.grid.i18n"])})(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["ƒ","$","£","$","¤","¥","៛","₩","₱","฿","₫"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}();angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(n,t,i,r){return{priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,u,f,e){function o(){var n=t.col.compiledElementFn;n(t,function(n){u.append(n)})}if(e&&t.col.compiledElementFn)o();else if(e&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(n){n(t,function(n){u.append(n)})});else{var s=t.col.cellTemplate.replace(r.MODEL_COL_FIELD,"row.entity."+i.preEval(t.col.field)).replace(r.COL_FIELD,"grid.getCellValue(row, col)"),h=n(s)(t);u.append(h)}},post:function(n,t){var u=n.col.getColClass(!1),i,f;t.addClass(u);f=function(){var r=t;i&&(r.removeClass(i),i=null);i=angular.isFunction(n.col.cellClass)?n.col.cellClass(n.grid,n.row,n.col,n.rowRenderIndex,n.colRenderIndex):n.col.cellClass;r.addClass(i)};n.col.cellClass&&f();var o=n.grid.registerDataChangeCallback(f,[r.dataChange.COLUMN,r.dataChange.EDIT]),s=function(r,e){if(r!==e){(i||n.col.cellClass)&&f();var o=n.col.getColClass(!1);o!==u&&(t.removeClass(u),t.addClass(o),u=o)}},h=n.$watch("row",s),e=function(){o();h()};n.$on("$destroy",e);t.on("$destroy",e)}}}}}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(n,t,i){var r={initialize:function(n,t){n.grid=t.grid;t.columnMenuScope=n;n.menuShown=!1},setColMenuItemWatch:function(n){var t=n.$watch("col.menuItems",function(t){typeof t!="undefined"&&t&&angular.isArray(t)?(t.forEach(function(t){typeof t.context!="undefined"&&t.context||(t.context={});t.context.col=n.col}),n.menuItems=n.defaultMenuItems.concat(t)):n.menuItems=n.defaultMenuItems});n.$on("$destroy",t)},sortable:function(n){return n.grid.options.enableSorting&&typeof n.col!="undefined"&&n.col&&n.col.enableSorting?!0:!1},isActiveSort:function(n,t){return typeof n.col!="undefined"&&typeof n.col.sort!="undefined"&&typeof n.col.sort.direction!="undefined"&&n.col.sort.direction===t},suppressRemoveSort:function(n){return n.col&&n.col.suppressRemoveSort?!0:!1},hideable:function(n){return typeof n.col!="undefined"&&n.col&&n.col.colDef&&n.col.colDef.enableHiding===!1?!1:!0},getDefaultMenuItems:function(i){return[{title:n.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(n){n.stopPropagation();i.sortColumn(n,t.ASC)},shown:function(){return r.sortable(i)},active:function(){return r.isActiveSort(i,t.ASC)}},{title:n.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(n){n.stopPropagation();i.sortColumn(n,t.DESC)},shown:function(){return r.sortable(i)},active:function(){return r.isActiveSort(i,t.DESC)}},{title:n.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(n){n.stopPropagation();i.unsortColumn()},shown:function(){return r.sortable(i)&&typeof i.col!="undefined"&&typeof i.col.sort!="undefined"&&typeof i.col.sort.direction!="undefined"&&i.col.sort.direction!==null&&!r.suppressRemoveSort(i)}},{title:n.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return r.hideable(i)},action:function(n){n.stopPropagation();i.hideColumn()}}]},getColumnElementPosition:function(n,t,r){var u={};return u.left=r[0].offsetLeft,u.top=r[0].offsetTop,u.parentLeft=r[0].offsetParent.offsetLeft,u.offset=0,t.grid.options.offsetLeft&&(u.offset=t.grid.options.offsetLeft),u.height=i.elementHeight(r,!0),u.width=i.elementWidth(r,!0),u},repositionMenu:function(n,t,r,u,f){var e=u[0].querySelectorAll(".ui-grid-menu"),a=t.renderContainer?t.renderContainer:"body",p=t.grid.renderContainers[a],l=i.closestElm(f,".ui-grid-render-container"),v=l.getBoundingClientRect().left-n.grid.element[0].getBoundingClientRect().left,y=l.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,o=t.lastMenuWidth?t.lastMenuWidth:n.lastMenuWidth?n.lastMenuWidth:170,s=t.lastMenuPaddingRight?t.lastMenuPaddingRight:n.lastMenuPaddingRight?n.lastMenuPaddingRight:10,c,h;e.length!==0&&(c=e[0].querySelectorAll(".ui-grid-menu-mid"),c.length===0||angular.element(c).hasClass("ng-hide")||(o=i.elementWidth(e,!0),n.lastMenuWidth=o,t.lastMenuWidth=o,s=parseInt(i.getStyles(angular.element(e)[0]).paddingRight,10),n.lastMenuPaddingRight=s,t.lastMenuPaddingRight=s));h=r.left+v-y+r.parentLeft+r.width-o+s;h<r.offset&&(h=r.offset);u.css("left",h+"px");u.css("top",r.top+r.height+"px")}};return r}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService",function(n,t,i,r){return{priority:0,scope:!0,require:"?^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(t,u,f,e){var o=this;r.initialize(t,e);t.defaultMenuItems=r.getDefaultMenuItems(t);t.menuItems=t.defaultMenuItems;r.setColMenuItemWatch(t);t.showMenu=function(n,i,f){t.col=n;var e=r.getColumnElementPosition(t,n,i);t.menuShown?(t.colElement=i,t.colElementPosition=e,t.hideThenShow=!0,t.$broadcast("hide-menu",{originalEvent:f})):(o.shown=t.menuShown=!0,r.repositionMenu(t,n,e,u,i),t.colElement=i,t.colElementPosition=e,t.$broadcast("show-menu",{originalEvent:f}))};t.hideMenu=function(n){t.menuShown=!1;n||t.$broadcast("hide-menu")};t.$on("menu-hidden",function(){t.hideThenShow?(delete t.hideThenShow,r.repositionMenu(t,t.col,t.colElementPosition,u,t.colElement),t.$broadcast("show-menu"),t.menuShown=!0):t.hideMenu(!0)});t.$on("menu-shown",function(){n(function(){r.repositionMenu(t,t.col,t.colElementPosition,u,t.colElement);delete t.colElementPosition;delete t.columnElement},200)});t.sortColumn=function(n,i){n.stopPropagation();t.grid.sortColumn(t.col,i,!0).then(function(){t.grid.refresh();t.hideMenu()})};t.unsortColumn=function(){t.col.unsort();t.grid.refresh();t.hideMenu()};t.hideColumn=function(){t.col.colDef.visible=!1;t.col.visible=!1;t.grid.queueGridRefresh();t.hideMenu();t.grid.api.core.notifyDataChange(i.dataChange.COLUMN);t.grid.api.core.raise.columnVisibilityChanged(t.col)}},controller:["$scope",function(n){var t=this;n.$watch("menuItems",function(n){t.menuItems=n})}]}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache",function(n){return{compile:function(){return{pre:function(t,i){t.col.updateFilters=function(r){if(i.children().remove(),r){var u=t.col.filterHeaderTemplate;i.append(n(u)(t))}};t.$on("$destroy",function(){delete t.col.updateFilters})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(n,t,i,r){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(){return{pre:function(n,t){var i=r(n.col.footerCellTemplate)(n);t.append(i)},post:function(n,t,r,u){var o,f,e,s;n.grid=u.grid;o=n.col.getColClass(!1);t.addClass(o);e=function(){var i=t;f&&(i.removeClass(f),f=null);f=angular.isFunction(n.col.footerCellClass)?n.col.footerCellClass(n.grid,n.row,n.col,n.rowRenderIndex,n.colRenderIndex):n.col.footerCellClass;i.addClass(f)};n.col.footerCellClass&&e();n.col.updateAggregationValue();s=n.grid.registerDataChangeCallback(e,[i.dataChange.COLUMN]);n.grid.api.core.on.rowsRendered(n,n.col.updateAggregationValue);n.$on("$destroy",s)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(n,t,i,r){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(n,i,u,f){var s=f[0],e=f[1],o;n.grid=s.grid;n.colContainer=e.colContainer;e.footer=i;o=n.grid.options.footerTemplate;r.getTemplate(o).then(function(r){var f=angular.element(r),o=t(f)(n),u;i.append(o);e&&(u=i[0].getElementsByClassName("ui-grid-footer-viewport")[0],u&&(e.footerViewport=u))})},post:function(n,t,i,u){var o=u[0],e=u[1],s=o.grid,f;r.disableAnimations(t);e.footer=t;f=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];f&&(e.footerViewport=f)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(n,t,i,r){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(n,i,u,f){n.grid=f.grid;var e=n.grid.options.gridFooterTemplate;r.getTemplate(e).then(function(r){var u=angular.element(r),f=t(u)(n);i.append(f)})},post:function(){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(n,t,i){var r="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(){return{pre:function(t,u){var f=t.grid.options.groupPanelTemplate||r;i.getTemplate(f).then(function(i){var r=angular.element(i),f=n(r)(t);u.append(f)})},post:function(n,t){t.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent",function(n,t,i,r,u,f){var e=500,o=500;return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["?^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,i){var r=n(t.col.headerCellTemplate)(t);i.append(r)},post:function(n,i,u,s){var h=s[0],b=s[1],y,v,w;n.grid=h.grid;n.renderContainer=h.grid.renderContainers[b.containerId];y=n.col.getColClass(!1);i.addClass(y);n.menuShown=!1;n.asc=f.ASC;n.desc=f.DESC;var k=angular.element(i[0].querySelectorAll(".ui-grid-header-cell-menu")),c=angular.element(i[0].querySelectorAll(".ui-grid-cell-contents")),l,p,a=[];n.downFn=function(u){if(u.stopPropagation(),typeof u.originalEvent!="undefined"&&u.originalEvent!==undefined&&(u=u.originalEvent),!u.button||u.button===0)if(p=u.pageX,n.mousedownStartTime=(new Date).getTime(),n.mousedownTimeout=t(function(){},e),n.mousedownTimeout.then(function(){n.colMenu&&h.columnMenuScope.showMenu(n.col,i,u)}),h.fireEvent(f.events.COLUMN_HEADER_CLICK,{event:u,columnName:n.col.colDef.name}),n.offAllEvents(),u.type==="touchstart"){r.on("touchend",n.upFn);r.on("touchmove",n.moveFn)}else if(u.type==="mousedown"){r.on("mouseup",n.upFn);r.on("mousemove",n.moveFn)}};n.upFn=function(i){i.stopPropagation();t.cancel(n.mousedownTimeout);n.offAllEvents();n.onDownEvents(i.type);var r=(new Date).getTime(),u=r-n.mousedownStartTime;u>e||n.sortable&&n.handleClick(i)};n.moveFn=function(i){var r=i.pageX-p;if(r!==0){t.cancel(n.mousedownTimeout);n.offAllEvents();n.onDownEvents(i.type)}};n.clickFn=function(t){t.stopPropagation();c.off("click",n.clickFn)};n.offAllEvents=function(){c.off("touchstart",n.downFn);c.off("mousedown",n.downFn);r.off("touchend",n.upFn);r.off("mouseup",n.upFn);r.off("touchmove",n.moveFn);r.off("mousemove",n.moveFn);c.off("click",n.clickFn)};n.onDownEvents=function(i){switch(i){case"touchmove":case"touchend":c.on("click",n.clickFn);c.on("touchstart",n.downFn);t(function(){c.on("mousedown",n.downFn)},o);break;case"mousemove":case"mouseup":c.on("click",n.clickFn);c.on("mousedown",n.downFn);t(function(){c.on("touchstart",n.downFn)},o);break;default:c.on("click",n.clickFn);c.on("touchstart",n.downFn);c.on("mousedown",n.downFn)}};v=function(){var r=i,t,u;l&&(r.removeClass(l),l=null);l=angular.isFunction(n.col.headerCellClass)?n.col.headerCellClass(n.grid,n.row,n.col,n.rowRenderIndex,n.colRenderIndex):n.col.headerCellClass;r.addClass(l);t=n.grid.renderContainers.right?n.grid.renderContainers.right:n.grid.renderContainers.body;n.isLastCol=n.col===t.visibleColumnCache[t.visibleColumnCache.length-1];n.sortable=h.grid.options.enableSorting&&n.col.enableSorting?!0:!1;u=n.filterable;n.filterable=h.grid.options.enableFiltering&&n.col.enableFiltering?!0:!1;u!==n.filterable&&(typeof n.col.updateFilters!="undefined"&&n.col.updateFilters(n.filterable),n.filterable?(n.col.filters.forEach(function(t,i){a.push(n.$watch("col.filters["+i+"].term",function(n,t){n!==t&&(h.grid.api.core.raise.filterChanged(),h.grid.api.core.notifyDataChange(f.dataChange.COLUMN),h.grid.queueGridRefresh())}))}),n.$on("$destroy",function(){a.forEach(function(n){n()})})):a.forEach(function(n){n()}));n.colMenu=n.col.grid.options&&n.col.grid.options.enableColumnMenus!==!1&&n.col.colDef&&n.col.colDef.enableColumnMenu!==!1?!0:!1;n.offAllEvents();(n.sortable||n.colMenu)&&(n.onDownEvents(),n.$on("$destroy",function(){n.offAllEvents()}))};v();w=n.grid.registerDataChangeCallback(v,[f.dataChange.COLUMN]);n.$on("$destroy",w);n.handleClick=function(t){var i=!1;t.shiftKey&&(i=!0);h.grid.sortColumn(n.col,i).then(function(){h.columnMenuScope&&h.columnMenuScope.hideMenu();h.grid.refresh()})};n.toggleMenu=function(t){t.stopPropagation();h.columnMenuScope.menuShown?h.columnMenuScope.col===n.col?h.columnMenuScope.hideMenu():h.columnMenuScope.showMenu(n.col,i):h.columnMenuScope.showMenu(n.col,i)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(n,t,i,r,u,f){var e="ui-grid/ui-grid-header",o="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(n,i,u,s){function a(){h.header=h.colContainer.header=i;var n=i[0].getElementsByClassName("ui-grid-header-canvas");h.headerCanvas=n.length>0?h.colContainer.headerCanvas=n[0]:null}function v(){if(!c.grid.isScrollingHorizontally){var t=r.normalizeScrollLeft(h.headerViewport,c.grid),i=h.colContainer.scrollHorizontal(t),n=new f(c.grid,null,h.colContainer,f.Sources.ViewPortScroll);n.newScrollLeft=t;i>-1&&(n.x={percentage:i});c.grid.scrollContainers(null,n)}}var c=s[0],h=s[1],l;n.grid=c.grid;n.colContainer=h.colContainer;a();l=n.grid.options.showHeader?n.grid.options.headerTemplate?n.grid.options.headerTemplate:e:o;r.getTemplate(l).then(function(r){var e=angular.element(r),f=t(e)(n),u;if(i.replaceWith(f),i=f,a(),h&&(u=i[0].getElementsByClassName("ui-grid-header-viewport")[0],u)){h.headerViewport=u;angular.element(u).on("scroll",v);n.$on("$destroy",function(){angular.element(u).off("scroll",v)})}n.grid.queueRefresh()})},post:function(n,t,i,u){function s(){var i=f.colContainer.visibleColumnCache,n="",t=0;return i.forEach(function(i){n=n+i.getColClassDefinition();t+=i.drawnWidth}),f.colContainer.canvasWidth=t,n}var e=u[0],f=u[1],h=e.grid,o;r.disableAnimations(t);f.header=t;o=t[0].getElementsByClassName("ui-grid-header-viewport")[0];o&&(f.headerViewport=o);e&&e.grid.registerStyleComputation({priority:15,func:s})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(n,t,i){var r={initialize:function(n,t){t.gridMenuScope=n;n.grid=t;n.registeredMenuItems=[];n.$on("$destroy",function(){n.grid&&n.grid.gridMenuScope&&(n.grid.gridMenuScope=null);n.grid&&(n.grid=null);n.registeredMenuItems&&(n.registeredMenuItems=null)});n.registeredMenuItems=[];t.api.registerMethod("core","addToGridMenu",r.addToGridMenu);t.api.registerMethod("core","removeFromGridMenu",r.removeFromGridMenu)},addToGridMenu:function(t,i){angular.isArray(i)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(i)):n.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):n.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,i){var r=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,u){t.id===i&&(r>-1?n.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):r=u)});r>-1&&t.gridMenuScope.registeredMenuItems.splice(r,1)},getMenuItems:function(t){var i=[];return t.grid.options.gridMenuCustomItems&&(angular.isArray(t.grid.options.gridMenuCustomItems)?i=i.concat(t.grid.options.gridMenuCustomItems):n.logError("gridOptions.gridMenuCustomItems must be an array, and is not")),i=i.concat(t.registeredMenuItems),t.grid.options.gridMenuShowHideColumns!==!1&&(i=i.concat(r.showHideColumns(t))),i.sort(function(n,t){return n.order-t.order}),i},showHideColumns:function(n){var i=[];return!n.grid.options.columnDefs||n.grid.options.columnDefs.length===0||n.grid.columns.length===0?i:(i.push({title:t.getSafeText("gridMenu.columns"),order:300}),n.grid.options.gridMenuTitleFilter=n.grid.options.gridMenuTitleFilter?n.grid.options.gridMenuTitleFilter:function(n){return n},n.grid.options.columnDefs.forEach(function(t,u){if(t.enableHiding!==!1){var f={icon:"ui-grid-icon-ok",action:function(n){n.stopPropagation();r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===!0||this.context.gridCol.colDef.visible===undefined},context:{gridCol:n.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+u*2};r.setMenuItemTitle(f,t,n.grid);i.push(f);f={icon:"ui-grid-icon-cancel",action:function(n){n.stopPropagation();r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===!0||this.context.gridCol.colDef.visible===undefined)},context:{gridCol:n.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+u*2+1};r.setMenuItemTitle(f,t,n.grid);i.push(f)}}),i)},setMenuItemTitle:function(t,i,r){var u=r.options.gridMenuTitleFilter(i.displayName||i.name||i.field);typeof u=="string"?t.title=u:u.then?(t.title="",u.then(function(n){t.title=n},function(n){t.title=n})):(n.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(n){n.colDef.visible=!(n.colDef.visible===!0||n.colDef.visible===undefined);n.grid.refresh();n.grid.api.core.notifyDataChange(i.dataChange.COLUMN);n.grid.api.core.raise.columnVisibilityChanged(n)}};return r}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService",function(n,t,i){return{priority:0,scope:!0,require:["?^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(n,t,r,u){var f=u[0];i.initialize(n,f.grid);n.shown=!1;n.toggleMenu=function(){n.shown?(n.$broadcast("hide-menu"),n.shown=!1):(n.menuItems=i.getMenuItems(n),n.$broadcast("show-menu"),n.shown=!0)};n.$on("menu-hidden",function(){n.shown=!1})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants",function(n,t,i,r,u,f){return{priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(n,r,u,e){var s=this,o;if(s.showMenu=n.showMenu=function(i,r){n.shown?n.shownMid||(n.shownMid=!0,n.$emit("menu-shown")):(n.shown=!0,t(function(){n.shownMid=!0;n.$emit("menu-shown")}));var u="click";r&&r.originalEvent&&r.originalEvent.type&&r.originalEvent.type==="touchstart"&&(u=r.originalEvent.type);angular.element(document).off("click touchstart",o);t(function(){angular.element(document).on(u,o)})},s.hideMenu=n.hideMenu=function(){n.shown&&(n.shownMid=!1,t(function(){n.shownMid||(n.shown=!1,n.$emit("menu-hidden"))},200));angular.element(document).off("click touchstart",o)},n.$on("hide-menu",function(t,i){n.hideMenu(t,i)}),n.$on("show-menu",function(t,i){n.showMenu(t,i)}),o=function(){n.shown&&n.$apply(function(){n.hideMenu()})},(typeof n.autoHide=="undefined"||n.autoHide===undefined)&&(n.autoHide=!0),n.autoHide)angular.element(i).on("resize",o);n.$on("$destroy",function(){angular.element(document).off("click touchstart",o)});n.$on("$destroy",function(){angular.element(i).off("resize",o)});e&&n.$on("$destroy",e.grid.api.core.on.scrollBegin(n,o));n.$on("$destroy",n.$on(f.events.ITEM_DRAGGING,o))},controller:["$scope","$element","$attrs",function(){var n=this}]}}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(n,t,i){return{priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"="},require:["?^uiGrid","^uiGridMenu"],templateUrl:"ui-grid/uiGridMenuItem",replace:!0,compile:function(){return{pre:function(i,r,u,f){var e=f[0],o=f[1];i.templateUrl&&n.getTemplate(i.templateUrl).then(function(n){var u=angular.element(n),f=t(u)(i);r.replaceWith(f)})},post:function(n,t,r,u){var f=u[0],e=u[1];(typeof n.shown=="undefined"||n.shown===null)&&(n.shown=function(){return!0});n.itemShown=function(){var t={};return n.context&&(t.context=n.context),typeof f!="undefined"&&f&&(t.grid=f.grid),n.shown.call(t)};n.itemAction=function(t,i){if(t.stopPropagation(),typeof n.action=="function"){var r={};n.context&&(r.context=n.context);typeof f!="undefined"&&f&&(r.grid=f.grid);n.action.call(r,t,i);n.leaveOpen||n.$emit("hide-menu")}};n.i18n=i.get()}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid");n.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(n,t,i,r,u){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(n,t,i,r){var s=r[0],f=r[1],u=n.grid=s.grid,e,o;if(!n.rowContainerName)throw"No row render container name specified";if(!n.colContainerName)throw"No column render container name specified";if(!u.renderContainers[n.rowContainerName])throw"Row render container '"+n.rowContainerName+"' is not registered.";if(!u.renderContainers[n.colContainerName])throw"Column render container '"+n.colContainerName+"' is not registered.";e=n.rowContainer=u.renderContainers[n.rowContainerName];o=n.colContainer=u.renderContainers[n.colContainerName];f.containerId=n.containerId;f.rowContainer=e;f.colContainer=o},post:function(n,t,i,f){function y(){var t="",i=s.canvasWidth,l=s.getViewportWidth(),r=c.getCanvasHeight(),u,f,h;return n.containerId!=="body"&&(r+=o.scrollbarHeight),u=c.getViewportHeight(),f=h=s.getHeaderViewportWidth(),t+="\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-canvas { width: "+i+"px; height: "+r+"px; }",t+="\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-header-canvas { width: "+(i+o.scrollbarWidth)+"px; }",t+=v.explicitHeaderCanvasHeight?"\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-header-canvas { height: "+v.explicitHeaderCanvasHeight+"px; }":"\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-header-canvas { height: inherit; }",t+="\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-viewport { width: "+l+"px; height: "+u+"px; }",t+="\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-header-viewport { width: "+f+"px; }",t+="\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-footer-canvas { width: "+(i+o.scrollbarWidth)+"px; }",t+("\n .grid"+e.grid.id+" .ui-grid-render-container-"+n.containerId+" .ui-grid-footer-viewport { width: "+h+"px; }")}var e=f[0],h=f[1],o=e.grid,c=h.rowContainer,s=h.colContainer,l=null,a=null,v=o.renderContainers[n.containerId];t.addClass("ui-grid-render-container-"+n.containerId);r.on.mousewheel(t,function(n){var t=new u(o,c,s,u.Sources.RenderContainerMouseWheel),e,i,v,f;n.deltaY!==0&&(e=n.deltaY*-1*n.deltaFactor,l=h.viewport[0].scrollTop,i=(l+e)/c.getVerticalScrollLength(),i<0?i=0:i>1&&(i=1),t.y={percentage:i,pixels:e});n.deltaX!==0&&(v=n.deltaX*n.deltaFactor,a=r.normalizeScrollLeft(h.viewport,o),f=(a+v)/(s.getCanvasWidth()-s.getViewportWidth()),f<0?f=0:f>1&&(f=1),t.x={percentage:f,pixels:v});n.deltaY!==0&&(t.atTop(l)||t.atBottom(l))||n.deltaX!==0&&(t.atLeft(a)||t.atRight(a))||(n.preventDefault(),t.fireThrottledScrollingEvent("",t))});t.bind("$destroy",function(){t.unbind("keydown");["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(n){t.unbind(n)})});e.grid.registerStyleComputation({priority:6,func:y})}}}}}]);n.controller("uiGridRenderContainer",["$scope","gridUtil",function(){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(n,t,i,r){function o(){n.row.getRowTemplateFn.then(function(i){var r=n.$new();i(r,function(n){u&&(u.remove(),e.$destroy());t.empty().append(n);u=n;e=r})})}var f=r[0],s=r[1],h=f.grid,u,e;n.grid=f.grid;n.colContainer=s.colContainer;o();n.$watch("row.getRowTemplateFn",function(n,t){n!==t&&o()})},post:function(){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(n,t){return{link:function(n,i){var r=t(i.text(),!0);r&&n.$watch(r,function(n){i.text(n)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(n,t){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(i,r,u,f){function a(){var f=r[0].scrollTop,e=n.normalizeScrollLeft(r,o),c=h.scrollVertical(f),l=s.scrollHorizontal(e),u=new t(o,h,s,t.Sources.ViewPortScroll);u.newScrollLeft=e;u.newScrollTop=f;l>-1&&(u.x={percentage:l});c>-1&&(u.y={percentage:c});o.scrollContainers(i.$parent.containerId,u)}function v(n){e.prevScrollArgs=n;var t=n.getNewScrollTop(h,e.viewport);r[0].scrollTop=t}function y(t){e.prevScrollArgs=t;var i=t.getNewScrollLeft(s,e.viewport);r[0].scrollLeft=n.denormalizeScrollLeft(e.viewport,i,o)}function p(t){var i=t.getNewScrollLeft(s,e.viewport);e.headerViewport&&(e.headerViewport.scrollLeft=n.denormalizeScrollLeft(e.viewport,i,o))}function w(t){var i=t.getNewScrollLeft(s,e.viewport);e.footerViewport&&(e.footerViewport.scrollLeft=n.denormalizeScrollLeft(e.viewport,i,o))}var c=f[0],e=f[1],l;i.containerCtrl=e;var h=e.rowContainer,s=e.colContainer,o=c.grid;i.grid=c.grid;i.rowContainer=e.rowContainer;i.colContainer=e.colContainer;e.viewport=r;r.on("scroll",a);l=!1;i.$parent.bindScrollVertical&&o.addVerticalScrollSync(i.$parent.containerId,v);i.$parent.bindScrollHorizontal&&(o.addHorizontalScrollSync(i.$parent.containerId,y),o.addHorizontalScrollSync(i.$parent.containerId+"header",p),o.addHorizontalScrollSync(i.$parent.containerId+"footer",w))},controller:["$scope",function(n){this.rowStyle=function(t){var u=n.rowContainer,i=n.colContainer,r={},f;return t===0&&u.currentTopRow!==0&&(f=u.currentTopRow*u.grid.options.rowHeight,r["margin-top"]=f+"px"),i.currentFirstColumn!==0&&(i.grid.isRTL()?r["margin-right"]=i.columnOffset+"px":r["margin-left"]=i.columnOffset+"px"),r}}]}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(n,t,i){n.$watch(i.uiGridVisible,function(n){t[n?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";function n(n,t,i,r,u,f){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(n,t,e,o){function c(){t[0].offsetWidth<=0&&h<y?(setTimeout(c,v),h++):i(l)}function p(){angular.element(r).on("resize",a);t.on("$destroy",function(){angular.element(r).off("resize",a)});n.$watch(function(){return s.hasLeftContainer()},function(n,t){n!==t&&s.refreshCanvas(!0)});n.$watch(function(){return s.hasRightContainer()},function(n,t){n!==t&&s.refreshCanvas(!0)})}function l(){s.gridWidth=n.gridWidth=u.elementWidth(t);s.canvasWidth=o.grid.gridWidth;s.gridHeight=n.gridHeight=u.elementHeight(t);s.gridHeight<s.options.rowHeight&&s.options.enableMinHeightCheck&&w();s.refreshCanvas(!0)}function w(){var c=s.options.minRowsToShow*s.options.rowHeight,r=s.options.showHeader?s.options.headerRowHeight:0,l=s.calcFooterHeight(),e=0,i,o,h;s.options.enableHorizontalScrollbar===f.scrollbars.ALWAYS&&(e=u.getScrollbarWidth());i=0;angular.forEach(s.options.columnDefs,function(n){n.hasOwnProperty("filter")?i<1&&(i=1):n.hasOwnProperty("filters")&&i<n.filters.length&&(i=n.filters.length)});o=i*r;h=r+c+l+e+o;t.css("height",h+"px");s.gridHeight=n.gridHeight=u.elementHeight(t)}function a(){s.gridWidth=n.gridWidth=u.elementWidth(t);s.gridHeight=n.gridHeight=u.elementHeight(t);s.refreshCanvas(!0)}var s=o.grid;o.scrollbars=[];s.element=t;var v=100,y=20,h=0;p();l();s.renderingComplete();c()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function(n,t,i,r,u,f,e,o,s,h,c){function y(n,t){n&&n!==t&&(l.grid.options.columnDefs=n,l.grid.buildColumns({orderByColumnDefs:!0}).then(function(){l.grid.preCompileCellTemplates();l.grid.callDataChangeCallbacks(f.dataChange.COLUMN)}))}function v(t){var r=[];l.grid.options.fastWatch&&(t=angular.isString(n.uiGrid.data)?l.grid.appScope[n.uiGrid.data]:n.uiGrid.data);t&&(l.grid.columns.length===(l.grid.rowHeaderColumns?l.grid.rowHeaderColumns.length:0)&&!i.uiGridColumns&&l.grid.options.columnDefs.length===0&&t.length>0&&l.grid.buildColumnDefsFromData(t),(l.grid.options.columnDefs.length>0||t.length>0)&&r.push(l.grid.buildColumns().then(function(){l.grid.preCompileCellTemplates()})),u.all(r).then(function(){l.grid.modifyRows(t).then(function(){l.grid.redrawInPlace(!0);n.$evalAsync(function(){l.grid.refreshCanvas(!0);l.grid.callDataChangeCallbacks(f.dataChange.ROW)})})}))}var l=this,a,p;l.grid=o.createGrid(n.uiGrid);l.grid.appScope=l.grid.appScope||n.$parent;t.addClass("grid"+l.grid.id);l.grid.rtl=r.getStyles(t[0]).direction==="rtl";n.grid=l.grid;i.uiGridColumns&&i.$observe("uiGridColumns",function(n){l.grid.options.columnDefs=n;l.grid.buildColumns().then(function(){l.grid.preCompileCellTemplates();l.grid.refreshCanvas(!0)})});a=[];l.grid.options.fastWatch?(l.uiGrid=n.uiGrid,angular.isString(n.uiGrid.data)?(a.push(n.$parent.$watch(n.uiGrid.data,v)),a.push(n.$parent.$watch(function(){return l.grid.appScope[n.uiGrid.data]?l.grid.appScope[n.uiGrid.data].length:undefined},v))):(a.push(n.$parent.$watch(function(){return n.uiGrid.data},v)),a.push(n.$parent.$watch(function(){return n.uiGrid.data.length},v))),a.push(n.$parent.$watch(function(){return n.uiGrid.columnDefs},y)),a.push(n.$parent.$watch(function(){return n.uiGrid.columnDefs.length},y))):(angular.isString(n.uiGrid.data)?a.push(n.$parent.$watchCollection(n.uiGrid.data,v)):a.push(n.$parent.$watchCollection(function(){return n.uiGrid.data},v)),a.push(n.$parent.$watchCollection(function(){return n.uiGrid.columnDefs},y)));p=n.$watch(function(){return l.grid.styleComputations},function(){l.grid.refreshCanvas(!0)});n.$on("$destroy",function(){a.forEach(function(n){n()});p()});l.fireEvent=function(t,i){(typeof i=="undefined"||i===undefined)&&(i={});(typeof i.grid=="undefined"||i.grid===undefined)&&(i.grid=l.grid);n.$broadcast(t,i)};l.innerCompile=function(t){c(t)(n)}}]);angular.module("ui.grid").directive("uiGrid",n);n.$inject=["$compile","$templateCache","$timeout","$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"><\/div><\/div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(n,t,i,r){function o(){var t=this,n=0,i;return t.visibleColumnCache.forEach(function(t){n+=t.drawnWidth}),i=t.getViewportAdjustment(),n=n+i.width}function e(){var i,r,t,f;if(n.side==="left"||n.side==="right"){for(i=u.renderContainers[n.side].visibleColumnCache,r=0,t=0;t<i.length;t++)f=i[t],r+=f.drawnWidth||f.width||0;return r}}function s(){var i="",r;return(n.side==="left"||n.side==="right")&&(f=e(),t.attr("style",null),r=u.renderContainers.body.getViewportHeight(),i+=".grid"+u.id+" .ui-grid-pinned-container-"+n.side+", .grid"+u.id+" .ui-grid-pinned-container-"+n.side+" .ui-grid-render-container-"+n.side+" .ui-grid-viewport { width: "+f+"px; height: "+r+"px; } "),i}var u=r.grid,f=0;t.addClass("ui-grid-pinned-container-"+n.side);(n.side==="left"||n.side==="right")&&(u.renderContainers[n.side].getViewportWidth=o);u.renderContainers.body.registerViewportAdjuster(function(t){return f=e(),t.width-=f,t.side=n.side,t});u.registerStyleComputation({priority:15,func:s})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function p(){}var y=function(n){function i(n){t.isScrollingVertically=!1;t.api.core.raise.scrollEnd(n);t.scrollDirection=u.scrollDirection.NONE}function c(n){t.isScrollingHorizontally=!1;t.api.core.raise.scrollEnd(n);t.scrollDirection=u.scrollDirection.NONE}var t=this,e,o,a,v;if(n!==undefined&&typeof n.id!="undefined"&&n.id){if(!/^[_a-zA-Z0-9-]+$/.test(n.id))throw new Error("Grid id '"+n.id+'" is invalid. It must follow CSS selector syntax rules.');}else throw new Error("No ID provided. An ID must be given when creating a grid.");t.id=n.id;delete n.id;t.options=f.initialize(n);t.appScope=t.options.appScopeProvider;t.headerHeight=t.options.headerRowHeight;t.footerHeight=t.calcFooterHeight();t.columnFooterHeight=t.calcColumnFooterHeight();t.rtl=!1;t.gridHeight=0;t.gridWidth=0;t.columnBuilders=[];t.rowBuilders=[];t.rowsProcessors=[];t.columnsProcessors=[];t.styleComputations=[];t.viewportAdjusters=[];t.rowHeaderColumns=[];t.dataChangeCallbacks={};t.verticalScrollSyncCallBackFns={};t.horizontalScrollSyncCallBackFns={};t.renderContainers={};t.renderContainers.body=new l("body",t);t.cellValueGetterCache={};t.getRowTemplateFn=null;t.rows=[];t.columns=[];t.isScrollingVertically=!1;t.isScrollingHorizontally=!1;t.scrollDirection=u.scrollDirection.NONE;t.disableScrolling=!1;e=r.debounce(i,t.options.scrollDebounce);o=r.debounce(i,0);a=r.debounce(c,t.options.scrollDebounce);v=r.debounce(c,0);t.flagScrollingVertically=function(n){t.isScrollingVertically||t.isScrollingHorizontally||t.api.core.raise.scrollBegin(n);t.isScrollingVertically=!0;t.options.scrollDebounce!==0&&n.withDelay?e(n):o(n)};t.flagScrollingHorizontally=function(n){t.isScrollingVertically||t.isScrollingHorizontally||t.api.core.raise.scrollBegin(n);t.isScrollingHorizontally=!0;t.options.scrollDebounce!==0&&n.withDelay?a(n):v(n)};t.scrollbarHeight=0;t.scrollbarWidth=0;t.options.enableHorizontalScrollbar===u.scrollbars.ALWAYS&&(t.scrollbarHeight=r.getScrollbarWidth());t.options.enableVerticalScrollbar===u.scrollbars.ALWAYS&&(t.scrollbarWidth=r.getScrollbarWidth());t.api=new s(t);t.api.registerMethod("core","refresh",this.refresh);t.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh);t.api.registerMethod("core","refreshRows",this.refreshRows);t.api.registerMethod("core","refreshRows",this.queueRefresh);t.api.registerMethod("core","handleWindowResize",this.handleWindowResize);t.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn);t.api.registerMethod("core","scrollToIfNecessary",function(n,i){return t.scrollToIfNecessary(n,i)});t.api.registerMethod("core","scrollTo",function(n,i){return t.scrollTo(n,i)});t.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor);t.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor);t.api.registerMethod("core","sortHandleNulls",h.handleNulls);t.api.registerEvent("core","sortChanged");t.api.registerEvent("core","columnVisibilityChanged");t.api.registerMethod("core","notifyDataChange",this.notifyDataChange);t.api.registerMethod("core","clearAllFilters",this.clearAllFilters);t.registerDataChangeCallback(t.columnRefreshCallback,[u.dataChange.COLUMN]);t.registerDataChangeCallback(t.processRowsCallback,[u.dataChange.EDIT]);t.registerDataChangeCallback(t.updateFooterHeightCallback,[u.dataChange.OPTIONS]);t.registerStyleComputation({priority:10,func:t.getFooterStyles})};return y.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var n=0;return this.options.showGridFooter&&(n+=this.options.gridFooterHeight),n+this.calcColumnFooterHeight()},y.prototype.calcColumnFooterHeight=function(){var n=0;return this.options.showColumnFooter&&(n+=this.options.columnFooterHeight),n},y.prototype.getFooterStyles=function(){var n=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return n+(" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }")},y.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},y.prototype.isRTL=function(){return this.rtl},y.prototype.registerColumnBuilder=function(n){this.columnBuilders.push(n)},y.prototype.buildColumnDefsFromData=function(n){this.options.columnDefs=r.getColumnsFromData(n,this.options.excludeProperties)},y.prototype.registerRowBuilder=function(n){this.rowBuilders.push(n)},y.prototype.registerDataChangeCallback=function(n,t,i){var f=r.nextUid(),e,o;return t||(t=[u.dataChange.ALL]),Array.isArray(t)||r.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[f]={callback:n,types:t,_this:i},e=this,o=function(){delete e.dataChangeCallbacks[f]},o},y.prototype.callDataChangeCallbacks=function(n){angular.forEach(this.dataChangeCallbacks,function(t){(t.types.indexOf(u.dataChange.ALL)!==-1||t.types.indexOf(n)!==-1||n===u.dataChange.ALL)&&(t._this?t.callback.apply(t._this,this):t.callback(this))},this)},y.prototype.notifyDataChange=function(n){var t=u.dataChange;n===t.ALL||n===t.COLUMN||n===t.EDIT||n===t.ROW||n===t.OPTIONS?this.callDataChangeCallbacks(n):r.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+n)},y.prototype.columnRefreshCallback=function(n){n.buildColumns();n.queueGridRefresh()},y.prototype.processRowsCallback=function(n){n.queueGridRefresh()},y.prototype.updateFooterHeightCallback=function(n){n.footerHeight=n.calcFooterHeight();n.columnFooterHeight=n.calcColumnFooterHeight()},y.prototype.getColumn=function(n){var t=this.columns.filter(function(t){return t.colDef.name===n});return t.length>0?t[0]:null},y.prototype.getColDef=function(n){var t=this.options.columnDefs.filter(function(t){return t.name===n});return t.length>0?t[0]:null},y.prototype.assignTypes=function(){var n=this;n.options.columnDefs.forEach(function(t,i){if(!t.type){var f=new e(t,i,n),u=n.rows.length>0?n.rows[0]:null;u?t.type=r.guessType(n.getCellValue(u,f)):(r.logWarn("Unable to assign type from data, so defaulting to string"),t.type="string")}})},y.prototype.isRowHeaderColumn=function(n){return this.rowHeaderColumns.indexOf(n)!==-1},y.prototype.addRowHeaderColumn=function(n){var t=this,i=new e(n,r.nextUid(),t);i.isRowHeader=!0;t.isRTL()?(t.createRightContainer(),i.renderContainer="right"):(t.createLeftContainer(),i.renderContainer="left");t.columnBuilders[0](n,i,t.options).then(function(){i.enableFiltering=!1;i.enableSorting=!1;i.enableHiding=!1;t.rowHeaderColumns.push(i);t.buildColumns().then(function(){t.preCompileCellTemplates();t.queueGridRefresh()})})},y.prototype.getOnlyDataColumns=function(){var n=this,t=[];return n.columns.forEach(function(i){n.rowHeaderColumns.indexOf(i)===-1&&t.push(i)}),t},y.prototype.buildColumns=function(t){var s={orderByColumnDefs:!1},o,c;angular.extend(s,t);for(var i=this,h=[],f=i.rowHeaderColumns.length,u=0;u<i.columns.length;u++)i.getColDef(i.columns[u].name)||(i.columns.splice(u,1),u--);if(i.rowHeaderColumns.forEach(function(n){i.columns.unshift(n)}),i.options.columnDefs.forEach(function(n,t){i.preprocessColDef(n);var u=i.getColumn(n.name);u?u.updateColumnDef(n,!1):(u=new e(n,r.nextUid(),i),i.columns.splice(t+f,0,u));i.columnBuilders.forEach(function(t){h.push(t.call(i,n,u,i.options))})}),!!s.orderByColumnDefs){for(o=i.columns.slice(0),c=Math.min(i.options.columnDefs.length,i.columns.length),u=0;u<c;u++)o[u+f]=i.columns[u+f].name!==i.options.columnDefs[u].name?i.getColumn(i.options.columnDefs[u].name):i.columns[u+f];i.columns.length=0;Array.prototype.splice.apply(i.columns,[0,0].concat(o))}return n.all(h).then(function(){i.rows.length>0&&i.assignTypes()})},y.prototype.preCompileCellTemplates=function(){var i=this,n=function(n){var r=n.cellTemplate.replace(u.MODEL_COL_FIELD,i.getQualifiedColField(n)),f;r=r.replace(u.COL_FIELD,"grid.getCellValue(row, col)");f=t(r);n.compiledElementFn=f;n.compiledElementFnDefer&&n.compiledElementFnDefer.resolve(n.compiledElementFn)};this.columns.forEach(function(t){t.cellTemplate?n(t):t.cellTemplatePromise&&t.cellTemplatePromise.then(function(){n(t)})})},y.prototype.getQualifiedColField=function(n){return"row.entity."+r.preEval(n.field)},y.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new l("left",this,{disableColumnOffset:!0}))},y.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new l("right",this,{disableColumnOffset:!0}))},y.prototype.hasLeftContainer=function(){return this.renderContainers.left!==undefined},y.prototype.hasRightContainer=function(){return this.renderContainers.right!==undefined},y.prototype.preprocessColDef=function(n){var r=this,t,i;if(!n.field&&!n.name)throw new Error("colDef.name or colDef.field property is required");if(n.name===undefined&&n.field!==undefined){for(t=n.field,i=2;r.getColumn(t);)t=n.field+i.toString(),i++;n.name=t}},y.prototype.newInN=function(n,t,i,r){for(var e,o,u,h,c=this,s=[],f=0;f<t.length;f++){for(e=r?t[f][r]:t[f],o=!1,u=0;u<n.length;u++)if(h=i?n[u][i]:n[u],c.options.rowEquality(e,h)){o=!0;break}o||s.push(e)}return s},y.prototype.getRow=function(n,t){var r=this,i;return t=typeof t=="undefined"?r.rows:t,i=t.filter(function(t){return r.options.rowEquality(t.entity,n)}),i.length>0?i[0]:null},y.prototype.modifyRows=function(t){var i=this,f=i.rows.slice(0),e=i.rowHashMap||i.createRowHashMap(),r,u;return i.rowHashMap=i.createRowHashMap(),i.rows.length=0,t.forEach(function(n,t){var r;r=i.options.enableRowHashing?e.get(n):i.getRow(n,f);r||(r=i.processRowBuilders(new o(n,t,i)));i.rows.push(r);i.rowHashMap.put(n,r)}),i.assignTypes(),r=n.when(i.processRowsProcessors(i.rows)).then(function(n){return i.setVisibleRows(n)}),u=n.when(i.processColumnsProcessors(i.columns)).then(function(n){return i.setVisibleColumns(n)}),n.all([r,u])},y.prototype.addRows=function(n){for(var r,u,t=this,f=t.rows.length,i=0;i<n.length;i++)r=t.processRowBuilders(new o(n[i],i+f,t)),t.options.enableRowHashing&&(u=t.rowHashMap.get(r.entity),u&&(u.row=r)),t.rows.push(r)},y.prototype.processRowBuilders=function(n){var t=this;return t.rowBuilders.forEach(function(i){i.call(t,n,t.options)}),n},y.prototype.registerStyleComputation=function(n){this.styleComputations.push(n)},y.prototype.registerRowsProcessor=function(n,t){if(!angular.isFunction(n))throw"Attempt to register non-function rows processor: "+n;this.rowsProcessors.push({processor:n,priority:t});this.rowsProcessors.sort(function(n,t){return n.priority-t.priority})},y.prototype.removeRowsProcessor=function(n){var t=-1;this.rowsProcessors.forEach(function(i,r){i.processor===n&&(t=r)});t!==-1&&this.rowsProcessors.splice(t,1)},y.prototype.processRowsProcessors=function(t){function f(t,u){var e=i.rowsProcessors[t].processor;return n.when(e.call(i,u,i.columns)).then(function(n){if(!n)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(n))throw"Processor at index "+t+" did not return an array";if(t++,t<=i.rowsProcessors.length-1)return f(t,n);r.resolve(n)})}var i=this,u=t.slice(0),e,r;return i.rowsProcessors.length===0?n.when(u):(e=0,r=n.defer(),f(0,u),r.promise)},y.prototype.setVisibleRows=function(n){var r=this,f,i,u,t,e;for(f in r.renderContainers)i=r.renderContainers[f],i.canvasHeightShouldUpdate=!0,typeof i.visibleRowCache=="undefined"?i.visibleRowCache=[]:i.visibleRowCache.length=0;for(u=0;u<n.length;u++)t=n[u],e=typeof t.renderContainer!="undefined"&&t.renderContainer?t.renderContainer:"body",t.visible&&r.renderContainers[e].visibleRowCache.push(t);r.api.core.raise.rowsRendered(this.api)},y.prototype.registerColumnsProcessor=function(n,t){if(!angular.isFunction(n))throw"Attempt to register non-function rows processor: "+n;this.columnsProcessors.push({processor:n,priority:t});this.columnsProcessors.sort(function(n,t){return n.priority-t.priority})},y.prototype.removeColumnsProcessor=function(n){var t=this.columnsProcessors.indexOf(n);typeof t!="undefined"&&t!==undefined&&this.columnsProcessors.splice(t,1)},y.prototype.processColumnsProcessors=function(t){function f(t,e){var o=i.columnsProcessors[t].processor;return n.when(o.call(i,e,i.rows)).then(function(n){if(!n)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(n))throw"Processor at index "+t+" did not return an array";if(t++,t<=i.columnsProcessors.length-1)return f(t,r);u.resolve(r)})}var i=this,r=t.slice(0),e,u;return i.columnsProcessors.length===0?n.when(r):(e=0,u=n.defer(),f(0,r),u.promise)},y.prototype.setVisibleColumns=function(n){var i=this,u,f,r,t;for(u in i.renderContainers)f=i.renderContainers[u],f.visibleColumnCache.length=0;for(r=0;r<n.length;r++)t=n[r],t.visible&&(typeof t.renderContainer!="undefined"&&t.renderContainer?i.renderContainers[t.renderContainer].visibleColumnCache.push(t):i.renderContainers.body.visibleColumnCache.push(t))},y.prototype.handleWindowResize=function(){var n=this;n.gridWidth=r.elementWidth(n.element);n.gridHeight=r.elementHeight(n.element);n.queueRefresh()},y.prototype.queueRefresh=function(){var n=this;return n.refreshCanceller&&a.cancel(n.refreshCanceller),n.refreshCanceller=a(function(){n.refreshCanvas(!0)}),n.refreshCanceller.then(function(){n.refreshCanceller=null}),n.refreshCanceller},y.prototype.queueGridRefresh=function(){var n=this;return n.gridRefreshCanceller&&a.cancel(n.gridRefreshCanceller),n.gridRefreshCanceller=a(function(){n.refresh(!0)}),n.gridRefreshCanceller.then(function(){n.gridRefreshCanceller=null}),n.gridRefreshCanceller},y.prototype.updateCanvasHeight=function(){var n=this,t,i;for(t in n.renderContainers)n.renderContainers.hasOwnProperty(t)&&(i=n.renderContainers[t],i.canvasHeightShouldUpdate=!0)},y.prototype.buildStyles=function(){var n=this;n.customStyles="";n.styleComputations.sort(function(n,t){return n.priority===null?1:t.priority===null?-1:n.priority===null&&t.priority===null?0:n.priority-t.priority}).forEach(function(t){var i=t.func.call(n);angular.isString(i)&&(n.customStyles+="\n"+i)})},y.prototype.minColumnsToRender=function(){var t=this,i=this.getViewportWidth(),n=0,r=0;return t.columns.forEach(function(u,f){var o,e;if(r<i)r+=u.drawnWidth,n++;else{for(o=0,e=f;e>=f-n;e--)o+=t.columns[e].drawnWidth;o<i&&n++}}),n},y.prototype.getBodyHeight=function(){return this.getViewportHeight()},y.prototype.getViewportHeight=function(){var n=this,t=this.gridHeight-this.headerHeight-this.footerHeight,i=n.getViewportAdjustment();return t+i.height},y.prototype.getViewportWidth=function(){var n=this,t=this.gridWidth,i=n.getViewportAdjustment();return t+i.width},y.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},y.prototype.addVerticalScrollSync=function(n,t){this.verticalScrollSyncCallBackFns[n]=t},y.prototype.addHorizontalScrollSync=function(n,t){this.horizontalScrollSyncCallBackFns[n]=t},y.prototype.scrollContainers=function(n,t){var i,r,e,u,f,o;if(t.y)for(i=["body","left","right"],this.flagScrollingVertically(t),n==="body"?i=["left","right"]:n==="left"?i=["body","right"]:n==="right"&&(i=["body","left"]),r=0;r<i.length;r++)e=i[r],this.verticalScrollSyncCallBackFns[e]&&this.verticalScrollSyncCallBackFns[e](t);if(t.x)for(u=["body","bodyheader","bodyfooter"],this.flagScrollingHorizontally(t),n==="body"&&(u=["bodyheader","bodyfooter"]),f=0;f<u.length;f++)o=u[f],this.horizontalScrollSyncCallBackFns[o]&&this.horizontalScrollSyncCallBackFns[o](t)},y.prototype.registerViewportAdjuster=function(n){this.viewportAdjusters.push(n)},y.prototype.removeViewportAdjuster=function(n){var t=this.viewportAdjusters.indexOf(n);typeof t!="undefined"&&t!==undefined&&this.viewportAdjusters.splice(t,1)},y.prototype.getViewportAdjustment=function(){var t=this,n={height:0,width:0};return t.viewportAdjusters.forEach(function(t){n=t.call(this,n)}),n},y.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},y.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},y.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},y.prototype.searchRows=function(n){return c.search(this,n,this.columns)},y.prototype.sortByColumn=function(n){return h.sort(this,n,this.columns)},y.prototype.getCellValue=function(n,t){return typeof n.entity["$$"+t.uid]!="undefined"?n.entity["$$"+t.uid].rendered:this.options.flatEntityAccess&&typeof t.field!="undefined"?n.entity[t.field]:(t.cellValueGetterCache||(t.cellValueGetterCache=i(n.getEntityQualifiedColField(t))),t.cellValueGetterCache(n))},y.prototype.getNextColumnSortPriority=function(){var t=this,n=0;return t.columns.forEach(function(t){t.sort&&t.sort.priority&&t.sort.priority>n&&(n=t.sort.priority)}),n+1},y.prototype.resetColumnSorting=function(n){var t=this;t.columns.forEach(function(t){t===n||t.suppressRemoveSort||(t.sort={})})},y.prototype.getColumnSorting=function(){var i=this,n=[],t;return t=i.columns.slice(0),t.sort(h.prioritySort).forEach(function(t){t.sort&&typeof t.sort.direction!="undefined"&&t.sort.direction&&(t.sort.direction===u.ASC||t.sort.direction===u.DESC)&&n.push(t)}),n},y.prototype.sortColumn=function(t,i,r){var f=this,e=null;if(typeof t=="undefined"||!t)throw new Error("No column parameter provided");return typeof i=="boolean"?r=i:e=i,r?t.sort.priority||(t.sort.priority=f.getNextColumnSortPriority()):(f.resetColumnSorting(t),t.sort.priority=0,t.sort.priority=f.getNextColumnSortPriority()),e?t.sort.direction=e:t.sort.direction&&t.sort.direction===u.ASC?t.sort.direction=u.DESC:t.sort.direction&&t.sort.direction===u.DESC?t.colDef&&t.suppressRemoveSort?t.sort.direction=u.ASC:t.sort={}:t.sort.direction=u.ASC,f.api.core.raise.sortChanged(f,f.getColumnSorting()),n.when(t)},y.prototype.renderingComplete=function(){if(angular.isFunction(this.options.onRegisterApi))this.options.onRegisterApi(this.api);this.api.core.raise.renderingComplete(this.api)},y.prototype.createRowHashMap=function(){var t=this,n=new p;return n.grid=t,n},y.prototype.refresh=function(t){var i=this,r=i.processRowsProcessors(i.rows).then(function(n){i.setVisibleRows(n)}),u=i.processColumnsProcessors(i.columns).then(function(n){i.setVisibleColumns(n)});return n.all([r,u]).then(function(){i.redrawInPlace(t);i.refreshCanvas(!0)})},y.prototype.refreshRows=function(){var n=this;return n.processRowsProcessors(n.rows).then(function(t){n.setVisibleRows(t);n.redrawInPlace();n.refreshCanvas(!0)})},y.prototype.refreshCanvas=function(t){var f=this,e,u,o,i;t&&f.buildStyles();e=n.defer();u=[];for(o in f.renderContainers)if(f.renderContainers.hasOwnProperty(o)){if(i=f.renderContainers[o],i.canvasWidth===null||isNaN(i.canvasWidth))continue;(i.header||i.headerCanvas)&&(i.explicitHeaderHeight=i.explicitHeaderHeight||null,i.explicitHeaderCanvasHeight=i.explicitHeaderCanvasHeight||null,u.push(i))}return u.length>0?(t&&f.buildStyles(),a(function(){for(var a=!1,s=0,h=0,n,c=function(n,t){return n!==t&&(a=!0),t},l,i=0;i<u.length;i++)if(n=u[i],n.canvasWidth!==null&&!isNaN(n.canvasWidth)){if(n.header){var v=n.headerHeight=c(n.headerHeight,parseInt(r.outerElementHeight(n.header),10)),y=r.getBorderSize(n.header,"top"),p=r.getBorderSize(n.header,"bottom"),o=parseInt(v-y-p,10);o=o<0?0:o;n.innerHeaderHeight=o;!n.explicitHeaderHeight&&o>s&&(s=o)}n.headerCanvas&&(l=n.headerCanvasHeight=c(n.headerCanvasHeight,parseInt(r.outerElementHeight(n.headerCanvas),10)),!n.explicitHeaderCanvasHeight&&l>h&&(h=l))}for(i=0;i<u.length;i++)n=u[i],s>0&&typeof n.headerHeight!="undefined"&&n.headerHeight!==null&&(n.explicitHeaderHeight||n.headerHeight<s)&&(n.explicitHeaderHeight=c(n.explicitHeaderHeight,s)),h>0&&typeof n.headerCanvasHeight!="undefined"&&n.headerCanvasHeight!==null&&(n.explicitHeaderCanvasHeight||n.headerCanvasHeight<h)&&(n.explicitHeaderCanvasHeight=c(n.explicitHeaderCanvasHeight,h));t&&a&&f.buildStyles();e.resolve()})):a(function(){e.resolve()}),e.promise},y.prototype.redrawInPlace=function(n){var i=this,r,t;for(r in i.renderContainers)t=i.renderContainers[r],n?(t.adjustRows(t.prevScrollTop,null),t.adjustColumns(t.prevScrollLeft,null)):(t.adjustRows(null,t.prevScrolltopPercentage),t.adjustColumns(null,t.prevScrollleftPercentage))},y.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},y.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},y.prototype.scrollToIfNecessary=function(t,i){var r=this,f=new v(r,"uiGrid.scrollToIfNecessary"),rt=r.renderContainers.body.visibleRowCache,w=r.renderContainers.body.visibleColumnCache,h=r.renderContainers.body.prevScrollTop+r.headerHeight,c,l,a,tt,s,y,u,p,it;h=h<0?0:h;var b=r.renderContainers.body.prevScrollLeft,k=r.renderContainers.body.prevScrollTop+r.gridHeight-r.renderContainers.body.headerHeight-r.footerHeight-r.scrollbarWidth,d=r.renderContainers.body.prevScrollLeft+Math.ceil(r.gridWidth);if(t!==null){var ut=rt.indexOf(t),g=r.renderContainers.body.getCanvasHeight()-r.renderContainers.body.getViewportHeight(),e=(ut+1)*r.options.rowHeight;e=e<0?0:e;e<h?(c=r.renderContainers.body.prevScrollTop-(h-e),l=c/g,f.y={percentage:l}):e>k&&(c=e-k+r.renderContainers.body.prevScrollTop,l=c/g,f.y={percentage:l})}if(i!==null){var ft=w.indexOf(i),nt=r.renderContainers.body.getCanvasWidth()-r.renderContainers.body.getViewportWidth(),o=0;for(a=0;a<ft;a++)tt=w[a],o+=tt.drawnWidth;o=o<0?0:o;s=o+i.drawnWidth;s=s<0?0:s;o<b?(y=r.renderContainers.body.prevScrollLeft-(b-o),u=y/nt,u=u>1?1:u,f.x={percentage:u}):s>d&&(y=s-d+r.renderContainers.body.prevScrollLeft,u=y/nt,u=u>1?1:u,f.x={percentage:u})}return p=n.defer(),f.y||f.x?(f.withDelay=!1,r.scrollContainers("",f),it=r.api.core.on.scrollEnd(null,function(){p.resolve(f);it()})):p.resolve(),p.promise},y.prototype.scrollTo=function(n,t){var i=null,r=null;return n!==null&&typeof n!="undefined"&&(i=this.getRow(n)),t!==null&&typeof t!="undefined"&&(r=this.getColumn(t.name?t.name:t.field)),this.scrollToIfNecessary(i,r)},y.prototype.clearAllFilters=function(n,t,i){return n===undefined&&(n=!0),t===undefined&&(t=!1),i===undefined&&(i=!1),this.columns.forEach(function(n){n.filters.forEach(function(n){n.term=undefined;t&&(n.condition=undefined);i&&(n.flags=undefined)})}),n?this.refreshRows():void 0},p.prototype={put:function(n,t){this[this.grid.options.rowIdentity(n)]=t},get:function(n){return this[this.grid.options.rowIdentity(n)]},remove:function(n){var t=this[n=this.grid.options.rowIdentity(n)];return delete this[n],t}},y}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(n,t,i,r,u){function e(n,i,r,u){return t.$on(n,function(){var n=Array.prototype.slice.call(arguments);n.splice(0,1);i.apply(u?u:r.api,n)})}var f=function(n){this.grid=n;this.listeners=[];this.registerEvent("core","renderingComplete");this.registerEvent("core","filterChanged");this.registerMethod("core","setRowInvisible",u.prototype.setRowInvisible);this.registerMethod("core","clearRowInvisible",u.prototype.clearRowInvisible);this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows);this.registerEvent("core","rowsVisibleChanged");this.registerEvent("core","rowsRendered");this.registerEvent("core","scrollBegin");this.registerEvent("core","scrollEnd");this.registerEvent("core","canvasHeightChanged")};return f.prototype.suppressEvents=function(n,t){var r=this,u=angular.isArray(n)?n:[n],i=[];u.forEach(function(n){i=r.listeners.filter(function(t){return n===t.handler})});i.forEach(function(n){n.dereg()});t();i.forEach(function(n){n.dereg=e(n.eventId,n.handler,r.grid,n._this)})},f.prototype.registerEvent=function(n,r){var u=this,f,o;u[n]||(u[n]={});f=u[n];f.on||(f.on={},f.raise={});o=u.grid.id+n+r;f.raise[r]=function(){t.$emit.apply(t,[o].concat(Array.prototype.slice.call(arguments)))};f.on[r]=function(t,f,s){var l,h,c;if(t!==null&&typeof t.$on=="undefined"){i.logError("asked to listen on "+n+".on."+r+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering");return}return l=e(o,f,u.grid,s),h={handler:f,dereg:l,eventId:o,scope:t,_this:s},u.listeners.push(h),c=function(){h.dereg();var n=u.listeners.indexOf(h);u.listeners.splice(n,1)},t&&t.$on("$destroy",function(){c()}),c}},f.prototype.registerEventsFromObject=function(n){var i=this,t=[];angular.forEach(n,function(n,i){var r={name:i,events:[]};angular.forEach(n,function(n,t){r.events.push(t)});t.push(r)});t.forEach(function(n){n.events.forEach(function(t){i.registerEvent(n.name,t)})})},f.prototype.registerMethod=function(n,t,r,u){this[n]||(this[n]={});var f=this[n];f[t]=i.createBoundedWrapper(u||this.grid,r)},f.prototype.registerMethodsFromObject=function(n,t){var r=this,i=[];angular.forEach(n,function(n,t){var r={name:t,methods:[]};angular.forEach(n,function(n,t){r.methods.push({name:t,fn:n})});i.push(r)});i.forEach(function(n){n.methods.forEach(function(i){r.registerMethod(n.name,i.name,i.fn,t)})})},f}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(n,t,i){function r(n,i,u){var f=this;f.grid=u;f.uid=i;f.updateColumnDef(n,!0);r.prototype.hideColumn=function(){this.colDef.visible=!1};f.aggregationValue=undefined;f.updateAggregationValue=function(){if(!f.aggregationType){f.aggregationValue=undefined;return}var n=0,r=f.grid.getVisibleRows(),i=function(){var n=[];return r.forEach(function(t){var r=f.grid.getCellValue(t,f),i=Number(r);isNaN(i)||n.push(i)}),n};angular.isFunction(f.aggregationType)?f.aggregationValue=f.aggregationType(r,f):f.aggregationType===t.aggregationTypes.count?f.aggregationValue=f.grid.getVisibleRowCount():f.aggregationType===t.aggregationTypes.sum?(i().forEach(function(t){n+=t}),f.aggregationValue=n):f.aggregationType===t.aggregationTypes.avg?(i().forEach(function(t){n+=t}),n=n/i().length,f.aggregationValue=n):f.aggregationValue=f.aggregationType===t.aggregationTypes.min?Math.min.apply(null,i()):f.aggregationType===t.aggregationTypes.max?Math.max.apply(null,i()):" "};this.getAggregationValue=function(){return f.aggregationValue}}return r.prototype.setPropertyOrDefault=function(n,t,i){var r=this;r[t]=typeof n[t]!="undefined"&&n[t]?n[t]:typeof r[t]!="undefined"?r[t]:i?i:{}},r.prototype.updateColumnDef=function(t,i){var u=this,e,o,s,f;if(u.colDef=t,t.name===undefined)throw new Error("colDef.name is required for column at index "+u.grid.options.columnDefs.indexOf(t));if(u.displayName=t.displayName===undefined?n.readableColumnName(t.name):t.displayName,e="Cannot parse column width '"+t.width+"' for column named '"+t.name+"'",n.isNullOrUndefined(u.width)||!angular.isNumber(u.width))if(n.isNullOrUndefined(t.width))u.width="*";else if(angular.isNumber(t.width))u.width=t.width;else if(n.endsWith(t.width,"%")){if(o=t.width.replace(/%/g,""),s=parseInt(o,10),isNaN(s))throw new Error(e);u.width=t.width}else if(t.width.match(/^(\d+)$/))u.width=parseInt(t.width.match(/^(\d+)$/)[1],10);else if(t.width.match(/^\*+$/))u.width=t.width;else throw new Error(e);u.minWidth=t.minWidth?t.minWidth:30;u.maxWidth=t.maxWidth?t.maxWidth:9e3;u.field=t.field===undefined?t.name:t.field;typeof u.field!="string"&&n.logError("Field is not a string, this is likely to break the code, Field is: "+u.field);u.name=t.name;u.displayName=t.displayName===undefined?n.readableColumnName(t.name):t.displayName;u.aggregationType=angular.isDefined(t.aggregationType)?t.aggregationType:null;u.footerCellTemplate=angular.isDefined(t.footerCellTemplate)?t.footerCellTemplate:null;u.cellTooltip=typeof t.cellTooltip=="undefined"||t.cellTooltip===!1?!1:t.cellTooltip===!0?function(n,t){return u.grid.getCellValue(n,t)}:typeof t.cellTooltip=="function"?t.cellTooltip:function(n,t){return t.colDef.cellTooltip};u.headerTooltip=typeof t.headerTooltip=="undefined"||t.headerTooltip===!1?!1:t.headerTooltip===!0?function(n){return n.displayName}:typeof t.headerTooltip=="function"?t.headerTooltip:function(n){return n.colDef.headerTooltip};u.footerCellClass=t.footerCellClass;u.cellClass=t.cellClass;u.headerCellClass=t.headerCellClass;u.cellFilter=t.cellFilter?t.cellFilter:"";u.headerCellFilter=t.headerCellFilter?t.headerCellFilter:"";u.footerCellFilter=t.footerCellFilter?t.footerCellFilter:"";u.visible=n.isNullOrUndefined(t.visible)||t.visible;u.headerClass=t.headerClass;u.enableSorting=typeof t.enableSorting!="undefined"?t.enableSorting:!0;u.sortingAlgorithm=t.sortingAlgorithm;typeof u.suppressRemoveSort=="undefined"&&(u.suppressRemoveSort=typeof t.suppressRemoveSort!="undefined"?t.suppressRemoveSort:!1);u.enableFiltering=typeof t.enableFiltering!="undefined"?t.enableFiltering:!0;u.setPropertyOrDefault(t,"menuItems",[]);i&&u.setPropertyOrDefault(t,"sort");f=[];t.filter?f.push(t.filter):t.filters?f=t.filters:f.push({});i?(u.setPropertyOrDefault(t,"filter"),u.setPropertyOrDefault(t,"filters",f)):u.filters.length===f.length&&u.filters.forEach(function(n,t){typeof f[t].placeholder!="undefined"&&(n.placeholder=f[t].placeholder);typeof f[t].flags!="undefined"&&(n.flags=f[t].flags);typeof f[t].type!="undefined"&&(n.type=f[t].type);typeof f[t].selectOptions!="undefined"&&(n.selectOptions=f[t].selectOptions)});r.prototype.unsort=function(){this.sort={};u.grid.api.core.raise.sortChanged(u.grid,u.grid.getColumnSorting())}},r.prototype.getColClass=function(n){var i=t.COL_CLASS_PREFIX+this.uid;return n?"."+i:i},r.prototype.isPinnedLeft=function(){return this.renderContainer==="left"},r.prototype.isPinnedRight=function(){return this.renderContainer==="right"},r.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},r.prototype.getRenderContainer=function(){var t=this,n=t.renderContainer;return(n===null||n===""||n===undefined)&&(n="body"),t.grid.renderContainers[n]},r.prototype.showColumn=function(){this.colDef.visible=!0},r.prototype.getAggregationText=function(){var n=this;if(n.colDef.aggregationHideLabel)return"";if(n.colDef.aggregationLabel)return n.colDef.aggregationLabel;switch(n.colDef.aggregationType){case t.aggregationTypes.count:return i.getSafeText("aggregation.count");case t.aggregationTypes.sum:return i.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return i.getSafeText("aggregation.avg");case t.aggregationTypes.min:return i.getSafeText("aggregation.min");case t.aggregationTypes.max:return i.getSafeText("aggregation.max");default:return""}},r.prototype.getCellTemplate=function(){var n=this;return n.cellTemplatePromise},r.prototype.getCompiledElementFn=function(){var n=this;return n.compiledElementFnDefer.promise},r}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(n,t){return{initialize:function(i){return i.onRegisterApi=i.onRegisterApi||angular.noop(),i.data=i.data||[],i.columnDefs=i.columnDefs||[],i.excludeProperties=i.excludeProperties||["$$hashKey"],i.enableRowHashing=i.enableRowHashing!==!1,i.rowIdentity=i.rowIdentity||function(t){return n.hashKey(t)},i.getRowIdentity=i.getRowIdentity||function(n){return n.$$hashKey},i.flatEntityAccess=i.flatEntityAccess===!0,i.showHeader=typeof i.showHeader!="undefined"?i.showHeader:!0,i.headerRowHeight=i.showHeader?typeof i.headerRowHeight!="undefined"?i.headerRowHeight:30:0,i.rowHeight=i.rowHeight||30,i.minRowsToShow=typeof i.minRowsToShow!="undefined"?i.minRowsToShow:10,i.showGridFooter=i.showGridFooter===!0,i.showColumnFooter=i.showColumnFooter===!0,i.columnFooterHeight=typeof i.columnFooterHeight!="undefined"?i.columnFooterHeight:30,i.gridFooterHeight=typeof i.gridFooterHeight!="undefined"?i.gridFooterHeight:30,i.columnWidth=typeof i.columnWidth!="undefined"?i.columnWidth:50,i.maxVisibleColumnCount=typeof i.maxVisibleColumnCount!="undefined"?i.maxVisibleColumnCount:200,i.virtualizationThreshold=typeof i.virtualizationThreshold!="undefined"?i.virtualizationThreshold:20,i.columnVirtualizationThreshold=typeof i.columnVirtualizationThreshold!="undefined"?i.columnVirtualizationThreshold:10,i.excessRows=typeof i.excessRows!="undefined"?i.excessRows:4,i.scrollThreshold=typeof i.scrollThreshold!="undefined"?i.scrollThreshold:4,i.excessColumns=typeof i.excessColumns!="undefined"?i.excessColumns:4,i.horizontalScrollThreshold=typeof i.horizontalScrollThreshold!="undefined"?i.horizontalScrollThreshold:2,i.aggregationCalcThrottle=typeof i.aggregationCalcThrottle!="undefined"?i.aggregationCalcThrottle:500,i.wheelScrollThrottle=typeof i.wheelScrollThrottle!="undefined"?i.wheelScrollThrottle:70,i.scrollDebounce=typeof i.scrollDebounce!="undefined"?i.scrollDebounce:300,i.enableSorting=i.enableSorting!==!1,i.enableFiltering=i.enableFiltering===!0,i.enableColumnMenus=i.enableColumnMenus!==!1,i.enableVerticalScrollbar=typeof i.enableVerticalScrollbar!="undefined"?i.enableVerticalScrollbar:t.scrollbars.ALWAYS,i.enableHorizontalScrollbar=typeof i.enableHorizontalScrollbar!="undefined"?i.enableHorizontalScrollbar:t.scrollbars.ALWAYS,i.enableMinHeightCheck=i.enableMinHeightCheck!==!1,i.minimumColumnSize=typeof i.minimumColumnSize!="undefined"?i.minimumColumnSize:10,i.rowEquality=i.rowEquality||function(n,t){return n===t},i.headerTemplate=i.headerTemplate||null,i.footerTemplate=i.footerTemplate||"ui-grid/ui-grid-footer",i.gridFooterTemplate=i.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",i.rowTemplate=i.rowTemplate||"ui-grid/ui-grid-row",i.appScopeProvider=i.appScopeProvider||null,i}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(n,t){function i(n,t,i){var r=this;r.name=n;r.grid=t;r.visibleRowCache=[];r.visibleColumnCache=[];r.renderedRows=[];r.renderedColumns=[];r.prevScrollTop=0;r.prevScrolltopPercentage=0;r.prevRowScrollIndex=0;r.prevScrollLeft=0;r.prevScrollleftPercentage=0;r.prevColumnScrollIndex=0;r.columnStyles="";r.viewportAdjusters=[];r.canvasHeightShouldUpdate=!0;r.$$canvasHeight=0;i&&angular.isObject(i)&&angular.extend(r,i);t.registerStyleComputation({priority:5,func:function(){return r.updateColumnWidths(),r.columnStyles}})}return i.prototype.reset=function(){this.visibleColumnCache.length=0;this.visibleRowCache.length=0;this.renderedRows.length=0;this.renderedColumns.length=0},i.prototype.containsColumn=function(n){return this.visibleColumnCache.indexOf(n)!==-1},i.prototype.minRowsToRender=function(){for(var n=this,i=0,r=0,u=n.getViewportHeight(),t=n.visibleRowCache.length-1;r<u&&t>=0;t--)r+=n.visibleRowCache[t].height,i++;return i},i.prototype.minColumnsToRender=function(){for(var u,f,t,i=this,e=this.getViewportWidth(),r=0,o=0,n=0;n<i.visibleColumnCache.length;n++)if(u=i.visibleColumnCache[n],o<e)o+=u.drawnWidth?u.drawnWidth:0,r++;else{for(f=0,t=n;t>=n-r;t--)f+=i.visibleColumnCache[t].drawnWidth?i.visibleColumnCache[t].drawnWidth:0;f<e&&r++}return r},i.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},i.prototype.registerViewportAdjuster=function(n){this.viewportAdjusters.push(n)},i.prototype.removeViewportAdjuster=function(n){var t=this.viewportAdjusters.indexOf(n);typeof t!="undefined"&&t!==undefined&&this.viewportAdjusters.splice(t,1)},i.prototype.getViewportAdjustment=function(){var t=this,n={height:0,width:0};return t.viewportAdjusters.forEach(function(t){n=t.call(this,n)}),n},i.prototype.getMargin=function(n){var i=this,t=0;return i.viewportAdjusters.forEach(function(i){var r=i.call(this,{height:0,width:0});r.side&&r.side===n&&(t+=r.width*-1)}),t},i.prototype.getViewportHeight=function(){var n=this,t=n.headerHeight?n.headerHeight:n.grid.headerHeight,i=n.grid.gridHeight-t-n.grid.footerHeight,r=n.getViewportAdjustment();return i+r.height},i.prototype.getViewportWidth=function(){var n=this,t=n.grid.gridWidth,i=n.getViewportAdjustment();return t+i.width},i.prototype.getHeaderViewportWidth=function(){var n=this;return this.getViewportWidth()},i.prototype.getCanvasHeight=function(){var n=this,t;return n.canvasHeightShouldUpdate?(t=n.$$canvasHeight,n.$$canvasHeight=0,n.visibleRowCache.forEach(function(t){n.$$canvasHeight+=t.height}),n.canvasHeightShouldUpdate=!1,n.grid.api.core.raise.canvasHeightChanged(t,n.$$canvasHeight),n.$$canvasHeight):n.$$canvasHeight},i.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()},i.prototype.getCanvasWidth=function(){var n=this;return n.canvasWidth},i.prototype.setRenderedRows=function(n){this.renderedRows.length=n.length;for(var t=0;t<n.length;t++)this.renderedRows[t]=n[t]},i.prototype.setRenderedColumns=function(n){var i=this,t;for(this.renderedColumns.length=n.length,t=0;t<n.length;t++)this.renderedColumns[t]=n[t];this.updateColumnOffset()},i.prototype.updateColumnOffset=function(){for(var t=0,n=0;n<this.currentFirstColumn;n++)t+=this.visibleColumnCache[n].drawnWidth;this.columnOffset=t},i.prototype.scrollVertical=function(n){var i=-1,r,u;if(n!==this.prevScrollTop)return r=n-this.prevScrollTop,r>0&&(this.grid.scrollDirection=t.scrollDirection.DOWN),r<0&&(this.grid.scrollDirection=t.scrollDirection.UP),u=this.getVerticalScrollLength(),i=n/u,i>1&&(i=1),i<0&&(i=0),this.adjustScrollVertical(n,i),i},i.prototype.scrollHorizontal=function(n){var i=-1,r,u;if(n!==this.prevScrollLeft)return r=n-this.prevScrollLeft,r>0&&(this.grid.scrollDirection=t.scrollDirection.RIGHT),r<0&&(this.grid.scrollDirection=t.scrollDirection.LEFT),u=this.canvasWidth-this.getViewportWidth(),i=u!==0?n/u:0,this.adjustScrollHorizontal(n,i),i},i.prototype.adjustScrollVertical=function(n,t,i){(this.prevScrollTop!==n||i)&&((typeof n=="undefined"||n===undefined||n===null)&&(n=(this.getCanvasHeight()-this.getViewportHeight())*t),this.adjustRows(n,t,!1),this.prevScrollTop=n,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},i.prototype.adjustScrollHorizontal=function(n,t,i){(this.prevScrollLeft!==n||i)&&((typeof n=="undefined"||n===undefined||n===null)&&(n=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(n,t),this.prevScrollLeft=n,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},i.prototype.adjustRows=function(n,t){var i=this,e=i.minRowsToRender(),o=i.visibleRowCache,u=o.length-e,r,f,s,h,c;if((typeof t=="undefined"||t===null)&&n&&(t=n/i.getVerticalScrollLength()),r=Math.ceil(Math.min(u,u*t)),r>u&&(r=u),f=[],o.length>i.grid.options.virtualizationThreshold){if(!(typeof n=="undefined"||n===null)){if(!i.grid.suppressParentScrollDown&&i.prevScrollTop<n&&r<i.prevRowScrollIndex+i.grid.options.scrollThreshold&&r<u)return;if(!i.grid.suppressParentScrollUp&&i.prevScrollTop>n&&r>i.prevRowScrollIndex-i.grid.options.scrollThreshold&&r<u)return}s={};h={};s=Math.max(0,r-i.grid.options.excessRows);h=Math.min(o.length,r+e+i.grid.options.excessRows);f=[s,h]}else c=i.visibleRowCache.length,f=[0,Math.max(c,e+i.grid.options.excessRows)];i.updateViewableRowRange(f);i.prevRowScrollIndex=r},i.prototype.adjustColumns=function(n,t){var i=this,e=i.minColumnsToRender(),o=i.visibleColumnCache,u=o.length-e,r,f,s,h,c;(typeof t=="undefined"||t===null)&&n&&(t=n/i.getCanvasWidth());r=Math.ceil(Math.min(u,u*t));r>u&&(r=u);f=[];o.length>i.grid.options.columnVirtualizationThreshold&&i.getCanvasWidth()>i.getViewportWidth()?(s=Math.max(0,r-i.grid.options.excessColumns),h=Math.min(o.length,r+e+i.grid.options.excessColumns),f=[s,h]):(c=i.visibleColumnCache.length,f=[0,Math.max(c,e+i.grid.options.excessColumns)]);i.updateViewableColumnRange(f);i.prevColumnScrollIndex=r},i.prototype.updateViewableRowRange=function(n){var t=this.visibleRowCache.slice(n[0],n[1]);this.currentTopRow=n[0];this.setRenderedRows(t)},i.prototype.updateViewableColumnRange=function(n){var t=this.visibleColumnCache.slice(n[0],n[1]);this.currentFirstColumn=n[0];this.setRenderedColumns(t)},i.prototype.headerCellWrapperStyle=function(){var n=this,t;return n.currentFirstColumn!==0?(t=n.columnOffset,n.grid.isRTL()?{"margin-right":t+"px"}:{"margin-left":t+"px"}):null},i.prototype.updateColumnWidths=function(){var r=this,u=[],h=0,t=0,c="",f=r.grid.getViewportWidth()-r.grid.scrollbarWidth,e=[],a,v,y,o,s;angular.forEach(r.grid.renderContainers,function(n){e=e.concat(n.visibleColumnCache)});e.forEach(function(i){var r=0;i.visible&&(angular.isNumber(i.width)?(r=parseInt(i.width,10),t=t+r,i.drawnWidth=r):n.endsWith(i.width,"%")?(r=parseInt(parseInt(i.width.replace(/%/g,""),10)/100*f),r>i.maxWidth&&(r=i.maxWidth),r<i.minWidth&&(r=i.minWidth),t=t+r,i.drawnWidth=r):angular.isString(i.width)&&i.width.indexOf("*")!==-1&&(h=h+i.width.length,u.push(i)))});a=f-t;u.length>0&&(v=a/h,u.forEach(function(n){var i=parseInt(n.width.length*v,10);i>n.maxWidth&&(i=n.maxWidth);i<n.minWidth&&(i=n.minWidth);t=t+i;n.drawnWidth=i}));for(var p=function(n){n.drawnWidth<n.maxWidth&&l>0&&(n.drawnWidth++,t++,l--,i=!0)},l=f-t,i=!0;l>0&&i;)i=!1,u.forEach(p);for(y=function(n){n.drawnWidth>n.minWidth&&o>0&&(n.drawnWidth--,t--,o--,i=!0)},o=t-f,i=!0;o>0&&i;)i=!1,u.forEach(y);s=0;r.visibleColumnCache.forEach(function(n){n.visible&&(s=s+n.drawnWidth)});e.forEach(function(n){c=c+n.getColClassDefinition()});r.canvasWidth=s;this.columnStyles=c},i.prototype.getViewportStyle=function(){var n=this,i={};return n.grid.disableScrolling?(i["overflow-x"]="hidden",i["overflow-y"]="hidden",i):(n.name==="body"?(i["overflow-x"]=n.grid.options.enableHorizontalScrollbar===t.scrollbars.NEVER?"hidden":"scroll",i["overflow-y"]=n.grid.isRTL()?n.grid.hasLeftContainerColumns()?"hidden":n.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll":n.grid.hasRightContainerColumns()?"hidden":n.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll"):n.name==="left"?(i["overflow-x"]="hidden",i["overflow-y"]=n.grid.isRTL()?n.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll":"hidden"):(i["overflow-x"]="hidden",i["overflow-y"]=n.grid.isRTL()?"hidden":n.grid.options.enableVerticalScrollbar===t.scrollbars.NEVER?"hidden":"scroll"),i)},i}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(n){function t(t,i,r){this.grid=r;this.entity=t;this.uid=n.nextUid();this.visible=!0;this.$$height=r.options.rowHeight}return Object.defineProperty(t.prototype,"height",{get:function(){return this.$$height},set:function(n){n!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=n)}}),t.prototype.getQualifiedColField=function(n){return"row."+this.getEntityQualifiedColField(n)},t.prototype.getEntityQualifiedColField=function(t){return n.preEval("entity."+t.field)},t.prototype.setRowInvisible=function(n){n&&n.setThisRowInvisible&&n.setThisRowInvisible("user")},t.prototype.clearRowInvisible=function(n){n&&n.clearThisRowInvisible&&n.clearThisRowInvisible("user")},t.prototype.setThisRowInvisible=function(n,t){this.invisibleReason||(this.invisibleReason={});this.invisibleReason[n]=!0;this.evaluateRowVisibility(t)},t.prototype.clearThisRowInvisible=function(n,t){typeof this.invisibleReason!="undefined"&&delete this.invisibleReason[n];this.evaluateRowVisibility(t)},t.prototype.evaluateRowVisibility=function(n){var t=!0;typeof this.invisibleReason!="undefined"&&angular.forEach(this.invisibleReason,function(n){n&&(t=!1)});(typeof this.visible=="undefined"||this.visible!==t)&&(this.visible=t,n||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},t}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(n){function t(t,i,r,u){var f=this;if(!t)throw new Error("grid argument is required");f.grid=t;f.source=u;f.withDelay=!0;f.sourceRowContainer=i;f.sourceColContainer=r;f.newScrollLeft=null;f.newScrollTop=null;f.x=null;f.y=null;f.fireThrottledScrollingEvent=n.throttle(function(n){f.grid.scrollContainers(n,f)},f.grid.options.wheelScrollThrottle,{trailing:!0})}return t.prototype.getNewScrollLeft=function(t,i){var r=this,u,e,f;if(!r.newScrollLeft){if(u=t.getCanvasWidth()-t.getViewportWidth(),e=n.normalizeScrollLeft(i,r.grid),typeof r.x.percentage!="undefined"&&r.x.percentage!==undefined)f=r.x.percentage;else if(typeof r.x.pixels!="undefined"&&r.x.pixels!==undefined)f=r.x.percentage=(e+r.x.pixels)/u;else throw new Error("No percentage or pixel value provided for scroll event X axis");return Math.max(0,f*u)}return r.newScrollLeft},t.prototype.getNewScrollTop=function(n,t){var i=this,r,f,u;if(!i.newScrollTop){if(r=n.getVerticalScrollLength(),f=t[0].scrollTop,typeof i.y.percentage!="undefined"&&i.y.percentage!==undefined)u=i.y.percentage;else if(typeof i.y.pixels!="undefined"&&i.y.pixels!==undefined)u=i.y.percentage=(f+i.y.pixels)/r;else throw new Error("No percentage or pixel value provided for scroll event Y axis");return Math.max(0,u*r)}return i.newScrollTop},t.prototype.atTop=function(n){return this.y&&this.y.percentage===0&&n===0},t.prototype.atBottom=function(n){return this.y&&this.y.percentage===1&&n>0},t.prototype.atLeft=function(n){return this.x&&this.x.percentage===0&&n===0},t.prototype.atRight=function(n){return this.x&&this.x.percentage===1&&n>0},t.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},t}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(n,t,i,r,u,f){var e={createGrid:function(r){var u,o;return r=typeof r!="undefined"?r:{},r.id=n.newId(),u=new f(r),u.options.rowTemplate&&(o=t.defer(),u.getRowTemplateFn=o.promise,n.getTemplate(u.options.rowTemplate).then(function(n){var t=i(n);o.resolve(t)},function(){throw new Error("Couldn't fetch/use row template '"+u.options.rowTemplate+"'");})),u.registerColumnBuilder(e.defaultColumnBuilder),u.registerRowBuilder(e.rowTemplateAssigner),u.registerRowsProcessor(function(n){return n.forEach(function(n){n.evaluateRowVisibility(!0)},50),n}),u.registerColumnsProcessor(function(n){return n.forEach(function(n){n.visible=!0}),n},50),u.registerColumnsProcessor(function(n){return n.forEach(function(n){n.colDef.visible===!1&&(n.visible=!1)}),n},50),u.registerRowsProcessor(u.searchRows,100),u.options.externalSort&&angular.isFunction(u.options.externalSort)?u.registerRowsProcessor(u.options.externalSort,200):u.registerRowsProcessor(u.sortByColumn,200),u},defaultColumnBuilder:function(i,r){var e=[],f=function(t,f,o,s,h){r[f]=i[t]?i[t]:o;e.push(n.getTemplate(r[f]).then(function(n){var i=h==="cellTooltip"?"col.cellTooltip(row,col)":"col.headerTooltip(col)";h&&r[h]===!1?n=n.replace(u.TOOLTIP,""):h&&r[h]&&(n=n.replace(u.TOOLTIP,'title="{{'+i+' CUSTOM_FILTERS }}"'));r[t]=s?n.replace(u.CUSTOM_FILTERS,r[s]?"|"+r[s]:""):n},function(){throw new Error("Couldn't fetch/use colDef."+t+" '"+i[t]+"'");}))};return f("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),r.cellTemplatePromise=e[0],f("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),f("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),f("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),r.compiledElementFnDefer=t.defer(),t.all(e)},rowTemplateAssigner:function(r){var f=this,u;return r.rowTemplate?(u=t.defer(),r.getRowTemplateFn=u.promise,n.getTemplate(r.rowTemplate).then(function(n){var t=i(n);u.resolve(t)},function(){throw new Error("Couldn't fetch/use row template '"+r.rowTemplate+"'");})):(r.rowTemplate=f.options.rowTemplate,r.getRowTemplateFn=f.getRowTemplateFn),r.getRowTemplateFn}};return e}])}(),function(){function t(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var n=angular.module("ui.grid");n.service("rowSearcher",["gridUtil","uiGridConstants",function(n,i){var u=i.filter.CONTAINS,r={};return r.getTerm=function(n){if(typeof n.term=="undefined")return n.term;var t=n.term;return typeof t=="string"&&(t=t.trim()),t},r.stripTerm=function(n){var i=r.getTerm(n);return typeof i=="string"?t(i.replace(/(^\*|\*$)/g,"")):i},r.guessCondition=function(n){var t,i,f;return typeof n.term=="undefined"||!n.term?u:(t=r.getTerm(n),/\*/.test(t)?(i="",n.flags&&n.flags.caseSensitive||(i+="i"),f=t.replace(/(\\)?\*/g,function(n,t){return t?n:"[\\s\\S]*?"}),new RegExp("^"+f+"$",i)):u)},r.setupFilters=function(t){for(var f,u,e,s=[],h=t.length,o=0;o<h;o++)f=t[o],(f.noTerm||!n.isNullOrUndefined(f.term))&&(u={},e="",f.flags&&f.flags.caseSensitive||(e+="i"),n.isNullOrUndefined(f.term)||(u.term=r.stripTerm(f)),u.condition=f.condition?f.condition:r.guessCondition(f),u.flags=angular.extend({caseSensitive:!1,date:!1},f.flags),u.condition===i.filter.STARTS_WITH&&(u.startswithRE=new RegExp("^"+u.term,e)),u.condition===i.filter.ENDS_WITH&&(u.endswithRE=new RegExp(u.term+"$",e)),u.condition===i.filter.CONTAINS&&(u.containsRE=new RegExp(u.term,e)),u.condition===i.filter.EXACT&&(u.exactRE=new RegExp("^"+u.term+"$",e)),s.push(u));return s},r.runColumnFilter=function(n,t,r,u){var h=typeof u.condition,e=u.term,f=n.getCellValue(t,r),s,o;return u.condition instanceof RegExp?u.condition.test(f):h==="function"?u.condition(e,f,t,r):u.startswithRE?u.startswithRE.test(f):u.endswithRE?u.endswithRE.test(f):u.containsRE?u.containsRE.test(f):u.exactRE?u.exactRE.test(f):u.condition===i.filter.NOT_EQUAL?(s=new RegExp("^"+e+"$"),!s.exec(f)):(typeof f=="number"&&typeof e=="string"&&(o=parseFloat(e.replace(/\\\./,".").replace(/\\\-/,"-")),isNaN(o)||(e=o)),u.flags.date===!0&&(f=new Date(f),e=new Date(e.replace(/\\/g,""))),u.condition===i.filter.GREATER_THAN)?f>e:u.condition===i.filter.GREATER_THAN_OR_EQUAL?f>=e:u.condition===i.filter.LESS_THAN?f<e:u.condition===i.filter.LESS_THAN_OR_EQUAL?f<=e:!0},r.searchColumn=function(n,t,i,u){var e,f,o,s;if(n.options.useExternalFiltering)return!0;for(e=u.length,f=0;f<e;f++)if(o=u[f],s=r.runColumnFilter(n,t,i,o),!s)return!1;return!0},r.search=function(t,i,u){var o,f,s;if(i){if(!t.options.enableFiltering)return i;var e=[],h=u.length,c=function(t){var i=!1;return t.forEach(function(t){(!n.isNullOrUndefined(t.term)&&t.term!==""||t.noTerm)&&(i=!0)}),i};for(o=0;o<h;o++)f=u[o],typeof f.filters!="undefined"&&c(f.filters)&&e.push({col:f,filters:r.setupFilters(f.filters)});if(e.length>0){var l=function(n,t,i,u){t.visible&&!r.searchColumn(n,t,i,u)&&(t.visible=!1)},a=function(n,t){for(var u=i.length,r=0;r<u;r++)l(n,i[r],t.col,t.filters)},v=e.length;for(s=0;s<v;s++)a(t,e[s]);t.api.core.raise.rowsVisibleChanged&&t.api.core.raise.rowsVisibleChanged()}return i}},r}])}(),function(){var n=angular.module("ui.grid");n.service("rowSorter",["$parse","uiGridConstants",function(n,t){var r="("+t.CURRENCY_SYMBOLS.map(function(n){return"\\"+n}).join("|")+")?",u=new RegExp("^[-+]?"+r+"[\\d,.]+"+r+"%?$"),i={colSortFnCache:{}};return i.guessSortFn=function(n){switch(n){case"number":return i.sortNumber;case"numberStr":return i.sortNumberStr;case"boolean":return i.sortBool;case"string":return i.sortAlpha;case"date":return i.sortDate;case"object":return i.basicSort;default:throw new Error("No sorting function found for type:"+n);}},i.handleNulls=function(n,t){if(!n&&n!==0&&n!==!1||!t&&t!==0&&t!==!1)if(n||n===0||n===!1||t||t===0||t===!1)if(n||n===0||n===!1){if(!t&&t!==0&&t!==!1)return-1}else return 1;else return 0;return null},i.basicSort=function(n,t){var r=i.handleNulls(n,t);return r!==null?r:n===t?0:n<t?-1:1},i.sortNumber=function(n,t){var r=i.handleNulls(n,t);return r!==null?r:n-t},i.sortNumberStr=function(n,t){var o=i.handleNulls(n,t),f,e,r,u;return o!==null?o:(r=!1,u=!1,f=parseFloat(n.replace(/[^0-9.-]/g,"")),isNaN(f)&&(r=!0),e=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(e)&&(u=!0),r&&u)?0:r?1:u?-1:f-e},i.sortAlpha=function(n,t){var f=i.handleNulls(n,t),r,u;return f!==null?f:(r=n.toString().toLowerCase(),u=t.toString().toLowerCase(),r===u?0:r<u?-1:1)},i.sortDate=function(n,t){var f=i.handleNulls(n,t),r,u;return f!==null?f:(n instanceof Date||(n=new Date(n)),t instanceof Date||(t=new Date(t)),r=n.getTime(),u=t.getTime(),r===u?0:r<u?-1:1)},i.sortBool=function(n,t){var r=i.handleNulls(n,t);return r!==null?r:n&&t?0:n||t?n?1:-1:0},i.getSortFn=function(n,t){var r;return i.colSortFnCache[t.colDef.name]?r=i.colSortFnCache[t.colDef.name]:t.sortingAlgorithm!==undefined?(r=t.sortingAlgorithm,i.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):(r=i.guessSortFn(t.colDef.type),r?i.colSortFnCache[t.colDef.name]=r:r=i.sortAlpha),r},i.prioritySort=function(n,t){return n.sort.priority!==undefined&&t.sort.priority!==undefined?n.sort.priority<t.sort.priority?-1:n.sort.priority===t.sort.priority?0:1:n.sort.priority||n.sort.priority===0?-1:t.sort.priority||t.sort.priority===0?1:0},i.sort=function(n,r,u){var f,e,o,s;if(r){if(n.options.useExternalSorting||(f=[],u.forEach(function(n){n.sort&&!n.sort.ignoreSort&&n.sort.direction&&(n.sort.direction===t.ASC||n.sort.direction===t.DESC)&&f.push(n)}),f=f.sort(i.prioritySort),f.length===0))return r;s=function(n,t){n.entity.$$uiGridIndex=t};r.forEach(s);var h=r.slice(0),c=function(r,u){for(var s=0,c=0,l,a,v;s===0&&c<f.length;)e=f[c],o=f[c].sort.direction,l=i.getSortFn(n,e,h),a=n.getCellValue(r,e),v=n.getCellValue(u,e),s=l(a,v),c++;return s===0?r.entity.$$uiGridIndex-u.entity.$$uiGridIndex:o===t.ASC?s:0-s},l=r.sort(c),a=function(n){delete n.entity.$$uiGridIndex};return r.forEach(a),l}},i}])}(),function(){function t(n){var t=n;return typeof t.length!="undefined"&&t.length&&(t=n[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function f(n,t,i,r,u){for(var o=i===(r?"border":"content")?4:t==="width"?1:0,f=0,v=["Top","Right","Bottom","Left"],e,s,h,c,l,a;o<4;o+=2)e=v[o],i==="margin"&&(s=parseFloat(u[i+e]),isNaN(s)||(f+=s)),r?(i==="content"&&(h=parseFloat(u["padding"+e]),isNaN(h)||(f-=h)),i!=="margin"&&(c=parseFloat(u["border"+e+"Width"]),isNaN(c)||(f-=c))):(l=parseFloat(u["padding"+e]),isNaN(l)||(f+=l),i!=="padding"&&(a=parseFloat(u["border"+e+"Width"]),isNaN(a)||(f+=a)));return f}function e(n,i,r){var s=!0,u,e=t(n),h=e.boxSizing==="border-box";if(u<=0||u==null){if(u=e[i],(u<0||u==null)&&(u=n.style[i]),o.test(u))return u;s=h&&(!0||u===n.style[i]);u=parseFloat(u)||0}return u+f(n,i,r||(h?"border":"content"),s,e)}function c(n){n=angular.element(n)[0];var i=n.parentElement;return i||(i=document.getElementsByTagName("body")[0]),parseInt(t(i).fontSize)||parseInt(t(n).fontSize)||16}var r=angular.module("ui.grid"),u,n,i;typeof Function.prototype.bind!="function"&&(u=function(){var n=Array.prototype.slice;return function(t){var i=this,r=n.call(arguments,1);return r.length?function(){return arguments.length?i.apply(t,r.concat(n.call(arguments))):i.apply(t,r)}:function(){return arguments.length?i.apply(t,arguments):i.call(t)}}});var o=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),s=/^(block|none|table(?!-c[ea]).+)/,h={position:"absolute",visibility:"hidden",display:"block"};n=["0","0","0"];i="uiGrid-";r.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(r,o,l,a,v,y,p,w,b,k,d){function ut(n,t){var s=angular.element(this),u=0,r=0,i=0,f=0,e,o,h;(t.originalEvent&&(t=t.originalEvent),"detail"in t&&(i=t.detail*-1),"wheelDelta"in t&&(i=t.wheelDelta),"wheelDeltaY"in t&&(i=t.wheelDeltaY),"wheelDeltaX"in t&&(r=t.wheelDeltaX*-1),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=i*-1,i=0),u=i===0?r:i,"deltaY"in t&&(i=t.deltaY*-1,u=i),"deltaX"in t&&(r=t.deltaX,i===0&&(u=r*-1)),i!==0||r!==0)&&(t.deltaMode===1?(e=s.data("mousewheel-line-height"),u*=e,i*=e,r*=e):t.deltaMode===2&&(o=s.data("mousewheel-page-height"),u*=o,i*=o,r*=o),f=Math.max(Math.abs(i),Math.abs(r)),(!nt||f<nt)&&(nt=f,et(t,f)&&(nt/=40)),u=Math[u>=1?"floor":"ceil"](u/nt),r=Math[r>=1?"floor":"ceil"](r/nt),i=Math[i>=1?"floor":"ceil"](i/nt),t.deltaMode=0,h={originalEvent:t,deltaX:r,deltaY:i,deltaFactor:nt,preventDefault:function(){t.preventDefault()}},rt&&clearTimeout(rt),rt=setTimeout(ft,200),n.call(s[0],h))}function ft(){nt=null}function et(n,t){return n.type==="mousewheel"&&t%120==0}var g={augmentWidthOrHeight:f,getStyles:t,createBoundedWrapper:function(n,t){return function(){return t.apply(n,arguments)}},readableColumnName:function(n){return typeof n=="undefined"||n===undefined||n===null?n:(typeof n!="string"&&(n=String(n)),n.replace(/_+/g," ").replace(/^[A-Z]+$/,function(n){return angular.lowercase(angular.uppercase(n.charAt(0))+n.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(n){return angular.uppercase(n.charAt(0))+n.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(n,t){var i=[],r;return!n||typeof n[0]=="undefined"||n[0]===undefined?[]:(angular.isUndefined(t)&&(t=[]),r=n[0],angular.forEach(r,function(n,r){t.indexOf(r)===-1&&i.push({name:r})}),i)},newId:function(){var n=(new Date).getTime();return function(){return n+=1}}(),getTemplate:function(n){if(v.get(n))return g.postProcessTemplate(v.get(n));if(n.hasOwnProperty("then"))return n.then(g.postProcessTemplate);try{if(angular.element(n).length>0)return b.when(n).then(g.postProcessTemplate)}catch(t){}return g.logDebug("fetching url",n),a({method:"GET",url:n}).then(function(t){var i=t.data.trim();return v.put(n,i),i},function(t){throw new Error("Could not get template "+n+": "+t);}).then(g.postProcessTemplate)},postProcessTemplate:function(n){var t=k.startSymbol(),i=k.endSymbol();return(t!=="{{"||i!=="}}")&&(n=n.replace(/\{\{/g,t),n=n.replace(/\}\}/g,i)),b.when(n)},guessType:function(n){var t=typeof n;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(n)?"date":"object"}},elementWidth:function(){},elementHeight:function(){},getScrollbarWidth:function(){var n=document.createElement("div"),i,t,r;return n.style.visibility="hidden",n.style.width="100px",n.style.msOverflowStyle="scrollbar",document.body.appendChild(n),i=n.offsetWidth,n.style.overflow="scroll",t=document.createElement("div"),t.style.width="100%",n.appendChild(t),r=t.offsetWidth,n.parentNode.removeChild(n),i-r},swap:function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f},fakeElement:function(n,t,i){var f,u,r=angular.element(n).clone()[0];for(u in t)r.style[u]=t[u];return angular.element(document.body).append(r),f=i.call(r,r),angular.element(r).remove(),f},normalizeWheelEvent:function(n){var e,f,t=n||window.event,c=[].slice.call(arguments,1),i=0,u=0,r=0,s=0,h=0,o;return t.originalEvent&&(t=t.originalEvent),t.wheelDelta&&(i=t.wheelDelta),t.detail&&(i=t.detail*-1),r=i,t.axis!==undefined&&t.axis===t.HORIZONTAL_AXIS&&(r=0,u=i*-1),t.deltaY&&(r=t.deltaY*-1,i=r),t.deltaX&&(u=t.deltaX,i=u*-1),t.wheelDeltaY!==undefined&&(r=t.wheelDeltaY),t.wheelDeltaX!==undefined&&(u=t.wheelDeltaX),s=Math.abs(i),(!e||s<e)&&(e=s),h=Math.max(Math.abs(r),Math.abs(u)),(!f||h<f)&&(f=h),o=i>0?"floor":"ceil",i=Math[o](i/e),u=Math[o](u/f),r=Math[o](r/f),{delta:i,deltaX:u,deltaY:r}},isTouchEnabled:function(){var n;return("ontouchstart"in o||o.DocumentTouch&&l instanceof DocumentTouch)&&(n=!0),n},isNullOrUndefined:function(n){return n===undefined||n===null?!0:!1},endsWith:function(n,t){return!n||!t||typeof n!="string"?!1:n.indexOf(t,n.length-t.length)!==-1},arrayContainsObjectWithProperty:function(n,t,i){var r=!1;return angular.forEach(n,function(n){n[t]===i&&(r=!0)}),r},numericAndNullSort:function(n,t){return n===null?1:t===null?-1:n===null&&t===null?0:n-t},disableAnimations:function(n){var t;try{t=w.get("$animate");t.enabled(!1,n)}catch(i){}},enableAnimations:function(n){var t;try{return t=w.get("$animate"),t.enabled(!0,n),t}catch(i){}},nextUid:function(){for(var t=n.length,r;t;){if(t--,r=n[t].charCodeAt(0),r===57)return n[t]="A",i+n.join("");if(r===90)n[t]="0";else return n[t]=String.fromCharCode(r+1),i+n.join("")}return n.unshift("0"),i+n.join("")},hashKey:function(n){var i=typeof n,t;return i==="object"&&n!==null?typeof(t=n.$$hashKey)=="function"?t=n.$$hashKey():typeof n.$$hashKey!="undefined"&&n.$$hashKey?t=n.$$hashKey:t===undefined&&(t=n.$$hashKey=g.nextUid()):t=n,i+":"+t},resetUids:function(){n=["0","0","0"]},logError:function(n){d.LOG_ERROR_MESSAGES&&r.error(n)},logWarn:function(n){d.LOG_WARN_MESSAGES&&r.warn(n)},logDebug:function(){d.LOG_DEBUG_MESSAGES&&r.debug.apply(r,arguments)}},tt,rt,nt;return["width","height"].forEach(function(n){var i=angular.uppercase(n.charAt(0))+n.substr(1);g["element"+i]=function(i,r){var u=i,f;return u&&typeof u.length!="undefined"&&u.length&&(u=i[0]),u?(f=t(u),u.offsetWidth===0&&s.test(f.display)?g.swap(u,h,function(){return e(u,n,r)}):e(u,n,r)):null};g["outerElement"+i]=function(n,t){return n?g["element"+i].call(this,n,t?"margin":"border"):null}}),g.closestElm=function(n,t){var r,i;for(typeof n.length!="undefined"&&n.length&&(n=n[0]),["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(n){return typeof document.body[n]=="function"?(r=n,!0):!1});n!==null;){if(i=n.parentElement,i!==null&&i[r](t))return i;n=i}return null},g.type=function(n){var t=Function.prototype.toString.call(n.constructor);return t.match(/function (.*?)\(/)[1]},g.getBorderSize=function(n,i){var u,r;return typeof n.length!="undefined"&&n.length&&(n=n[0]),u=t(n),i=i?"border"+i.charAt(0).toUpperCase()+i.slice(1):"border",i+="Width",r=parseInt(u[i],10),isNaN(r)?0:r},g.detectBrowser=function(){var i=o.navigator.userAgent,n={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var t in n)if(n[t].test(i))return t;return"unknown"},g.rtlScrollType=function it(){if(it.type)return it.type;var n=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A<\/div>')[0],t="reverse";return document.body.appendChild(n),n.scrollLeft>0?t="default":(n.scrollLeft=1,n.scrollLeft===0&&(t="negative")),angular.element(n).remove(),it.type=t,t},g.normalizeScrollLeft=function(n,t){typeof n.length!="undefined"&&n.length&&(n=n[0]);var i=n.scrollLeft;if(t.isRTL())switch(g.rtlScrollType()){case"default":return n.scrollWidth-i-n.clientWidth;case"negative":return Math.abs(i);case"reverse":return i}return i},g.denormalizeScrollLeft=function(n,t,i){if(typeof n.length!="undefined"&&n.length&&(n=n[0]),i.isRTL())switch(g.rtlScrollType()){case"default":var r=n.scrollWidth-n.clientWidth;return r-t;case"negative":return t*-1;case"reverse":return t}return t},g.preEval=function(n){var t=d.BRACKET_REGEXP.exec(n),i,r;return t?(t[1]?g.preEval(t[1]):t[1])+t[2]+(t[3]?g.preEval(t[3]):t[3]):(n=n.replace(d.APOS_REGEXP,"\\'"),i=n.split(d.DOT_REGEXP),r=[i.shift()],angular.forEach(i,function(n){r.push(n.replace(d.FUNC_REGEXP,"']$1"))}),r.join("['"))},g.debounce=function(n,t,i){function o(){f=this;u=arguments;var o=function(){r=null;i||(e=n.apply(f,u))},s=i&&!r;return r&&y.cancel(r),r=y(o,t),s&&(e=n.apply(f,u)),e}var r,u,f,e;return o.cancel=function(){y.cancel(r);r=null},o},g.throttle=function(n,t,i){function o(){u=+new Date;n.apply(f,e);p(function(){r=null},0,1)}i=i||{};var u=0,r=null,f,e;return function(){if(f=this,e=arguments,r===null){var n=+new Date-u;n>t?o():i.trailing&&(r=p(o,t-n,1))}}},g.on={},g.off={},g._events={},g.addOff=function(n){g.off[n]=function(t,i){var r=g._events[n].indexOf(i);r>0&&g._events[n].removeAt(r)}},tt="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],g.on.mousewheel=function(n,t){var i,r,f;if(n&&t)for(i=angular.element(n),i.data("mousewheel-line-height",c(i)),i.data("mousewheel-page-height",g.elementHeight(i)),i.data("mousewheel-callbacks")||i.data("mousewheel-callbacks",{}),r=i.data("mousewheel-callbacks"),r[t]=(Function.prototype.bind||u).call(ut,i[0],t),f=tt.length;f;)i.on(tt[--f],r[t])},g.off.mousewheel=function(n,t){var i=angular.element(this),r=i.data("mousewheel-callbacks"),f=r[t],u;if(f)for(u=tt.length;u;)i.off(tt[--u],f);delete r[t];Object.keys(r).length===0&&(i.removeData("mousewheel-line-height"),i.removeData("mousewheel-page-height"),i.removeData("mousewheel-callbacks"))},g}]);r.filter("px",function(){return function(n){return n.match(/^[\d\.]+$/)?n+"px":n}})}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){var t={aggregate:{label:"položky"},groupPanel:{description:"Přesuntě záhlaví zde pro vytvoření skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji položky:",selectedItems:"Vybrané položky:",totalItems:"Celkem položek:",size:"Velikost strany:",first:"První strana",next:"Další strana",previous:"Předchozí strana",last:"Poslední strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seřadit od A-Z",descending:"Seřadit od Z-A",remove:"Odebrat seřazení"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem řádků: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout v levo",pinRight:"Zamknout v pravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat všechny data do csv",exporterVisibleAsCsv:"Exportovat viditelné data do csv",exporterSelectedAsCsv:"Exportovat vybranné data do csv",exporterAllAsPdf:"Exportovat všechny data do pdf",exporterVisibleAsPdf:"Exportovat viditelné data do pdf",exporterSelectedAsPdf:"Exportovat vybranné data do pdf"},importer:{noHeaders:"Názvy sloupců se nepodařilo získat, obsahuje soubor záhlaví?",noObjects:"Data se nepodařilo zpracovat, obsahuje soubor řádky mimo záhlaví?",invalidCsv:"Soubor nelze zpracovat, jedná se CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor musí obsahovat json. Ukončuji.."},pagination:{sizes:"položek na stránku",totalItems:"položek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupení",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return n.add("cs",t),n.add("cz",t),n.add("cs-cz",t),n.add("cs-CZ",t),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},column:{hide:"Skjul kolonne"},aggregation:{count:"samlede rækker: ",sum:"smalede: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("de",{aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",remove:"Sortierung zurücksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lösen"},gridMenu:{columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als CSV exportieren"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei außer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gültige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthält sie gültiges JSON?",jsonNotArray:"Die importierte JSON-Datei muß ein Array enthalten. Breche Import ab."},pagination:{sizes:"Einträge pro Seite",totalItems:"Einträge"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("en",{aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{sizes:"items per page",totalItems:"items"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y suéltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrados:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijación"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selección como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selección como pdf"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, ¿tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, ¿contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, ¿es un CSV válido?",invalidJson:"No fue posible procesar el archivo, ¿es un Json válido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("fa",{aggregate:{label:"موردها"},groupPanel:{description:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز."},search:{placeholder:"جستجو...",showingItems:"نمایش موردها:",selectedItems:"موردهای انتخاب‌شده:",totalItems:"همهٔ موردها:",size:"اندازهٔ صفحه:",first:"صفحهٔ اول",next:"صفحهٔ بعد",previous:"صفحهٔ قبل",last:"آخرین صفحه"},menu:{text:"انتخاب ستون‌ها:"},column:{hide:"ستون پنهان کن"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("fr",{aggregate:{label:"éléments"},groupPanel:{description:"Faites glisser une en-tête de colonne ici pour créer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des éléments :",selectedItems:"Éléments sélectionnés :",totalItems:"Nombre total d'éléments:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre décroissant",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",unpin:"Détacher"},gridMenu:{columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les données en CSV",exporterVisibleAsCsv:"Exporter les données visibles en CSV",exporterSelectedAsCsv:"Exporter les données sélectionnées en CSV",exporterAllAsPdf:"Exporter toutes les données en PDF",exporterVisibleAsPdf:"Exporter les données visibles en PDF",exporterSelectedAsPdf:"Exporter les données sélectionnées en PDF"},importer:{noHeaders:"Impossible de déterminer le nom des colonnes, le fichier possède-t-il une en-tête ?",noObjects:"Aucun objet trouvé, le fichier possède-t-il des données autres que l'en-tête ?",invalidCsv:"Le fichier n'a pas pu être traité, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu être traité, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON importé doit contenir un tableau, abandon."},pagination:{sizes:"éléments par page",totalItems:"éléments"},grouping:{group:"Grouper",ungroup:"Dégrouper",aggregate_count:"Agg: Compte",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("hy",{aggregate:{label:"տվյալներ"},groupPanel:{description:"Ըստ սյան խմբավորելու համար քաշեք և գցեք վերնագիրն այստեղ։"},search:{placeholder:"Փնտրում...",showingItems:"Ցուցադրված տվյալներ՝",selectedItems:"Ընտրված:",totalItems:"Ընդամենը՝",size:"Տողերի քանակը էջում՝",first:"Առաջին էջ",next:"Հաջորդ էջ",previous:"Նախորդ էջ",last:"Վերջին էջ"},menu:{text:"Ընտրել սյուները:"},sort:{ascending:"Աճման կարգով",descending:"Նվազման կարգով",remove:"Հանել "},column:{hide:"Թաքցնել սյունը"},aggregation:{count:"ընդամենը տող՝ ",sum:"ընդամենը՝ ",avg:"միջին՝ ",min:"մին՝ ",max:"մաքս՝ "},pinning:{pinLeft:"Կպցնել ձախ կողմում",pinRight:"Կպցնել աջ կողմում",unpin:"Արձակել"},gridMenu:{columns:"Սյուներ:",importerTitle:"Ներմուծել ֆայլ",exporterAllAsCsv:"Արտահանել ամբողջը CSV",exporterVisibleAsCsv:"Արտահանել երևացող տվյալները CSV",exporterSelectedAsCsv:"Արտահանել ընտրված տվյալները CSV",exporterAllAsPdf:"Արտահանել PDF",exporterVisibleAsPdf:"Արտահանել երևացող տվյալները PDF",exporterSelectedAsPdf:"Արտահանել ընտրված տվյալները PDF"},importer:{noHeaders:"Հնարավոր չեղավ որոշել սյան վերնագրերը։ Արդյո՞ք ֆայլը ունի վերնագրեր։",noObjects:"Հնարավոր չեղավ կարդալ տվյալները։ Արդյո՞ք ֆայլում կան տվյալներ։",invalidCsv:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր CSV է։",invalidJson:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր Json է։",jsonNotArray:"Ներմուծված json ֆայլը պետք է պարունակի զանգված, կասեցվում է։"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("ja",{aggregate:{label:"項目"},groupPanel:{description:"ここに列ヘッダをドラッグアンドドロップして、その列でグループ化します。"},search:{placeholder:"検索...",showingItems:"表示中の項目:",selectedItems:"選択した項目:",totalItems:"項目の総数:",size:"ページサイズ:",first:"最初のページ",next:"次のページ",previous:"前のページ",last:"前のページ"},menu:{text:"列の選択:"},sort:{ascending:"昇順に並べ替え",descending:"降順に並べ替え",remove:"並べ替えの解除"},column:{hide:"列の非表示"},aggregation:{count:"合計行数: ",sum:"合計: ",avg:"平均: ",min:"最小: ",max:"最大: "},pinning:{pinLeft:"左に固定",pinRight:"右に固定",unpin:"固定解除"},gridMenu:{columns:"列:",importerTitle:"ファイルのインポート",exporterAllAsCsv:"すべてのデータをCSV形式でエクスポート",exporterVisibleAsCsv:"表示中のデータをCSV形式でエクスポート",exporterSelectedAsCsv:"選択したデータをCSV形式でエクスポート",exporterAllAsPdf:"すべてのデータをPDF形式でエクスポート",exporterVisibleAsPdf:"表示中のデータをPDF形式でエクスポート",exporterSelectedAsPdf:"選択したデータをPDF形式でエクスポート"},importer:{noHeaders:"列名を取得できません。ファイルにヘッダが含まれていることを確認してください。",noObjects:"オブジェクトを取得できません。ファイルにヘッダ以外のデータが含まれていることを確認してください。",invalidCsv:"ファイルを処理できません。ファイルが有効なCSV形式であることを確認してください。",invalidJson:"ファイルを処理できません。ファイルが有効なJSON形式であることを確認してください。",jsonNotArray:"インポートしたJSONファイルには配列が含まれている必要があります。処理を中止します。"},pagination:{sizes:"項目/ページ",totalItems:"項目"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("ko",{aggregate:{label:"아이템"},groupPanel:{description:"컬럼으로 그룹핑하기 위해서는 컬럼 헤더를 끌어 떨어뜨려 주세요."},search:{placeholder:"검색...",showingItems:"항목 보여주기:",selectedItems:"선택 항목:",totalItems:"전체 항목:",size:"페이지 크기:",first:"첫번째 페이지",next:"다음 페이지",previous:"이전 페이지",last:"마지막 페이지"},menu:{text:"컬럼을 선택하세요:"},sort:{ascending:"오름차순 정렬",descending:"내림차순 정렬",remove:"소팅 제거"},column:{hide:"컬럼 제거"},aggregation:{count:"전체 갯수: ",sum:"전체: ",avg:"평균: ",min:"최소: ",max:"최대: "},pinning:{pinLeft:"왼쪽 핀",pinRight:"오른쪽 핀",unpin:"핀 제거"},gridMenu:{columns:"컬럼:",importerTitle:"파일 가져오기",exporterAllAsCsv:"csv로 모든 데이터 내보내기",exporterVisibleAsCsv:"csv로 보이는 데이터 내보내기",exporterSelectedAsCsv:"csv로 선택된 데이터 내보내기",exporterAllAsPdf:"pdf로 모든 데이터 내보내기",exporterVisibleAsPdf:"pdf로 보이는 데이터 내보내기",exporterSelectedAsPdf:"pdf로 선택 데이터 내보내기"},importer:{noHeaders:"컬럼명이 지정되어 있지 않습니다. 파일에 헤더가 명시되어 있는지 확인해 주세요.",noObjects:"데이터가 지정되어 있지 않습니다. 데이터가 파일에 있는지 확인해 주세요.",invalidCsv:"파일을 처리할 수 없습니다. 올바른 csv인지 확인해 주세요.",invalidJson:"파일을 처리할 수 없습니다. 올바른 json인지 확인해 주세요.",jsonNotArray:"json 파일은 배열을 포함해야 합니다."},pagination:{sizes:"페이지당 항목",totalItems:"전체 항목"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("pt-br",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{sizes:"itens por página",totalItems:"itens"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("pt",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O ficheiro tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no ficheiro, além dos cabeçalhos?",invalidCsv:"Ficheiro não pode ser processado. É um CSV válido?",invalidJson:"Ficheiro não pode ser processado. É um Json válido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{sizes:"itens por página",totalItems:"itens"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("ru",{aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",remove:"Убрать сортировку"},column:{hide:"спрятать столбец"},aggregation:{count:"всего строк: ",sum:"итого: ",avg:"среднее: ",min:"мин: ",max:"макс: "},gridMenu:{columns:"Столбцы:",importerTitle:"Import file",exporterAllAsCsv:"Экспортировать всё в CSV",exporterVisibleAsCsv:"Экспортировать видимые данные в CSV",exporterSelectedAsCsv:"Экспортировать выбранные данные в CSV",exporterAllAsPdf:"Экспортировать всё в PDF",exporterVisibleAsPdf:"Экспортировать видимые данные в PDF",exporterSelectedAsPdf:"Экспортировать выбранные данные в PDF"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),n}])}])}(),function(){var t=["uiT","uiTranslate"],n=angular.module("ui.grid.i18n"),i,r,u;n.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"});n.service("i18nService",["$log","i18nConstants","$rootScope",function(n,t,i){var r={_langs:{},current:null,get:function(n){return this._langs[n.toLowerCase()]},add:function(n,t){var i=n.toLowerCase();this._langs[i]||(this._langs[i]={});angular.extend(this._langs[i],t)},getAllLangs:function(){var n=[],t;if(!this._langs)return n;for(t in this._langs)n.push(t);return n},setCurrent:function(n){this.current=n.toLowerCase()},getCurrentLang:function(){return this.current}},u={add:function(n,t){typeof n=="object"?angular.forEach(n,function(n){n&&r.add(n,t)}):r.add(n,t)},getAllLangs:function(){return r.getAllLangs()},get:function(n){var t=n?n:u.getCurrentLang();return r.get(t)},getSafeText:function(n,i){var h=i?i:u.getCurrentLang(),s=r.get(h),o,f,e;if(!s)return t.MISSING;for(o=n.split("."),f=s,e=0;e<o.length;++e){if(f[o[e]]===undefined||f[o[e]]===null)return t.MISSING;f=f[o[e]]}return f},setCurrentLang:function(n){n&&(r.setCurrent(n),i.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var n=r.getCurrentLang();return n||(n=t.DEFAULT_LANG,r.setCurrent(n)),n}};return u}]);i=function(n,t){return{compile:function(){return{pre:function(i,r,u){var f=t.LOCALE_DIRECTIVE_ALIAS,e=i.$eval(u[f]);e?i.$watch(u[f],function(){n.setCurrentLang(e)}):u.$$observers&&u.$observe(f,function(){n.setCurrentLang(u[f]||t.DEFAULT_LANG)})}}}}};n.directive("uiI18n",["i18nService","i18nConstants",i]);r=function(n,i,r){return{restrict:"EA",compile:function(){return{pre:function(u,f,e){var o=t[0],s=t[1],a=e[o]||e[s]||f.html(),h=r.MISSING+a,c,v,l,y;e.$$observers&&(v=e[o]?o:s,c=e.$observe(v,function(t){t&&f.html(n(t)(i.getCurrentLang())||h)}));l=n(a);y=u.$on(r.UPDATE_EVENT,function(){c?c(e[o]||e[s]):f.html(l(i.get())||h)});u.$on("$destroy",y);f.html(l(i.get())||h)}}}}};angular.forEach(t,function(t){n.directive(t,["$parse","i18nService","i18nConstants",r])});u=function(n,t,i){return function(r){var u=n(r);return u(t.get())||i.MISSING+r}};angular.forEach(["t","uiTranslate"],function(t){n.filter(t,["$parse","i18nService","i18nConstants",u])})}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("zh-cn",{aggregate:{label:"行"},groupPanel:{description:"拖曳表头到此处进行分组"},search:{placeholder:"查找",showingItems:"已显示行数：",selectedItems:"已选择行数：",totalItems:"总行数：",size:"每页显示行数：",first:"首页",next:"下一页",previous:"上一页",last:"末页"},menu:{text:"选择列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隐藏列"},aggregation:{count:"计数：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左侧固定",pinRight:"右侧固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"导入文件",exporterAllAsCsv:"导出全部数据到CSV",exporterVisibleAsCsv:"导出可见数据到CSV",exporterSelectedAsCsv:"导出已选数据到CSV",exporterAllAsPdf:"导出全部数据到PDF",exporterVisibleAsPdf:"导出可见数据到PDF",exporterSelectedAsPdf:"导出已选数据到PDF"},importer:{noHeaders:"无法获取列名，确定文件包含表头？",noObjects:"无法获取数据，确定文件包含数据？",invalidCsv:"无法处理文件，确定是合法的CSV文件？",invalidJson:"无法处理文件，确定是合法的JSON文件？",jsonNotArray:"导入的文件不是JSON数组！"},pagination:{sizes:"行每页",totalItems:"行"}}),n}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(n){n.decorator("i18nService",["$delegate",function(n){return n.add("zh-tw",{aggregate:{label:"行"},groupPanel:{description:"拖曳表頭到此處進行分組"},search:{placeholder:"查找",showingItems:"已顯示行數：",selectedItems:"已選擇行數：",totalItems:"總行數：",size:"每頁顯示行數：",first:"首頁",next:"下壹頁",previous:"上壹頁",last:"末頁"},menu:{text:"選擇列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隱藏列"},aggregation:{count:"計數：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左側固定",pinRight:"右側固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"導入文件",exporterAllAsCsv:"導出全部數據到CSV",exporterVisibleAsCsv:"導出可見數據到CSV",exporterSelectedAsCsv:"導出已選數據到CSV",exporterAllAsPdf:"導出全部數據到PDF",exporterVisibleAsPdf:"導出可見數據到PDF",exporterSelectedAsPdf:"導出已選數據到PDF"},importer:{noHeaders:"無法獲取列名，確定文件包含表頭？",noObjects:"無法獲取數據，確定文件包含數據？",invalidCsv:"無法處理文件，確定是合法的CSV文件？",invalidJson:"無法處理文件，確定是合法的JSON文件？",jsonNotArray:"導入的文件不是JSON數組！"},pagination:{sizes:"行每頁",totalItems:"行"}}),n}])}])}(),function(){"use strict";var n=angular.module("ui.grid.autoResize",["ui.grid"]);n.directive("uiGridAutoResize",["$timeout","gridUtil",function(n,t){return{require:"uiGrid",scope:!1,link:function(n,i,r,u){function h(){s=t.elementHeight(i);o=t.elementWidth(i)}function e(){clearTimeout(f);f=setTimeout(function(){var r=t.elementHeight(i),f=t.elementWidth(i);r!==s||f!==o?(u.grid.gridHeight=r,u.grid.gridWidth=f,n.$apply(function(){u.grid.refresh().then(function(){h();e()})})):e()},250)}var o,s,f;h();e();n.$on("$destroy",function(){clearTimeout(f)})}}}])}(),function(){"use strict";function n(n,t){this.row=n;this.col=t}var t=angular.module("ui.grid.cellNav",["ui.grid"]);t.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}});t.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q",function(t,i,r){var u=function(n,t,i,r){this.rows=n.visibleRowCache;this.columns=t.visibleColumnCache;this.leftColumns=i?i.visibleColumnCache:[];this.rightColumns=r?r.visibleColumnCache:[];this.bodyContainer=n};return u.prototype.getFocusableCols=function(){var n=this.leftColumns.concat(this.columns,this.rightColumns);return n.filter(function(n){return n.colDef.allowCellFocus})},u.prototype.getFocusableRows=function(){return this.rows.filter(function(n){return n.allowCellFocus!==!1})},u.prototype.getNextRowCol=function(n,t,i){switch(n){case r.direction.LEFT:return this.getRowColLeft(t,i);case r.direction.RIGHT:return this.getRowColRight(t,i);case r.direction.UP:return this.getRowColUp(t,i);case r.direction.DOWN:return this.getRowColDown(t,i);case r.direction.PG_UP:return this.getRowColPageUp(t,i);case r.direction.PG_DOWN:return this.getRowColPageDown(t,i)}},u.prototype.initializeSelection=function(){var t=this.getFocusableCols(),i=this.getFocusableRows(),r,u;return t.length===0||i.length===0?null:(r=0,u=0,new n(i[0],t[0]))},u.prototype.getRowColLeft=function(t,i){var r=this.getFocusableCols(),e=this.getFocusableRows(),u=r.indexOf(i),o=e.indexOf(t),f;return u===-1&&(u=1),f=u===0?r.length-1:u-1,f>u?o===0?new n(t,r[f]):new n(e[o-1],r[f]):new n(t,r[f])},u.prototype.getRowColRight=function(t,i){var r=this.getFocusableCols(),e=this.getFocusableRows(),u=r.indexOf(i),o=e.indexOf(t),f;return u===-1&&(u=0),f=u===r.length-1?0:u+1,f<u?o===e.length-1?new n(t,r[f]):new n(e[o+1],r[f]):new n(t,r[f])},u.prototype.getRowColDown=function(t,i){var u=this.getFocusableCols(),f=this.getFocusableRows(),r=u.indexOf(i),e=f.indexOf(t);return r===-1&&(r=0),e===f.length-1?new n(t,u[r]):new n(f[e+1],u[r])},u.prototype.getRowColPageDown=function(t,i){var f=this.getFocusableCols(),r=this.getFocusableRows(),u=f.indexOf(i),o=r.indexOf(t),e;return u===-1&&(u=0),e=this.bodyContainer.minRowsToRender(),o>=r.length-e?new n(r[r.length-1],f[u]):new n(r[o+e],f[u])},u.prototype.getRowColUp=function(t,i){var u=this.getFocusableCols(),f=this.getFocusableRows(),r=u.indexOf(i),e=f.indexOf(t);return r===-1&&(r=0),e===0?new n(t,u[r]):new n(f[e-1],u[r])},u.prototype.getRowColPageUp=function(t,i){var u=this.getFocusableCols(),f=this.getFocusableRows(),r=u.indexOf(i),o=f.indexOf(t),e;return r===-1&&(r=0),e=this.bodyContainer.minRowsToRender(),o-e<0?new n(f[0],u[r]):new n(f[o-e],u[r])},u}]);t.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","ScrollEvent",function(n,t,i,r,u){var f={initializeGrid:function(n){n.registerColumnBuilder(f.cellNavColumnBuilder);n.cellNav={};n.cellNav.lastRowCol=null;n.cellNav.focusedCells=[];f.defaultGridOptions(n.options);var t={events:{cellNav:{navigate:function(){},viewPortKeyDown:function(){}}},methods:{cellNav:{scrollToFocus:function(t,i){return f.scrollToFocus(n,t,i)},getFocusedCell:function(){return n.cellNav.lastRowCol},getCurrentSelection:function(){return n.cellNav.focusedCells},rowColSelectIndex:function(t){for(var r=-1,i=0;i<n.cellNav.focusedCells.length;i++)if(n.cellNav.focusedCells[i].col.uid===t.col.uid&&n.cellNav.focusedCells[i].row.uid===t.row.uid){r=i;break}return r}}}};n.api.registerEventsFromObject(t.events);n.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(n){n.modifierKeysToMultiSelectCells=n.modifierKeysToMultiSelectCells===!0},decorateRenderContainers:function(n){var t=n.hasRightContainer()?n.renderContainers.right:null,i=n.hasLeftContainer()?n.renderContainers.left:null;i!==null&&(n.renderContainers.left.cellNav=new u(n.renderContainers.body,i,t,n.renderContainers.body));t!==null&&(n.renderContainers.right.cellNav=new u(n.renderContainers.body,t,n.renderContainers.body,i));n.renderContainers.body.cellNav=new u(n.renderContainers.body,n.renderContainers.body,i,t)},getDirection:function(n){return n.keyCode===t.keymap.LEFT||n.keyCode===t.keymap.TAB&&n.shiftKey?i.direction.LEFT:n.keyCode===t.keymap.RIGHT||n.keyCode===t.keymap.TAB?i.direction.RIGHT:n.keyCode===t.keymap.UP||n.keyCode===t.keymap.ENTER&&n.shiftKey?i.direction.UP:n.keyCode===t.keymap.PG_UP?i.direction.PG_UP:n.keyCode===t.keymap.DOWN||n.keyCode===t.keymap.ENTER?i.direction.DOWN:n.keyCode===t.keymap.PG_DOWN?i.direction.PG_DOWN:null},cellNavColumnBuilder:function(n){return n.allowCellFocus=n.allowCellFocus===undefined?!0:n.allowCellFocus,r.all([])},scrollToFocus:function(n,t,i){var r=null,u=null;return typeof t!="undefined"&&t!==null&&(r=n.getRow(t)),typeof i!="undefined"&&i!==null&&(u=n.getColumn(i.name?i.name:i.field)),n.api.core.scrollToIfNecessary(r,u).then(function(){var t={row:r,col:u};r!==null&&u!==null&&n.cellNav.broadcastCellNav(t)})},getLeftWidth:function(n,t){var r=0,i,u;return t?(i=n.renderContainers.body.visibleColumnCache.indexOf(t),n.renderContainers.body.visibleColumnCache.forEach(function(n,t){t<i&&(r+=n.drawnWidth)}),u=i===0?0:(i+1)/n.renderContainers.body.visibleColumnCache.length,r+=t.drawnWidth*u):r}};return f}]);t.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","$timeout",function(t,i,r,u){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(t,f,e,o){var h=t,s=o.grid;i.initializeGrid(s);o.cellNav={};o.cellNav.getActiveCell=function(){var n=f[0].getElementsByClassName("ui-grid-cell-focus");return n.length>0?n[0]:undefined};o.cellNav.broadcastCellNav=s.cellNav.broadcastCellNav=function(n,t){t=!(t===undefined||!t);o.cellNav.broadcastFocus(n,t);h.$broadcast(r.CELL_NAV_EVENT,n,t)};o.cellNav.clearFocus=s.cellNav.clearFocus=function(){h.$broadcast(r.CELL_NAV_EVENT,{eventType:r.EVENT_TYPE.CLEAR})};o.cellNav.broadcastFocus=function(t,i){var u;i=!(i===undefined||!i);var f=t.row,e=t.col,r=o.grid.api.cellNav.rowColSelectIndex(t);s.cellNav.lastRowCol===null||r===-1?(u=new n(f,e),s.api.cellNav.raise.navigate(u,s.cellNav.lastRowCol),s.cellNav.lastRowCol=u,o.grid.options.modifierKeysToMultiSelectCells&&i?s.cellNav.focusedCells.push(t):s.cellNav.focusedCells=[t]):s.options.modifierKeysToMultiSelectCells&&i&&r>=0&&s.cellNav.focusedCells.splice(r,1)};o.cellNav.handleKeyDown=function(n){var e=i.getDirection(n),h,f;if(e===null)return null;if(h="body",n.uiGridTargetRenderContainerId&&(h=n.uiGridTargetRenderContainerId),f=o.grid.api.cellNav.getFocusedCell(),f){var t=o.grid.renderContainers[h].cellNav.getNextRowCol(e,f.row,f.col),c=o.grid.renderContainers[h].cellNav.getFocusableCols(),l=o.grid.api.cellNav.rowColSelectIndex(t);return e===r.direction.LEFT&&t.col===c[c.length-1]&&t.row===f.row&&n.keyCode===u.keymap.TAB&&n.shiftKey?(s.cellNav.focusedCells.splice(l,1),o.cellNav.clearFocus(),!0):e===r.direction.RIGHT&&t.col===c[0]&&t.row===f.row&&n.keyCode===u.keymap.TAB&&!n.shiftKey?(s.cellNav.focusedCells.splice(l,1),o.cellNav.clearFocus(),!0):(s.scrollToIfNecessary(t.row,t.col).then(function(){o.cellNav.broadcastCellNav(t)}),n.stopPropagation(),n.preventDefault(),!1)}}},post:function(){}}}}}]);t.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(n,t,i,r,u,f,e){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(n,t,i,r){var o=r[0],l=r[1],s,c,h;if(o.grid.api.cellNav&&(s=l.containerId,c=o.grid,s==="body")){u.decorateRenderContainers(c);h=f('<div class="ui-grid-focuser" tabindex="0"><\/div>')(n);t.append(h);o.focus=function(){h[0].focus();h.on("focus",function(n){n.uiGridTargetRenderContainerId=s;var t=o.grid.api.cellNav.getFocusedCell();t===null&&(t=o.grid.renderContainers[s].cellNav.getNextRowCol(e.direction.DOWN,null,null),t.row&&t.col&&o.cellNav.broadcastCellNav(t))})};h.on("keydown",function(n){n.uiGridTargetRenderContainerId=s;var t=o.grid.api.cellNav.getFocusedCell(),i=o.cellNav.handleKeyDown(n);i===null&&o.grid.api.cellNav.raise.viewPortKeyDown(n,t)})}}}}}}]);t.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(){},post:function(n,t,i,r){var u=r[0],e=r[1],o,f;u.grid.api.cellNav&&(o=e.containerId,o==="body")&&(f=u.grid,u.focus(),f.api.core.on.scrollBegin(n,function(){var n=u.grid.api.cellNav.getFocusedCell(),i;n!=null&&e.colContainer.containsColumn(n.col)&&(i=t[0].getElementsByClassName("ui-grid-cell-focus"),Array.prototype.forEach.call(i,function(n){angular.element(n).removeClass("ui-grid-cell-focus")}))}),f.api.core.on.scrollEnd(n,function(){var n=u.grid.api.cellNav.getFocusedCell();n!=null&&e.colContainer.containsColumn(n.col)&&u.cellNav.broadcastCellNav(n)}),f.api.cellNav.on.navigate(n,function(){u.focus()}))}}}}}]);t.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants",function(t,i,r,u,f){return{priority:-150,restrict:"A",require:"^uiGrid",scope:!1,link:function(t,i,r,u){function o(){var n=i.find("div");n.addClass("ui-grid-cell-focus")}function e(){var n=i.find("div");n.removeClass("ui-grid-cell-focus")}if(u.grid.api.cellNav&&t.col.colDef.allowCellFocus){i.find("div").on("click",function(i){u.cellNav.broadcastCellNav(new n(t.row,t.col),i.ctrlKey||i.metaKey);i.stopPropagation();t.$apply()});i.find("div").on("focus",function(i){u.cellNav.broadcastCellNav(new n(t.row,t.col),i.ctrlKey||i.metaKey)});t.$on(f.CELL_NAV_EVENT,function(n,i,r){if(n.eventType===f.EVENT_TYPE.CLEAR){e();return}i.row===t.row&&i.col===t.col?u.grid.options.modifierKeysToMultiSelectCells&&r&&u.grid.api.cellNav.rowColSelectIndex(i)===-1?e():o():u.grid.options.modifierKeysToMultiSelectCells&&r||e()});t.$on("$destroy",function(){i.find("div").off("click")})}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.edit",["ui.grid"]);n.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}});n.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(n,t,i){var r={initializeGrid:function(n){r.defaultGridOptions(n.options);n.registerColumnBuilder(r.editColumnBuilder);n.edit={};var t={events:{edit:{afterCellEdit:function(){},beginCellEdit:function(){},cancelCellEdit:function(){}}},methods:{edit:{}}};n.api.registerEventsFromObject(t.events)},defaultGridOptions:function(n){n.cellEditableCondition=n.cellEditableCondition===undefined?!0:n.cellEditableCondition;n.enableCellEditOnFocus=n.enableCellEditOnFocus===undefined?!1:n.enableCellEditOnFocus},editColumnBuilder:function(t,r,u){var f=[];return t.enableCellEdit=t.enableCellEdit===undefined?u.enableCellEdit===undefined?t.type!=="object":u.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=t.cellEditableCondition===undefined?u.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||u.editableCellTemplate||"ui-grid/cellEditor",f.push(i.getTemplate(t.editableCellTemplate).then(function(n){r.editableCellTemplate=n},function(){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'");}))),t.enableCellEditOnFocus=t.enableCellEditOnFocus===undefined?u.enableCellEditOnFocus:t.enableCellEditOnFocus,n.all(f)},isStartEditKey:function(n){return n.metaKey||n.keyCode===t.keymap.ESC||n.keyCode===t.keymap.SHIFT||n.keyCode===t.keymap.CTRL||n.keyCode===t.keymap.ALT||n.keyCode===t.keymap.WIN||n.keyCode===t.keymap.CAPSLOCK||n.keyCode===t.keymap.LEFT||n.keyCode===t.keymap.TAB&&n.shiftKey||n.keyCode===t.keymap.RIGHT||n.keyCode===t.keymap.TAB||n.keyCode===t.keymap.UP||n.keyCode===t.keymap.ENTER&&n.shiftKey||n.keyCode===t.keymap.DOWN||n.keyCode===t.keymap.ENTER?!1:!0}};return r}]);n.directive("uiGridEdit",["gridUtil","uiGridEditService",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,u){t.initializeGrid(u.grid)},post:function(){}}}}}]);n.directive("uiGridViewport",["uiGridEditConstants",function(n){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(t,i,r,u){var f=u[0],e;f.grid.api.edit&&f.grid.api.cellNav&&(e=u[1].containerId,e==="body")&&(t.$on(n.events.CANCEL_CELL_EDIT,function(){f.focus()}),t.$on(n.events.END_CELL_EDIT,function(){f.focus()}))}}}}}]);n.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope",function(n,t,i,r,u,f,e,o,s){var h=500,c;return t.has("uiGridCellNavService")&&(c=t.get("uiGridCellNavService")),{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(t,c,l,a){function ut(){c.on("dblclick",w);c.on("touchstart",ft);a&&a.grid.api.cellNav&&(g=a.grid.api.cellNav.on.navigate(t,function(n){t.col.colDef.enableCellEditOnFocus&&n.row===t.row&&n.col===t.col&&i(function(){w()})}))}function ft(n){typeof n.originalEvent!="undefined"&&n.originalEvent!==undefined&&(n=n.originalEvent);c.on("touchend",tt);k=i(function(){},h);k.then(function(){setTimeout(w,0);c.off("touchend",tt)})}function tt(){i.cancel(k);c.off("touchend",tt)}function et(){c.off("dblclick",w);c.off("keydown",ot);c.off("touchstart",ft);g()}function ot(n){o.isStartEditKey(n)&&w(n)}function st(n,i){return!i.isSaving&&(angular.isFunction(n.colDef.cellEditableCondition)?n.colDef.cellEditableCondition(t):n.colDef.cellEditableCondition)}function w(i){var g,o,h,l;if(!y&&st(t.col,t.row)){p=e(t.row.getQualifiedColField(t.col));b=p(t);v=t.col.editableCellTemplate;v=t.col.colDef.editModelField?v.replace(r.MODEL_COL_FIELD,f.preEval("row.entity."+t.col.colDef.editModelField)):v.replace(r.MODEL_COL_FIELD,t.row.getQualifiedColField(t.col));v=v.replace(r.COL_FIELD,"grid.getCellValue(row, col)");g=t.col.colDef.editDropdownFilter?"|"+t.col.colDef.editDropdownFilter:"";v=v.replace(r.CUSTOM_FILTERS,g);o="text";switch(t.col.colDef.type){case"boolean":o="checkbox";break;case"number":o="number";break;case"date":o="date"}v=v.replace("INPUT_TYPE",o);h=t.col.colDef.editDropdownRowEntityOptionsArrayPath;t.editDropdownOptionsArray=h?ct(t.row.entity,h):t.col.colDef.editDropdownOptionsArray;t.editDropdownIdLabel=t.col.colDef.editDropdownIdLabel?t.col.colDef.editDropdownIdLabel:"id";t.editDropdownValueLabel=t.col.colDef.editDropdownValueLabel?t.col.colDef.editDropdownValueLabel:"value";l=function(){var i,r;y=!0;et();i=angular.element(v);c.append(i);d=t.$new();n(i)(d);r=angular.element(c.children()[0]);r.addClass("ui-grid-cell-contents-hidden")};s.$$phase?l():t.$apply(l);var a=t.col.grid.api.core.on.scrollBegin(t,function(){it(!0);t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,p(t),b);a();w();k()}),w=t.$on(u.events.END_CELL_EDIT,function(n,i){it(i);t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,p(t),b);w();a();k()}),k=t.$on(u.events.CANCEL_CELL_EDIT,function(){ht();k();a();w()});t.$broadcast(u.events.BEGIN_CELL_EDIT,i);t.grid.api.edit.raise.beginCellEdit(t.row.entity,t.col.colDef,i)}}function it(){if(t.grid.disableScrolling=!1,y){var n=angular.element(c.children()[0]);d.$destroy();angular.element(c.children()[1]).remove();n.removeClass("ui-grid-cell-contents-hidden");y=!1;ut();t.grid.api.core.notifyDataChange(r.dataChange.EDIT)}}function ht(){(t.grid.disableScrolling=!1,y)&&(p.assign(t,b),t.$apply(),t.grid.api.edit.raise.cancelCellEdit(t.row.entity,t.col.colDef),it(!0))}function ct(n,t){var i,r;for(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),i=t.split(".");i.length;)if(r=i.shift(),r in n)n=n[r];else return;return n}var v,b,y=!1,p,k,d,g,nt,rt;t.col.colDef.enableCellEdit&&(g=function(){},a&&a.grid.api.cellNav&&a.grid.api.cellNav.on.viewPortKeyDown(t,function(n,i){i!==null&&(i.row!==t.row||i.col!==t.col||t.col.colDef.enableCellEditOnFocus||(ot(n),a.grid.api.core.scrollToIfNecessary(i.row,i.col)))}),nt=function(){t.col.colDef.enableCellEdit&&t.row.enableCellEdit!==!1?ut():et()},nt(),rt=t.$watch("row",nt),t.$on("$destroy",rt))}}}]);n.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(n,t,i,r){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(){},post:function(n,u,f,e){var o,s;e[0]&&(o=e[0]);e[1]&&(s=e[1]);n.$on(i.events.BEGIN_CELL_EDIT,function(){u[0].focus();u[0].select();u.on("blur",function(t){n.stopEdit(t)})});n.deepEdit=!1;n.stopEdit=function(t){n.inputForm&&!n.inputForm.$valid?(t.stopPropagation(),n.$emit(i.events.CANCEL_CELL_EDIT)):n.$emit(i.events.END_CELL_EDIT);n.deepEdit=!1};u.on("click",function(){u[0].type!=="checkbox"&&(n.deepEdit=!0,r(function(){n.grid.disableScrolling=!0}))});u.on("keydown",function(r){switch(r.keyCode){case t.keymap.ESC:r.stopPropagation();n.$emit(i.events.CANCEL_CELL_EDIT)}if(n.deepEdit&&(r.keyCode===t.keymap.LEFT||r.keyCode===t.keymap.RIGHT||r.keyCode===t.keymap.UP||r.keyCode===t.keymap.DOWN))r.stopPropagation();else if(o&&o.grid.api.cellNav)r.uiGridTargetRenderContainerId=s.containerId,o.cellNav.handleKeyDown(r)!==null&&n.stopEdit(r);else switch(r.keyCode){case t.keymap.ENTER:case t.keymap.TAB:r.stopPropagation();r.preventDefault();n.stopEdit(r)}return!0})}}}}}]);n.directive("uiGridEditor",["$filter",function(n){function t(n){var t;if(typeof n=="undefined"||n===""||(t=n.split("-"),t.length!==3))return null;var i=parseInt(t[0],10),r=parseInt(t[1],10),u=parseInt(t[2],10);return r<1||i<1||u<1?null:new Date(i,r-1,u)}return{priority:-100,require:"?ngModel",link:function(i,r,u,f){angular.version.minor===2&&u.type&&u.type==="date"&&f&&(f.$formatters.push(function(t){return f.$setValidity(null,!t||!isNaN(t.getTime())),n("date")(t,"yyyy-MM-dd")}),f.$parsers.push(function(n){if(n&&n.length>0){var i=t(n);return f.$setValidity(null,i&&!isNaN(i.getTime())),i}return f.$setValidity(null,!0),null}))}}}]);n.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(n,t){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(){},post:function(i,r,u,f){var e=f[0],o=f[1];i.$on(t.events.BEGIN_CELL_EDIT,function(){r[0].focus();r[0].style.width=r[0].parentElement.offsetWidth-1+"px";r.on("blur",function(n){i.stopEdit(n)})});i.stopEdit=function(){i.$emit(t.events.END_CELL_EDIT)};r.on("keydown",function(r){switch(r.keyCode){case n.keymap.ESC:r.stopPropagation();i.$emit(t.events.CANCEL_CELL_EDIT)}if(e&&e.grid.api.cellNav)r.uiGridTargetRenderContainerId=o.containerId,e.cellNav.handleKeyDown(r)!==null&&i.stopEdit(r);else switch(r.keyCode){case n.keymap.ENTER:case n.keymap.TAB:r.stopPropagation();r.preventDefault();i.stopEdit(r)}return!0})}}}}}]);n.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(n,t,i){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(){},post:function(t,r,u,f){var e,s,h,o;f[0]&&(e=f[0]);f[1]&&(s=f[1]);h=e.grid;o=function(r){var u=r.srcElement||r.target;u&&u.files&&u.files.length>0?(typeof t.col.colDef.editFileChooserCallback=="function"?t.col.colDef.editFileChooserCallback(t.row,t.col,u.files):n.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),u.form.reset(),t.$emit(i.events.END_CELL_EDIT)):t.$emit(i.events.CANCEL_CELL_EDIT)};r[0].addEventListener("change",o,!1);t.$on(i.events.BEGIN_CELL_EDIT,function(){r[0].focus();r[0].select();r.on("blur",function(){t.$emit(i.events.END_CELL_EDIT)})})}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.expandable",["ui.grid"]);n.service("uiGridExpandableService",["gridUtil","$compile",function(n){var t={initializeGrid:function(i){i.expandable={};i.expandable.expandedAll=!1;i.options.enableExpandable=i.options.enableExpandable!==!1;i.options.expandableRowHeight=i.options.expandableRowHeight||150;i.options.expandableRowHeaderWidth=i.options.expandableRowHeaderWidth||40;i.options.enableExpandable&&!i.options.expandableRowTemplate&&(n.logError("You have not set the expandableRowTemplate, disabling expandable module"),i.options.enableExpandable=!1);var r={events:{expandable:{rowExpandedStateChanged:function(){}}},methods:{expandable:{toggleRowExpansion:function(n){var r=i.getRow(n);r!==null&&t.toggleRowExpansion(i,r)},expandAllRows:function(){t.expandAllRows(i)},collapseAllRows:function(){t.collapseAllRows(i)},toggleAllRows:function(){t.toggleAllRows(i)}}}};i.api.registerEventsFromObject(r.events);i.api.registerMethodsFromObject(r.methods)},toggleRowExpansion:function(n,t){t.isExpanded=!t.isExpanded;t.isExpanded?t.height=t.grid.options.rowHeight+n.options.expandableRowHeight:(t.height=t.grid.options.rowHeight,n.expandable.expandedAll=!1);n.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(n){n.renderContainers.body.visibleRowCache.forEach(function(i){i.isExpanded||t.toggleRowExpansion(n,i)});n.expandable.expandedAll=!0;n.queueGridRefresh()},collapseAllRows:function(n){n.renderContainers.body.visibleRowCache.forEach(function(i){i.isExpanded&&t.toggleRowExpansion(n,i)});n.expandable.expandedAll=!1;n.queueGridRefresh()},toggleAllRows:function(n){n.expandable.expandedAll?t.collapseAllRows(n):t.expandAllRows(n)}};return t}]);n.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(i,r,u,f){if(f.grid.options.enableExpandableRowHeader!==!1){var e={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:f.grid.options.expandableRowHeaderWidth||40};e.cellTemplate=t.get("ui-grid/expandableRowHeader");e.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader");f.grid.addRowHeaderColumn(e)}n.initializeGrid(f.grid)},post:function(){}}}}}]);n.directive("uiGrid",["uiGridExpandableService","$templateCache",function(){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,t,i,r){r.grid.api.core.on.renderingComplete(n,function(){n.row&&n.row.grid&&n.row.grid.options&&n.row.grid.options.enableExpandable&&(r.grid.parentRow=n.row)})},post:function(){}}}}}]);n.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(n,t,i,r,u){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(n,t){u.getTemplate(n.grid.options.expandableRowTemplate).then(function(r){var u,f,e;if(n.grid.options.expandableRowScope){u=n.grid.options.expandableRowScope;for(f in u)u.hasOwnProperty(f)&&(n[f]=u[f])}e=i(r)(n);t.append(e);n.row.expandedRendered=!0})},post:function(n){n.$on("$destroy",function(){n.row.expandedRendered=!1})}}}}}]);n.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(){return{priority:-200,scope:!1,compile:function(){return{pre:function(n){n.expandableRow={};n.expandableRow.shouldRenderExpand=function(){return n.colContainer.name==="body"&&n.grid.options.enableExpandable!==!1&&n.row.isExpanded&&(!n.grid.isScrollingVertically||n.row.expandedRendered)};n.expandableRow.shouldRenderFiller=function(){return n.row.isExpanded&&(n.colContainer.name!=="body"||n.grid.isScrollingVertically&&!n.row.expandedRendered)}},post:function(){}}}}}]);n.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(n,t,i){return{priority:-200,scope:!1,compile:function(n){var t=angular.element(n.children().children()[0]),r=i.get("ui-grid/expandableScrollFiller"),u=i.get("ui-grid/expandableRow");return t.append(u),t.append(r),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.exporter",["ui.grid"]);n.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"});n.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(n,t,i,r,u,f){var e={delay:100,initializeGrid:function(n){n.exporter={};this.defaultGridOptions(n.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,i){e.csvExport(n,t,i)},pdfExport:function(t,i){e.pdfExport(n,t,i)}}}};n.api.registerEventsFromObject(t.events);n.api.registerMethodsFromObject(t.methods);n.api.core.addToGridMenu?e.addToMenu(n):u(function(){n.api.core.addToGridMenu&&e.addToMenu(n)},this.delay,1)},defaultGridOptions:function(n){n.exporterSuppressMenu=n.exporterSuppressMenu===!0;n.exporterMenuLabel=n.exporterMenuLabel?n.exporterMenuLabel:"Export";n.exporterSuppressColumns=n.exporterSuppressColumns?n.exporterSuppressColumns:[];n.exporterCsvColumnSeparator=n.exporterCsvColumnSeparator?n.exporterCsvColumnSeparator:",";n.exporterCsvFilename=n.exporterCsvFilename?n.exporterCsvFilename:"download.csv";n.exporterPdfFilename=n.exporterPdfFilename?n.exporterPdfFilename:"download.pdf";n.exporterOlderExcelCompatibility=n.exporterOlderExcelCompatibility===!0;n.exporterPdfDefaultStyle=n.exporterPdfDefaultStyle?n.exporterPdfDefaultStyle:{fontSize:11};n.exporterPdfTableStyle=n.exporterPdfTableStyle?n.exporterPdfTableStyle:{margin:[0,5,0,15]};n.exporterPdfTableHeaderStyle=n.exporterPdfTableHeaderStyle?n.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"};n.exporterPdfHeader=n.exporterPdfHeader?n.exporterPdfHeader:null;n.exporterPdfFooter=n.exporterPdfFooter?n.exporterPdfFooter:null;n.exporterPdfOrientation=n.exporterPdfOrientation?n.exporterPdfOrientation:"landscape";n.exporterPdfPageSize=n.exporterPdfPageSize?n.exporterPdfPageSize:"A4";n.exporterPdfMaxGridWidth=n.exporterPdfMaxGridWidth?n.exporterPdfMaxGridWidth:720;n.exporterMenuAllData=n.exporterMenuAllData!==undefined?n.exporterMenuAllData:!0;n.exporterMenuCsv=n.exporterMenuCsv!==undefined?n.exporterMenuCsv:!0;n.exporterMenuPdf=n.exporterMenuPdf!==undefined?n.exporterMenuPdf:!0;n.exporterPdfCustomFormatter=n.exporterPdfCustomFormatter&&typeof n.exporterPdfCustomFormatter=="function"?n.exporterPdfCustomFormatter:function(n){return n};n.exporterHeaderFilterUseName=n.exporterHeaderFilterUseName===!0;n.exporterFieldCallback=n.exporterFieldCallback?n.exporterFieldCallback:function(n,t,i,r){return r};n.exporterAllDataFn=n.exporterAllDataFn?n.exporterAllDataFn:null;n.exporterAllDataFn==null&&n.exporterAllDataPromise&&(n.exporterAllDataFn=n.exporterAllDataPromise)},addToMenu:function(n){n.api.core.addToGridMenu(n,[{title:f.getSafeText("gridMenu.exporterAllAsCsv"),action:function(){this.grid.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuAllData},order:200},{title:f.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(){this.grid.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv},order:201},{title:f.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(){this.grid.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:202},{title:f.getSafeText("gridMenu.exporterAllAsPdf"),action:function(){this.grid.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuAllData},order:203},{title:f.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(){this.grid.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf},order:204},{title:f.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(){this.grid.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:205}])},csvExport:function(n,t,i){var r=this;this.loadAllDataIfNeeded(n,t,i).then(function(){var u=r.getColumnHeaders(n,i),f=r.getData(n,t,i),e=r.formatAsCsv(u,f,n.options.exporterCsvColumnSeparator);r.downloadFile(n.options.exporterCsvFilename,e,n.options.exporterOlderExcelCompatibility)})},loadAllDataIfNeeded:function(i,r){if(r===t.ALL&&i.rows.length!==i.options.totalItems&&i.options.exporterAllDataFn)return i.options.exporterAllDataFn().then(function(){i.modifyRows(i.options.data)});var u=n.defer();return u.resolve(),u.promise},getColumnHeaders:function(n,i){var r=[],u;return u=i===t.ALL?n.columns:n.renderContainers.body.visibleColumnCache.filter(function(n){return n.visible}),u.forEach(function(t){t.colDef.exporterSuppressExport!==!0&&n.options.exporterSuppressColumns.indexOf(t.name)===-1&&r.push({name:t.field,displayName:n.options.exporterHeaderFilter?n.options.exporterHeaderFilterUseName?n.options.exporterHeaderFilter(t.name):n.options.exporterHeaderFilter(t.displayName):t.displayName,width:t.drawnWidth?t.drawnWidth:t.width,align:t.colDef.type==="number"?"right":"left"})}),r},getData:function(n,r,u){var e=[],f,o;switch(r){case t.ALL:f=n.rows;break;case t.VISIBLE:f=n.getVisibleRows();break;case t.SELECTED:n.api.selection?f=n.api.selection.getSelectedGridRows():i.logError("selection feature must be enabled to allow selected rows to be exported")}return o=u===t.ALL?n.columns:n.renderContainers.body.visibleColumnCache.filter(function(n){return n.visible}),f.forEach(function(i){if(i.exporterEnableExporting!==!1){var r=[];o.forEach(function(f){if((f.visible||u===t.ALL)&&f.colDef.exporterSuppressExport!==!0&&n.options.exporterSuppressColumns.indexOf(f.name)===-1){var e={value:n.options.exporterFieldCallback(n,i,f,n.getCellValue(i,f))};f.colDef.exporterPdfAlign&&(e.alignment=f.colDef.exporterPdfAlign);r.push(e)}});e.push(r)}}),e},formatAsCsv:function(n,t,i){var r=this,u=n.map(function(n){return{value:n.displayName}}),f=r.formatRowAsCsv(this,i)(u)+"\n";return f+t.map(this.formatRowAsCsv(this,i)).join("\n")},formatRowAsCsv:function(n,t){return function(i){return i.map(n.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(n){return n.value==null?"":typeof n.value=="number"?n.value:typeof n.value=="boolean"?n.value?"TRUE":"FALSE":typeof n.value=="string"?'"'+n.value.replace(/"/g,'""')+'"':JSON.stringify(n.value)},isIE:function(){var n=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return n?parseInt(n[1]):!1},downloadFile:function(n,t,i){var f=document,r=f.createElement("a"),e="application/octet-stream;charset=utf-8",o,s,u,h;if(s=this.isIE(),s&&s<10)return u=f.createElement("iframe"),document.body.appendChild(u),u.contentWindow.document.open("text/html","replace"),u.contentWindow.document.write("sep=,\r\n"+t),u.contentWindow.document.close(),u.contentWindow.focus(),u.contentWindow.document.execCommand("SaveAs",!0,n),document.body.removeChild(u),!0;if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([i?"﻿":"",t],{type:e}),n);"download"in r?(h=new Blob([i?"﻿":"",t],{type:e}),o=URL.createObjectURL(h),r.setAttribute("download",n)):(o="data:"+e+","+encodeURIComponent(t),r.setAttribute("target","_blank"));r.href=o;r.setAttribute("style","display:none;");f.body.appendChild(r);setTimeout(function(){if(r.click)r.click();else if(document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0);r.dispatchEvent(n)}f.body.removeChild(r)},this.delay)},pdfExport:function(n,t,i){var r=this;this.loadAllDataIfNeeded(n,t,i).then(function(){var f=r.getColumnHeaders(n,i),e=r.getData(n,t,i),u=r.prepareAsPdf(n,f,e);r.isIE()?r.downloadPDF(n.options.exporterPdfFilename,u):pdfMake.createPdf(u).open()})},downloadPDF:function(n,t){var f=document,o=f.createElement("a"),r,e,u,i;return(r=this.isIE(),e=pdfMake.createPdf(t),e.getBuffer(function(n){u=new Blob([n])}),r&&r<10)?(i=f.createElement("iframe"),document.body.appendChild(i),i.contentWindow.document.open("text/html","replace"),i.contentWindow.document.write(u),i.contentWindow.document.close(),i.contentWindow.focus(),i.contentWindow.document.execCommand("SaveAs",!0,n),document.body.removeChild(i),!0):navigator.msSaveBlob?navigator.msSaveBlob(u,n):void 0},prepareAsPdf:function(n,t,i){var u=this.calculatePdfHeaderWidths(n,t),f=t.map(function(n){return{text:n.displayName,style:"tableHeader"}}),e=i.map(this.formatRowAsPdf(this)),o=[f].concat(e),r={pageOrientation:n.options.exporterPdfOrientation,pageSize:n.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:u,body:o}}],styles:{tableStyle:n.options.exporterPdfTableStyle,tableHeader:n.options.exporterPdfTableHeaderStyle},defaultStyle:n.options.exporterPdfDefaultStyle};return n.options.exporterPdfLayout&&(r.layout=n.options.exporterPdfLayout),n.options.exporterPdfHeader&&(r.header=n.options.exporterPdfHeader),n.options.exporterPdfFooter&&(r.footer=n.options.exporterPdfFooter),n.options.exporterPdfCustomFormatter&&(r=n.options.exporterPdfCustomFormatter(r)),r},calculatePdfHeaderWidths:function(n,t){var r=0,i,u;return t.forEach(function(n){typeof n.width=="number"&&(r+=n.width)}),i=0,t.forEach(function(n){if(n.width==="*"&&(i+=100),typeof n.width=="string"&&n.width.match(/(\d)*%/)){var t=parseInt(n.width.match(/(\d)*%/)[0]);n.width=r*t/100;i+=n.width}}),u=r+i,t.map(function(t){return t.width==="*"?t.width:t.width*n.options.exporterPdfMaxGridWidth/u})},formatRowAsPdf:function(n){return function(t){return t.map(n.formatFieldAsPdfString)}},formatFieldAsPdfString:function(n){var t;return t=n.value==null?"":typeof n.value=="number"?n.value.toString():typeof n.value=="boolean"?n.value?"TRUE":"FALSE":typeof n.value=="string"?n.value.replace(/"/g,'""'):JSON.stringify(n.value).replace(/^"/,"").replace(/"$/,""),n.alignment&&typeof n.alignment=="string"&&(t={text:t,alignment:n.alignment}),t}};return e}]);n.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(n,i,r,u){t.initializeGrid(u.grid);u.grid.exporter.$scope=n}}}])}(),function(){"use strict";var n=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);n.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}});n.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(n,t,i,r,u,f,e,o,s){var h={initializeGrid:function(n,t){s.initializeGrid(n,t);n.grouping={};n.grouping.groupHeaderCache={};h.defaultGridOptions(n.options);n.registerRowsProcessor(h.groupRows,400);n.registerColumnBuilder(h.groupingColumnBuilder);n.registerColumnsProcessor(h.groupingColumnProcessor,400);var i={events:{grouping:{}},methods:{grouping:{getGrouping:function(t){var i=h.getGrouping(n);return i.grouping.forEach(function(n){n.colName=n.col.name;delete n.col}),i.aggregations.forEach(function(n){n.colName=n.col.name;delete n.col}),i.aggregations=i.aggregations.filter(function(n){return!n.aggregation.source||n.aggregation.source!=="grouping"}),t&&(i.rowExpandedStates=h.getRowExpandedStates(n.grouping.groupingHeaderCache)),i},setGrouping:function(t){h.setGrouping(n,t)},groupColumn:function(t){var i=n.getColumn(t);h.groupColumn(n,i)},ungroupColumn:function(t){var i=n.getColumn(t);h.ungroupColumn(n,i)},clearGrouping:function(){h.clearGrouping(n)},aggregateColumn:function(t,i,r){var u=n.getColumn(t);h.aggregateColumn(n,u,i,r)}}}};n.api.registerEventsFromObject(i.events);n.api.registerMethodsFromObject(i.methods);n.api.core.on.sortChanged(t,h.tidyPriorities)},defaultGridOptions:function(n){n.enableGrouping=n.enableGrouping!==!1;n.groupingShowCounts=n.groupingShowCounts!==!1;n.groupingNullLabel=typeof n.groupingNullLabel=="undefined"?"Null":n.groupingNullLabel;n.enableGroupHeaderSelection=n.enableGroupHeaderSelection===!0},groupingColumnBuilder:function(n,r,u){if(n.enableGrouping!==!1){typeof r.grouping=="undefined"&&typeof n.grouping!="undefined"?(r.grouping=angular.copy(n.grouping),typeof r.grouping.groupPriority!="undefined"&&r.grouping.groupPriority>-1&&(r.treeAggregationFn=s.nativeAggregations()[t.aggregation.COUNT].aggregationFn,r.treeAggregationFinalizerFn=h.groupedFinalizerFn)):typeof r.grouping=="undefined"&&(r.grouping={});typeof r.grouping!="undefined"&&typeof r.grouping.groupPriority!="undefined"&&r.grouping.groupPriority>=0&&(r.suppressRemoveSort=!0);var o={name:"ui.grid.grouping.group",title:e.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return typeof this.context.col.grouping=="undefined"||typeof this.context.col.grouping.groupPriority=="undefined"||this.context.col.grouping.groupPriority<0},action:function(){h.groupColumn(this.context.col.grid,this.context.col)}},c={name:"ui.grid.grouping.ungroup",title:e.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return typeof this.context.col.grouping!="undefined"&&typeof this.context.col.grouping.groupPriority!="undefined"&&this.context.col.grouping.groupPriority>=0},action:function(){h.ungroupColumn(this.context.col.grid,this.context.col)}},l={name:"ui.grid.grouping.aggregateRemove",title:e.get().grouping.aggregate_remove,shown:function(){return typeof this.context.col.treeAggregationFn!="undefined"},action:function(){h.aggregateColumn(this.context.col.grid,this.context.col,null)}},f=function(n,t){t=t||e.get().grouping["aggregate_"+n]||n;var u={name:"ui.grid.grouping.aggregate"+n,title:t,shown:function(){return typeof this.context.col.treeAggregation=="undefined"||typeof this.context.col.treeAggregation.type=="undefined"||this.context.col.treeAggregation.type!==n},action:function(){h.aggregateColumn(this.context.col.grid,this.context.col,n)}};i.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.aggregate"+n)||r.menuItems.push(u)};r.colDef.groupingShowGroupingMenu!==!1&&(i.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.group")||r.menuItems.push(o),i.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.ungroup")||r.menuItems.push(c));r.colDef.groupingShowAggregationMenu!==!1&&(angular.forEach(s.nativeAggregations(),function(n,t){f(t)}),angular.forEach(u.treeCustomAggregations,function(n,t){f(t,n.menuTitle)}),i.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.aggregateRemove")||r.menuItems.push(l))}},groupingColumnProcessor:function(n,t){var i=this;return h.moveGroupColumns(this,n,t)},groupedFinalizerFn:function(n){var t=this;typeof n.groupVal!="undefined"?(n.rendered=n.groupVal,t.grid.options.groupingShowCounts&&t.colDef.type!=="date"&&(n.rendered+=" ("+n.value+")")):n.rendered=null},moveGroupColumns:function(n,t){if(n.options.moveGroupColumns!==!1)return t.forEach(function(n,t){n.groupingPosition=t}),t.sort(function(n,t){var i,r;return(i=typeof n.grouping=="undefined"||typeof n.grouping.groupPriority=="undefined"||n.grouping.groupPriority<0?null:n.grouping.groupPriority,r=typeof t.grouping=="undefined"||typeof t.grouping.groupPriority=="undefined"||t.grouping.groupPriority<0?null:t.grouping.groupPriority,i!==null&&r===null)?-1:r!==null&&i===null?1:i!==null&&r!==null?i-r:n.groupingPosition-t.groupingPosition}),t.forEach(function(n){delete n.groupingPosition}),t},groupColumn:function(n,i){typeof i.grouping=="undefined"&&(i.grouping={});var r=h.getGrouping(n);i.grouping.groupPriority=r.grouping.length;i.sort?(typeof i.sort.direction=="undefined"||i.sort.direction===null)&&(i.sort.direction=o.ASC):i.sort={direction:o.ASC};h.tidyPriorities(n);i.treeAggregation={type:t.aggregation.COUNT,source:"grouping"};i.treeAggregationFn=s.nativeAggregations()[t.aggregation.COUNT].aggregationFn;i.treeAggregationFinalizerFn=h.groupedFinalizerFn;n.queueGridRefresh()},ungroupColumn:function(n,t){typeof t.grouping!="undefined"&&(delete t.grouping.groupPriority,delete t.treeAggregation,delete t.customTreeAggregationFinalizer,h.tidyPriorities(n),n.queueGridRefresh())},aggregateColumn:function(n,t,i){typeof t.grouping!="undefined"&&typeof t.grouping.groupPriority!="undefined"&&t.grouping.groupPriority>=0&&h.ungroupColumn(n,t);var r={};typeof n.options.treeCustomAggregations[i]!="undefined"?r=n.options.treeCustomAggregations[i]:typeof s.nativeAggregations()[i]!="undefined"&&(r=s.nativeAggregations()[i]);t.treeAggregation={type:i,label:e.get().aggregation[r.label]||r.label};t.treeAggregationFn=r.aggregationFn;t.treeAggregationFinalizerFn=r.finalizerFn;n.queueGridRefresh()},setGrouping:function(n,t){typeof t!="undefined"&&(h.clearGrouping(n),t.grouping&&t.grouping.length&&t.grouping.length>0&&t.grouping.forEach(function(t){var i=n.getColumn(t.colName);i&&h.groupColumn(n,i)}),t.aggregations&&t.aggregations.length&&t.aggregations.forEach(function(t){var i=n.getColumn(t.colName);i&&h.aggregateColumn(n,i,t.aggregation.type)}),t.rowExpandedStates&&h.applyRowExpandedStates(n.grouping.groupingHeaderCache,t.rowExpandedStates))},clearGrouping:function(n){var t=h.getGrouping(n);t.grouping.length>0&&t.grouping.forEach(function(t){t.col||(t.col=n.getColumn(t.colName));h.ungroupColumn(n,t.col)});t.aggregations.length>0&&t.aggregations.forEach(function(t){t.col||(t.col=n.getColumn(t.colName));h.aggregateColumn(n,t.col,null)})},tidyPriorities:function(n){var t,i,r;(typeof n=="undefined"||typeof n.grid!="undefined")&&typeof this.grid!="undefined"&&(n=this.grid);t=[];i=[];n.columns.forEach(function(n){typeof n.grouping!="undefined"&&typeof n.grouping.groupPriority!="undefined"&&n.grouping.groupPriority>=0?t.push(n):typeof n.sort!="undefined"&&typeof n.sort.priority!="undefined"&&n.sort.priority>=0&&i.push(n)});t.sort(function(n,t){return n.grouping.groupPriority-t.grouping.groupPriority});t.forEach(function(n,t){n.grouping.groupPriority=t;n.suppressRemoveSort=!0;typeof n.sort=="undefined"&&(n.sort={});n.sort.priority=t});r=t.length;i.sort(function(n,t){return n.sort.priority-t.sort.priority});i.forEach(function(n){n.sort.priority=r;n.suppressRemoveSort=n.colDef.suppressRemoveSort;r++})},groupRows:function(n){var t,u,e,i,f;if(n.length===0)return n;for(t=this,t.grouping.oldGroupingHeaderCache=t.grouping.groupingHeaderCache||{},t.grouping.groupingHeaderCache={},u=h.initialiseProcessingState(t),e=function(e,o){var s=t.getCellValue(f,e.col);e.initialised&&r.getSortFn(t,e.col,n)(s,e.currentValue)===0||(h.insertGroupHeader(t,n,i,u,o),i++)},i=0;i<n.length;i++)f=n[i],f.visible&&u.forEach(e);return delete t.grouping.oldGroupingHeaderCache,n},initialiseProcessingState:function(n){var t=[],i=h.getGrouping(n);return i.grouping.forEach(function(n){t.push({fieldName:n.field,col:n.col,initialised:!1,currentValue:null,currentRow:null})}),t},getGrouping:function(n){var t=[],i=[];return n.columns.forEach(function(n){n.grouping&&typeof n.grouping.groupPriority!="undefined"&&n.grouping.groupPriority>=0&&t.push({field:n.field,col:n,groupPriority:n.grouping.groupPriority,grouping:n.grouping});n.treeAggregation&&n.treeAggregation.type&&i.push({field:n.field,col:n,aggregation:n.treeAggregation})}),t.sort(function(n,t){return n.groupPriority-t.groupPriority}),t.forEach(function(n,t){n.grouping.groupPriority=t;n.groupPriority=t;delete n.grouping}),{grouping:t,aggregations:i}},insertGroupHeader:function(n,t,i,r,e){var y=r[e].fieldName,v=r[e].col,l=n.getCellValue(t[i],v),a=l,s,c,o;for((typeof l=="undefined"||l===null)&&(a=n.options.groupingNullLabel),s=n.grouping.oldGroupingHeaderCache,c=0;c<e;c++)s&&s[r[c].currentValue]&&(s=s[r[c].currentValue].children);for(s&&s[l]?(o=s[l].row,o.entity={}):(o=new u({},null,n),f.rowTemplateAssigner.call(n,o)),o.entity["$$"+r[e].col.uid]={groupVal:a},o.treeLevel=e,o.groupHeader=!0,o.internalRow=!0,o.enableCellEdit=!1,o.enableSelection=n.options.enableGroupHeaderSelection,r[e].initialised=!0,r[e].currentValue=l,r[e].currentRow=o,h.finaliseProcessingState(r,e+1),t.splice(i,0,o),s=n.grouping.groupingHeaderCache,c=0;c<e;c++)s=s[r[c].currentValue].children;s[l]={row:o,children:{}}},finaliseProcessingState:function(n,t){for(var i=t;i<n.length;i++)n[i].initialised=!1,n[i].currentRow=null,n[i].currentValue=null},getRowExpandedStates:function(n){if(typeof n=="undefined")return{};var t={};return angular.forEach(n,function(n,i){t[i]={state:n.row.treeNode.state};t[i].children=n.children?h.getRowExpandedStates(n.children):{}}),t},applyRowExpandedStates:function(n,t){typeof t!="undefined"&&angular.forEach(t,function(t,i){n[i]&&(n[i].row.treeNode.state=t.state,t.children&&n[i].children&&h.applyRowExpandedStates(n[i].children,t.children))})}};return h}]);n.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,u){u.grid.options.enableGrouping!==!1&&t.initializeGrid(u.grid,n)},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.importer",["ui.grid"]);n.constant("uiGridImporterConstants",{featureName:"importer"});n.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(n,t,i,r,u,f,e,o){var s={initializeGrid:function(n,t){t.importer={$scope:n};this.defaultGridOptions(t.options);var i={events:{importer:{}},methods:{importer:{importFile:function(n){s.importThisFile(t,n)}}}};t.api.registerEventsFromObject(i.events);t.api.registerMethodsFromObject(i.methods);t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?s.addToMenu(t):f(function(){t.api.core.addToGridMenu&&s.addToMenu(t)},100,1))},defaultGridOptions:function(n){n.enableImporter||n.enableImporter===undefined?o.hasOwnProperty("File")&&o.hasOwnProperty("FileReader")&&o.hasOwnProperty("FileList")&&o.hasOwnProperty("Blob")?n.enableImporter=!0:(r.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),n.enableImporter=!1):n.enableImporter=!1;n.importerProcessHeaders=n.importerProcessHeaders||s.processHeaders;n.importerHeaderFilter=n.importerHeaderFilter||function(n){return n};n.importerErrorCallback&&typeof n.importerErrorCallback=="function"||delete n.importerErrorCallback;n.enableImporter!==!0||n.importerDataAddCallback||(r.logError("You have not set an importerDataAddCallback, importer is disabled"),n.enableImporter=!1);n.importerShowMenu=n.importerShowMenu!==!1;n.importerObjectCallback=n.importerObjectCallback||function(n,t){return t}},addToMenu:function(n){n.api.core.addToGridMenu(n,[{title:e.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(){this.grid.api.importer.importAFile(n)},order:151}])},importThisFile:function(n,t){if(!t){r.logError("No file object provided to importThisFile, should be impossible, aborting");return}var i=new FileReader;switch(t.type){case"application/json":i.onload=s.importJsonClosure(n);break;default:i.onload=s.importCsvClosure(n)}i.readAsText(t)},importJsonClosure:function(n){return function(t){var r=[],i,u=s.parseJson(n,t);u!==null&&(u.forEach(function(t){i=s.newObject(n);angular.extend(i,t);i=n.options.importerObjectCallback(n,i);r.push(i)}),s.addObjects(n,r))}},parseJson:function(n,t){var i;try{i=JSON.parse(t.target.result)}catch(r){s.alertError(n,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result);return}return Array.isArray(i)?i:(s.alertError(n,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(n){return function(t){var r=s.parseCsv(t),i;if(!r||r.length<1){s.alertError(n,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result);return}if(i=s.createCsvObjects(n,r),!i||i.length===0){s.alertError(n,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result);return}s.addObjects(n,i)}},parseCsv:function(n){var t=n.target.result;return CSV.parse(t)},createCsvObjects:function(n,t){var r=n.options.importerProcessHeaders(n,t.shift()),u,i;return!r||r.length===0?(s.alertError(n,"importer.noHeaders","Column names could not be derived, content was: ",t),[]):(u=[],t.forEach(function(t){i=s.newObject(n);t!==null&&t.forEach(function(n,t){r[t]!==null&&(i[r[t]]=n)});i=n.options.importerObjectCallback(n,i);u.push(i)}),u)},processHeaders:function(n,t){var i=[],r;return n.options.columnDefs&&n.options.columnDefs.length!==0?(r=s.flattenColumnDefs(n,n.options.columnDefs),t.forEach(function(n){r[n]?i.push(r[n]):r[n.toLowerCase()]?i.push(r[n.toLowerCase()]):i.push(null)}),i):(t.forEach(function(n){i.push(n.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),i)},flattenColumnDefs:function(n,t){var i={};return t.forEach(function(t){t.name&&(i[t.name]=t.field||t.name,i[t.name.toLowerCase()]=t.field||t.name);t.field&&(i[t.field]=t.field||t.name,i[t.field.toLowerCase()]=t.field||t.name);t.displayName&&(i[t.displayName]=t.field||t.name,i[t.displayName.toLowerCase()]=t.field||t.name);t.displayName&&n.options.importerHeaderFilter&&(i[n.options.importerHeaderFilter(t.displayName)]=t.field||t.name,i[n.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),i},addObjects:function(n,i){if(n.api.rowEdit){var r=n.registerDataChangeCallback(function(){n.api.rowEdit.setRowsDirty(i);r()},[t.dataChange.ROW]);n.importer.$scope.$on("$destroy",r)}n.importer.$scope.$apply(n.options.importerDataAddCallback(n,i))},newObject:function(n){return typeof n.options!="undefined"&&typeof n.options.importerNewObject!="undefined"?new n.options.importerNewObject:{}},alertError:function(n,t,i,u){n.options.importerErrorCallback?n.options.importerErrorCallback(n,t,i,u):(o.alert(e.getSafeText(t)),r.logError(i+u))}};return s}]);n.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(n,i,r,u){t.initializeGrid(n,u.grid)}}}]);n.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(n,t,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(n,r,u,f){var o=function(n){var i=n.srcElement||n.target,r;i&&i.files&&i.files.length===1&&(r=i.files[0],t.importThisFile(s,r),i.form.reset())},e=r[0].querySelectorAll(".ui-grid-importer-file-chooser"),s=f.grid;e.length!==1?i.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):e[0].addEventListener("change",o,!1)}}}])}(),function(){"use strict";var n=angular.module("ui.grid.infiniteScroll",["ui.grid"]);n.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants","ScrollEvent","$q",function(n,t,i,r,u,f){var e={initializeGrid:function(n,t){if(e.defaultGridOptions(n.options),n.options.enableInfiniteScroll){n.infiniteScroll={dataLoading:!1};e.setScrollDirections(n,n.options.infiniteScrollUp,n.options.infiniteScrollDown);n.api.core.on.scrollEnd(t,e.handleScroll);var i={events:{infiniteScroll:{needLoadMoreData:function(){},needLoadMoreDataTop:function(){}}},methods:{infiniteScroll:{dataLoaded:function(t,i){e.setScrollDirections(n,t,i);return e.adjustScroll(n).then(function(){n.infiniteScroll.dataLoading=!1})},resetScroll:function(t,i){return e.setScrollDirections(n,t,i),e.adjustInfiniteScrollPosition(n,0)},saveScrollPercentage:function(){n.infiniteScroll.prevScrolltopPercentage=n.renderContainers.body.prevScrolltopPercentage;n.infiniteScroll.previousVisibleRows=n.renderContainers.body.visibleRowCache.length},dataRemovedTop:function(t,i){e.dataRemovedTop(n,t,i)},dataRemovedBottom:function(t,i){e.dataRemovedBottom(n,t,i)},setScrollDirections:function(t,i){e.setScrollDirections(n,t,i)}}}};n.api.registerEventsFromObject(i.events);n.api.registerMethodsFromObject(i.methods)}},defaultGridOptions:function(n){n.enableInfiniteScroll=n.enableInfiniteScroll!==!1;n.infiniteScrollRowsFromEnd=n.infiniteScrollRowsFromEnd||20;n.infiniteScrollUp=n.infiniteScrollUp===!0;n.infiniteScrollDown=n.infiniteScrollDown!==!1},setScrollDirections:function(n,t,i){n.infiniteScroll.scrollUp=t===!0;n.suppressParentScrollUp=t===!0;n.infiniteScroll.scrollDown=i!==!1;n.suppressParentScrollDown=i!==!1},handleScroll:function(n){if((!n.grid.infiniteScroll||!n.grid.infiniteScroll.dataLoading)&&n.source!=="ui.grid.adjustInfiniteScrollPosition"&&n.y){var t,i=n.grid.options.infiniteScrollRowsFromEnd/n.grid.renderContainers.body.visibleRowCache.length;n.grid.scrollDirection===r.scrollDirection.UP?(t=n.y.percentage,t<=i&&e.loadData(n.grid)):n.grid.scrollDirection===r.scrollDirection.DOWN&&(t=1-n.y.percentage,t<=i&&e.loadData(n.grid))}},loadData:function(n){n.infiniteScroll.previousVisibleRows=n.renderContainers.body.visibleRowCache.length;n.infiniteScroll.direction=n.scrollDirection;delete n.infiniteScroll.prevScrolltopPercentage;n.scrollDirection===r.scrollDirection.UP&&n.infiniteScroll.scrollUp?(n.infiniteScroll.dataLoading=!0,n.api.infiniteScroll.raise.needLoadMoreDataTop()):n.scrollDirection===r.scrollDirection.DOWN&&n.infiniteScroll.scrollDown&&(n.infiniteScroll.dataLoading=!0,n.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(n){var t=f.defer();return i(function(){var u,f,o,s,h;n.infiniteScroll.direction===undefined&&e.adjustInfiniteScrollPosition(n,0);f=n.renderContainers.body.visibleRowCache.length;h=n.getViewportHeight()/n.options.rowHeight/2;n.infiniteScroll.direction===r.scrollDirection.UP&&(o=n.infiniteScroll.prevScrolltopPercentage||0,s=o*n.infiniteScroll.previousVisibleRows,u=(f-n.infiniteScroll.previousVisibleRows+s+h)/f,e.adjustInfiniteScrollPosition(n,u),i(function(){t.resolve()}));n.infiniteScroll.direction===r.scrollDirection.DOWN&&(o=n.infiniteScroll.prevScrolltopPercentage||1,s=o*n.infiniteScroll.previousVisibleRows,u=(s-h)/f,e.adjustInfiniteScrollPosition(n,u),i(function(){t.resolve()}))},0),t.promise},adjustInfiniteScrollPosition:function(n,t){var i=new u(n,null,null,"ui.grid.adjustInfiniteScrollPosition");i.y=t===0&&n.infiniteScroll.scrollUp?{pixels:1}:{percentage:t};n.scrollContainers("",i)},dataRemovedTop:function(n,t,i){e.setScrollDirections(n,t,i);var r=n.renderContainers.body.visibleRowCache.length,u=n.infiniteScroll.prevScrolltopPercentage*n.infiniteScroll.previousVisibleRows,f=u-(n.infiniteScroll.previousVisibleRows-r),o=f/r;return e.adjustInfiniteScrollPosition(n,o)},dataRemovedBottom:function(n,t,i){e.setScrollDirections(n,t,i);var r=n.renderContainers.body.visibleRowCache.length,u=n.infiniteScroll.prevScrolltopPercentage*n.infiniteScroll.previousVisibleRows,f=u/r;return e.adjustInfiniteScrollPosition(n,f)}};return e}]);n.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(n){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(){return{pre:function(t,i,r,u){n.initializeGrid(u.grid,t)},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.moveColumns",["ui.grid"]);n.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants","gridUtil",function(n,t,i,r,u,f){return{initializeGrid:function(n){var t=this;this.registerPublicApi(n);this.defaultGridOptions(n.options);n.registerColumnBuilder(t.movableColumnBuilder)},registerPublicApi:function(n){var i=this,t={events:{colMovable:{columnPositionChanged:function(){}}},methods:{colMovable:{moveColumn:function(t,r){var u=n.columns,o,e,s;if(!angular.isNumber(t)||!angular.isNumber(r)){f.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition");return}for(o=0,e=0;e<u.length;e++)(angular.isDefined(u[e].colDef.visible)&&u[e].colDef.visible===!1||u[e].isRowHeader===!0)&&o++;if(t>=u.length-o||r>=u.length-o){f.logError("MoveColumn: Invalid values for originalPosition, finalPosition");return}s=function(n){for(var i=n,t=0;t<=i;t++)angular.isDefined(u[t])&&(angular.isDefined(u[t].colDef.visible)&&u[t].colDef.visible===!1||u[t].isRowHeader===!0)&&i++;return i};i.redrawColumnAtPosition(n,s(t),s(r))}}}};n.api.registerEventsFromObject(t.events);n.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(n){n.enableColumnMoving=n.enableColumnMoving!==!1},movableColumnBuilder:function(t,i,r){return t.enableColumnMoving=t.enableColumnMoving===undefined?r.enableColumnMoving:t.enableColumnMoving,n.all([])},redrawColumnAtPosition:function(n,i,r){var f=n.columns,s=f[i],e,o;if(s.colDef.enableColumnMoving){if(i>r)for(e=i;e>r;e--)f[e]=f[e-1];else if(r>i)for(o=i;o<r;o++)f[o]=f[o+1];f[r]=s;n.queueGridRefresh();t(function(){n.api.core.notifyDataChange(u.dataChange.COLUMN);n.api.colMovable.raise.columnPositionChanged(s.colDef,i,r)})}}}}]);n.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,i,r,u){n.initializeGrid(u.grid)},post:function(){}}}}}]);n.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(n,t,i,r,u,f,e){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(n,u,f,o){var nt,tt;if(n.col.colDef.enableColumnMoving){var a=angular.element(u[0].querySelectorAll(".ui-grid-cell-contents")),c,k,h,v,y=!1,s,l,d=!1,p=function(t){if(c=n.grid.element[0].getBoundingClientRect().left,n.grid.hasLeftContainer()&&(c+=n.grid.renderContainers.left.header[0].getBoundingClientRect().width),k=t.pageX,h=0,v=c+n.grid.getViewportWidth(),t.type==="mousedown"){r.on("mousemove",w);r.on("mouseup",b)}else if(t.type==="touchstart"){r.on("touchmove",w);r.on("touchend",b)}},w=function(n){var t=n.pageX-k;t!==0&&(document.onselectstart=function(){return!1},d=!0,y?y&&(tt(t),k=n.pageX):nt())},b=function(){var t,f,e,o,r,c,u;if(document.onselectstart=null,s&&(s.remove(),y=!1),it(),g(),d){for(t=n.grid.columns,f=0,e=0;e<t.length;e++)if(t[e].colDef.name!==n.col.colDef.name)f++;else break;if(h<0){for(o=0,r=f-1;r>=0;r--)if((angular.isUndefined(t[r].colDef.visible)||t[r].colDef.visible===!0)&&(o+=t[r].drawnWidth||t[r].width||t[r].colDef.width,o>Math.abs(h))){i.redrawColumnAtPosition(n.grid,f,r+1);break}o<Math.abs(h)&&i.redrawColumnAtPosition(n.grid,f,0)}else if(h>0){for(c=0,u=f+1;u<t.length;u++)if((angular.isUndefined(t[u].colDef.visible)||t[u].colDef.visible===!0)&&(c+=t[u].drawnWidth||t[u].width||t[u].colDef.width,c>h)){i.redrawColumnAtPosition(n.grid,f,u-1);break}c<h&&i.redrawColumnAtPosition(n.grid,f,t.length-1)}}},g=function(){a.on("touchstart",p);a.on("mousedown",p)},it=function(){a.off("touchstart",p);a.off("mousedown",p);r.off("mousemove",w);r.off("touchmove",w);r.off("mouseup",b);r.off("touchend",b)};g();nt=function(){var i,e,r,f;y=!0;s=u.clone();u.parent().append(s);s.addClass("movingColumn");i={};e=t.detectBrowser()==="safari"?u[0].offsetLeft+u[0].offsetWidth-u[0].getBoundingClientRect().width:u[0].getBoundingClientRect().left;i.left=e-c+"px";r=n.grid.element[0].getBoundingClientRect().right;f=u[0].getBoundingClientRect().right;f>r&&(l=n.col.drawnWidth+(r-f),i.width=l+"px");s.css(i)};tt=function(t){for(var y,b,f,a,p,r,i=n.grid.columns,w=0,u=0;u<i.length;u++)(angular.isUndefined(i[u].colDef.visible)||i[u].colDef.visible===!0)&&(w+=i[u].drawnWidth||i[u].width||i[u].colDef.width);for(y=s[0].getBoundingClientRect().left-1,b=s[0].getBoundingClientRect().right,f=y-c+t,f=f<v?f:v,(y>=c||t>0)&&(b<=v||t<0)?s.css({visibility:"visible",left:f+"px"}):w>Math.ceil(o.grid.gridWidth)&&(t*=8,a=new e(n.col.grid,null,null,"uiGridHeaderCell.moveElement"),a.x={pixels:t},a.grid.scrollContainers("",a)),p=0,r=0;r<i.length;r++)if(angular.isUndefined(i[r].colDef.visible)||i[r].colDef.visible===!0)if(i[r].colDef.name!==n.col.colDef.name)p+=i[r].drawnWidth||i[r].width||i[r].colDef.width;else break;n.newScrollLeft===undefined?h+=t:h=n.newScrollLeft+f-p;l<n.col.drawnWidth&&(l+=Math.abs(t),s.css({width:l+"px"}))}}}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.pagination",["ng","ui.grid"]);n.service("uiGridPaginationService",["gridUtil",function(n){var t={initializeGrid:function(n){var i,r;t.defaultGridOptions(n.options);i={events:{pagination:{paginationChanged:function(){}}},methods:{pagination:{getPage:function(){return n.options.enablePagination?n.options.paginationCurrentPage:null},getTotalPages:function(){return n.options.enablePagination?n.options.totalItems===0?1:Math.ceil(n.options.totalItems/n.options.paginationPageSize):null},nextPage:function(){n.options.enablePagination&&(n.options.totalItems>0?n.options.paginationCurrentPage=Math.min(n.options.paginationCurrentPage+1,i.methods.pagination.getTotalPages()):n.options.paginationCurrentPage++)},previousPage:function(){n.options.enablePagination&&(n.options.paginationCurrentPage=Math.max(n.options.paginationCurrentPage-1,1))},seek:function(t){if(n.options.enablePagination){if(!angular.isNumber(t)||t<1)throw"Invalid page number: "+t;n.options.paginationCurrentPage=Math.min(t,i.methods.pagination.getTotalPages())}}}}};n.api.registerEventsFromObject(i.events);n.api.registerMethodsFromObject(i.methods);r=function(t){var i;if(n.options.useExternalPagination||!n.options.enablePagination)return t;var r=parseInt(n.options.paginationPageSize,10),u=parseInt(n.options.paginationCurrentPage,10),f=t.filter(function(n){return n.visible});return n.options.totalItems=f.length,i=(u-1)*r,i>f.length&&(u=n.options.paginationCurrentPage=1,i=(u-1)*r),f.slice(i,i+r)};n.registerRowsProcessor(r,900)},defaultGridOptions:function(t){t.enablePagination=t.enablePagination!==!1;t.enablePaginationControls=t.enablePaginationControls!==!1;t.useExternalPagination=t.useExternalPagination===!0;n.isNullOrUndefined(t.totalItems)&&(t.totalItems=0);n.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]);n.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSize=t.paginationPageSizes.length>0?t.paginationPageSizes[0]:0);n.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1);n.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(n,t,i){n.api.pagination.raise.paginationChanged(t,i);n.options.useExternalPagination||n.queueGridRefresh()}};return t}]);n.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(n,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(i,r,u,f){t.initializeGrid(f.grid);n.getTemplate(f.grid.options.paginationTemplate).then(function(n){var t=angular.element(n);r.append(t);f.innerCompile(t)})}}}}]);n.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(n,t,i,r){return{priority:-200,scope:!0,require:"^uiGrid",link:function(u,f,e,o){var s,h;u.paginationApi=o.grid.api.pagination;u.sizesLabel=r.getSafeText("pagination.sizes");u.totalItemsLabel=r.getSafeText("pagination.totalItems");s=o.grid.options;o.grid.renderContainers.body.registerViewportAdjuster(function(n){return n.height=n.height-i.elementHeight(f),n});h=o.grid.registerDataChangeCallback(function(n){n.options.useExternalPagination||(n.options.totalItems=n.rows.length)},[t.dataChange.ROW]);u.$on("$destroy",h);var c=function(){u.showingLow=(s.paginationCurrentPage-1)*s.paginationPageSize+1;u.showingHigh=Math.min(s.paginationCurrentPage*s.paginationPageSize,s.totalItems)},l=u.$watch("grid.options.totalItems + grid.options.paginationPageSize",c),a=u.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,i){if(t!==i){if(!angular.isNumber(s.paginationCurrentPage)||s.paginationCurrentPage<1){s.paginationCurrentPage=1;return}if(s.totalItems>0&&s.paginationCurrentPage>u.paginationApi.getTotalPages()){s.paginationCurrentPage=u.paginationApi.getTotalPages();return}c();n.onPaginationChanged(u.grid,s.paginationCurrentPage,s.paginationPageSize)}});u.$on("$destroy",function(){l();a()});u.cantPageForward=function(){return s.totalItems>0?s.paginationCurrentPage>=u.paginationApi.getTotalPages():s.data.length<1};u.cantPageToLast=function(){return s.totalItems>0?u.cantPageForward():!0};u.cantPageBackward=function(){return s.paginationCurrentPage<=1}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.pinning",["ui.grid"]);n.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}});n.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(n,t,i,r){var u={initializeGrid:function(n){u.defaultGridOptions(n.options);n.registerColumnBuilder(u.pinningColumnBuilder);var t={events:{pinning:{columnPinned:function(){}}},methods:{pinning:{pinColumn:function(t,i){u.pinColumn(n,t,i)}}}};n.api.registerEventsFromObject(t.events);n.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(n){n.enablePinning=n.enablePinning!==!1},pinningColumnBuilder:function(t,f,e){if(t.enablePinning=t.enablePinning===undefined?e.enablePinning:t.enablePinning,t.pinnedLeft?(f.renderContainer="left",f.grid.createLeftContainer()):t.pinnedRight&&(f.renderContainer="right",f.grid.createRightContainer()),t.enablePinning){var o={name:"ui.grid.pinning.pinLeft",title:i.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return typeof this.context.col.renderContainer=="undefined"||!this.context.col.renderContainer||this.context.col.renderContainer!=="left"},action:function(){u.pinColumn(this.context.col.grid,this.context.col,r.container.LEFT)}},s={name:"ui.grid.pinning.pinRight",title:i.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return typeof this.context.col.renderContainer=="undefined"||!this.context.col.renderContainer||this.context.col.renderContainer!=="right"},action:function(){u.pinColumn(this.context.col.grid,this.context.col,r.container.RIGHT)}},h={name:"ui.grid.pinning.unpin",title:i.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return typeof this.context.col.renderContainer!="undefined"&&this.context.col.renderContainer!==null&&this.context.col.renderContainer!=="body"},action:function(){u.pinColumn(this.context.col.grid,this.context.col,r.container.UNPIN)}};n.arrayContainsObjectWithProperty(f.menuItems,"name","ui.grid.pinning.pinLeft")||f.menuItems.push(o);n.arrayContainsObjectWithProperty(f.menuItems,"name","ui.grid.pinning.pinRight")||f.menuItems.push(s);n.arrayContainsObjectWithProperty(f.menuItems,"name","ui.grid.pinning.unpin")||f.menuItems.push(h)}},pinColumn:function(n,t,i){i===r.container.NONE?t.renderContainer=null:(t.renderContainer=i,i===r.container.LEFT?n.createLeftContainer():i===r.container.RIGHT&&n.createRightContainer());n.refresh().then(function(){n.api.pinning.raise.columnPinned(t.colDef,i)})}};return u}]);n.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(n,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,u){t.initializeGrid(u.grid)},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.resizeColumns",["ui.grid"]);n.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(n,t,i){return{defaultGridOptions:function(n){n.enableColumnResizing=n.enableColumnResizing!==!1;n.enableColumnResize===!1&&(n.enableColumnResizing=!1)},colResizerColumnBuilder:function(n,i,r){return n.enableColumnResizing=n.enableColumnResizing===undefined?r.enableColumnResizing:n.enableColumnResizing,n.enableColumnResize===!1&&(n.enableColumnResizing=!1),t.all([])},registerPublicApi:function(n){var t={events:{colResizable:{columnSizeChanged:function(){}}}};n.api.registerEventsFromObject(t.events)},fireColumnSizeChanged:function(t,r,u){i(function(){t.api.colResizable?t.api.colResizable.raise.columnSizeChanged(r,u):n.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(n,t,i){var r=n.getRenderContainer(),u;return t==="left"?(u=r.visibleColumnCache.indexOf(n),r.visibleColumnCache[u-1*i]):n}}}]);n.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,u){t.defaultGridOptions(u.grid.options);u.grid.registerColumnBuilder(t.colResizerColumnBuilder);t.registerPublicApi(u.grid)},post:function(){}}}}}]);n.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(n,t,i,r,u,f,e){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(n,r,o,s){var h=s.grid,c,l,a,v,y;h.options.enableColumnResizing&&(c=t.get("ui-grid/columnResizer"),l=1,h.isRTL()&&(n.position="left",l=-1),a=function(){for(var o,h,t,f,s=r[0].getElementsByClassName("ui-grid-column-resizer"),e=0;e<s.length;e++)angular.element(s[e]).remove();o=u.findTargetCol(n.col,"left",l);h=n.col.getRenderContainer();o&&h.visibleColumnCache.indexOf(n.col)!==0&&o.colDef.enableColumnResizing!==!1&&(t=angular.element(c).clone(),t.attr("position","left"),r.prepend(t),i(t)(n));n.col.colDef.enableColumnResizing!==!1&&(f=angular.element(c).clone(),f.attr("position","right"),r.append(f),i(f)(n))},a(),v=function(){e(a)},y=h.registerDataChangeCallback(v,[f.dataChange.COLUMN]),n.$on("$destroy",y))}}}}}]);n.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(n,t,i,r){var u=angular.element('<div class="ui-grid-resize-overlay"><\/div>');return{priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(f,e,o,s){function g(){s.grid.buildColumns().then(function(){s.grid.refreshCanvas(!0).then(function(){s.grid.queueGridRefresh()})})}function w(n,t){var i=t;return n.minWidth&&i<n.minWidth?i=n.minWidth:n.maxWidth&&i>n.maxWidth&&(i=n.maxWidth),i}function y(n){var t,o,e;(n.originalEvent&&(n=n.originalEvent),n.preventDefault(),h=(n.targetTouches?n.targetTouches[0]:n).clientX-v,h<0?h=0:h>s.grid.gridWidth&&(h=s.grid.gridWidth),t=r.findTargetCol(f.col,f.position,c),t.colDef.enableColumnResizing!==!1)&&(s.grid.element.hasClass("column-resizing")||s.grid.element.addClass("column-resizing"),o=h-a,e=parseInt(t.drawnWidth+o*c,10),h=h+(w(t,e)-e)*c,u.css({left:h+"px"}),s.fireEvent(i.events.ITEM_DRAGGING))}function p(n){var i,t,e;if(n.originalEvent&&(n=n.originalEvent),n.preventDefault(),s.grid.element.removeClass("column-resizing"),u.remove(),h=(n.changedTouches?n.changedTouches[0]:n).clientX-v,i=h-a,i===0){k();b();return}(t=r.findTargetCol(f.col,f.position,c),t.colDef.enableColumnResizing!==!1)&&(e=parseInt(t.drawnWidth+i*c,10),t.width=w(t,e),g(i),r.fireColumnSizeChanged(s.grid,t.colDef,i),k(),b())}var a=0,h=0,v=0,c=1,d;s.grid.isRTL()&&(f.position="left",c=-1);f.position==="left"?e.addClass("left"):f.position==="right"&&e.addClass("right");var l=function(t){if(t.originalEvent&&(t=t.originalEvent),t.stopPropagation(),v=s.grid.element[0].getBoundingClientRect().left,a=(t.targetTouches?t.targetTouches[0]:t).clientX-v,s.grid.element.append(u),u.css({left:a}),t.type==="touchstart"){n.on("touchend",p);n.on("touchmove",y);e.off("mousedown",l)}else{n.on("mouseup",p);n.on("mousemove",y);e.off("touchstart",l)}},b=function(){e.on("mousedown",l);e.on("touchstart",l)},k=function(){n.off("mouseup",p);n.off("touchend",p);n.off("mousemove",y);n.off("touchmove",y);e.off("mousedown",l);e.off("touchstart",l)};b();d=function(n){var u;if(n.stopPropagation(),u=r.findTargetCol(f.col,f.position,c),u.colDef.enableColumnResizing!==!1){var o=0,h=0,l=t.closestElm(e,".ui-grid-render-container"),a=l.querySelectorAll("."+i.COL_CLASS_PREFIX+u.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(a,function(n){var i;angular.element(n).parent().hasClass("ui-grid-header-cell")&&(i=angular.element(n).parent()[0].querySelectorAll(".ui-grid-column-menu-button"));t.fakeElement(n,{},function(n){var u=angular.element(n),r,f;u.attr("style","float: left");r=t.elementWidth(u);i&&(f=t.elementWidth(i),r=r+f);r>o&&(o=r,h=o-r)})});u.width=w(u,o);g(h);r.fireColumnSizeChanged(s.grid,u.colDef,h)}};e.on("dblclick",d);e.on("$destroy",function(){e.off("dblclick",d);k()})}}}])}(),function(){"use strict";var n=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);n.constant("uiGridRowEditConstants",{});n.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(n,t,i,r,u){var f={initializeGrid:function(n,t){t.rowEdit={};var i={events:{rowEdit:{saveRow:function(){}}},methods:{rowEdit:{setSavePromise:function(n,i){f.setSavePromise(t,n,i)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return f.flushDirtyRows(t)},setRowsDirty:function(n){f.setRowsDirty(t,n)},setRowsClean:function(n){f.setRowsClean(t,n)}}}};t.api.registerEventsFromObject(i.events);t.api.registerMethodsFromObject(i.methods);t.api.core.on.renderingComplete(n,function(){t.api.edit.on.afterCellEdit(n,f.endEditCell);t.api.edit.on.beginCellEdit(n,f.beginEditCell);t.api.edit.on.cancelCellEdit(n,f.cancelEditCell);t.api.cellNav&&t.api.cellNav.on.navigate(n,f.navigate)})},defaultGridOptions:function(){},saveRow:function(n,t){var i=this;return function(){if(t.isSaving=!0,t.rowEditSavePromise)return t.rowEditSavePromise;var r=n.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(i.processSuccessPromise(n,t),i.processErrorPromise(n,t)):u.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),r}},setSavePromise:function(n,t,i){var r=n.getRow(t);r.rowEditSavePromise=i},processSuccessPromise:function(n,t){var i=this;return function(){delete t.isSaving;delete t.isDirty;delete t.isError;delete t.rowEditSaveTimer;delete t.rowEditSavePromise;i.removeRow(n.rowEdit.errorRows,t);i.removeRow(n.rowEdit.dirtyRows,t)}},processErrorPromise:function(n,t){return function(){delete t.isSaving;delete t.rowEditSaveTimer;delete t.rowEditSavePromise;t.isError=!0;n.rowEdit.errorRows||(n.rowEdit.errorRows=[]);f.isRowPresent(n.rowEdit.errorRows,t)||n.rowEdit.errorRows.push(t)}},removeRow:function(n,t){typeof n!="undefined"&&n!==null&&n.forEach(function(i,r){i.uid===t.uid&&n.splice(r,1)})},isRowPresent:function(n,t){var i=!1;return n.forEach(function(n){n.uid===t.uid&&(i=!0)}),i},flushDirtyRows:function(n){var i=[];return n.rowEdit.dirtyRows.forEach(function(t){f.saveRow(n,t)();i.push(t.rowEditSavePromise)}),t.all(i)},endEditCell:function(n,t,i,r){var o=this.grid,e=o.getRow(n);if(!e){u.logError("Unable to find rowEntity in grid data, dirty flag cannot be set");return}(i!==r||e.isDirty)&&(o.rowEdit.dirtyRows||(o.rowEdit.dirtyRows=[]),e.isDirty||(e.isDirty=!0,o.rowEdit.dirtyRows.push(e)),delete e.isError,f.considerSetTimer(o,e))},beginEditCell:function(n){var t=this.grid,i=t.getRow(n);if(!i){u.logError("Unable to find rowEntity in grid data, timer cannot be cancelled");return}f.cancelTimer(t,i)},cancelEditCell:function(n){var t=this.grid,i=t.getRow(n);if(!i){u.logError("Unable to find rowEntity in grid data, timer cannot be set");return}f.considerSetTimer(t,i)},navigate:function(n,t){var i=this.grid;n.row.rowEditSaveTimer&&f.cancelTimer(i,n.row);t&&t.row&&t.row!==n.row&&f.considerSetTimer(i,t.row)},considerSetTimer:function(t,i){if(f.cancelTimer(t,i),i.isDirty&&!i.isSaving&&t.options.rowEditWaitInterval!==-1){var r=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;i.rowEditSaveTimer=n(f.saveRow(t,i),r,1)}},cancelTimer:function(t,i){i.rowEditSaveTimer&&!i.isSaving&&(n.cancel(i.rowEditSaveTimer),delete i.rowEditSaveTimer)},setRowsDirty:function(n,t){var i;t.forEach(function(t){i=n.getRow(t);i?(n.rowEdit.dirtyRows||(n.rowEdit.dirtyRows=[]),i.isDirty||(i.isDirty=!0,n.rowEdit.dirtyRows.push(i)),delete i.isError,f.considerSetTimer(n,i)):u.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)})},setRowsClean:function(n,t){var i;t.forEach(function(t){i=n.getRow(t);i?(delete i.isDirty,f.removeRow(n.rowEdit.dirtyRows,i),f.cancelTimer(n,i),delete i.isError,f.removeRow(n.rowEdit.errorRows,i)):u.logError("requested row not found in rowEdit.setRowsClean, row was: "+t)})}};return f}]);n.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,u){t.initializeGrid(n,u.grid)},post:function(){}}}}}]);n.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(){return{priority:-200,scope:!1,compile:function(n){var t=angular.element(n.children().children()[0]),i=t.attr("ng-class"),r="";return r=i?i.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",t.attr("ng-class",r),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);n.constant("uiGridSaveStateConstants",{featureName:"saveState"});n.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(){var n={initializeGrid:function(t){t.saveState={};this.defaultGridOptions(t.options);var i={events:{saveState:{}},methods:{saveState:{save:function(){return n.save(t)},restore:function(i,r){n.restore(t,i,r)}}}};t.api.registerEventsFromObject(i.events);t.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(n){n.saveWidths=n.saveWidths!==!1;n.saveOrder=n.saveOrder!==!1;n.saveScroll=n.saveScroll===!0;n.saveFocus=n.saveScroll!==!0&&n.saveFocus!==!1;n.saveVisible=n.saveVisible!==!1;n.saveSort=n.saveSort!==!1;n.saveFilter=n.saveFilter!==!1;n.saveSelection=n.saveSelection!==!1;n.saveGrouping=n.saveGrouping!==!1;n.saveGroupingExpandedStates=n.saveGroupingExpandedStates===!0;n.savePinning=n.savePinning!==!1;n.saveTreeView=n.saveTreeView!==!1},save:function(t){var i={};return i.columns=n.saveColumns(t),i.scrollFocus=n.saveScrollFocus(t),i.selection=n.saveSelection(t),i.grouping=n.saveGrouping(t),i.treeView=n.saveTreeView(t),i},restore:function(t,i,r){r.columns&&n.restoreColumns(t,r.columns);r.scrollFocus&&n.restoreScrollFocus(t,i,r.scrollFocus);r.selection&&n.restoreSelection(t,r.selection);r.grouping&&n.restoreGrouping(t,r.grouping);r.treeView&&n.restoreTreeView(t,r.treeView);t.refresh()},saveColumns:function(n){var t=[];return n.getOnlyDataColumns().forEach(function(i){var r={};r.name=i.name;n.options.saveVisible&&(r.visible=i.visible);n.options.saveWidths&&(r.width=i.width);n.options.saveSort&&(r.sort=angular.copy(i.sort));n.options.saveFilter&&(r.filters=[],i.filters.forEach(function(n){var t={};angular.forEach(n,function(n,i){i!=="condition"&&i!=="$$hashKey"&&i!=="placeholder"&&(t[i]=n)});r.filters.push(t)}));!!n.api.pinning&&n.options.savePinning&&(r.pinned=i.renderContainer?i.renderContainer:"");t.push(r)}),t},saveScrollFocus:function(t){var i,r;return t.api.cellNav?(i={},t.options.saveFocus&&(i.focus=!0,r=t.api.cellNav.getFocusedCell(),r!==null&&(r.col!==null&&(i.colName=r.col.colDef.name),r.row!==null&&(i.rowVal=n.getRowVal(t,r.row)))),(t.options.saveScroll||t.options.saveFocus&&!i.colName&&!i.rowVal)&&(i.focus=!1,t.renderContainers.body.prevRowScrollIndex&&(i.rowVal=n.getRowVal(t,t.renderContainers.body.visibleRowCache[t.renderContainers.body.prevRowScrollIndex])),t.renderContainers.body.prevColScrollIndex&&(i.colName=t.renderContainers.body.visibleColumnCache[t.renderContainers.body.prevColScrollIndex].name)),i):{}},saveSelection:function(t){if(!t.api.selection||!t.options.saveSelection)return[];return t.api.selection.getSelectedGridRows().map(function(i){return n.getRowVal(t,i)})},saveGrouping:function(n){return!n.api.grouping||!n.options.saveGrouping?{}:n.api.grouping.getGrouping(n.options.saveGroupingExpandedStates)},saveTreeView:function(n){return!n.api.treeView||!n.options.saveTreeView?{}:n.api.treeView.getTreeView()},getRowVal:function(n,t){if(!t)return null;var i={};return n.options.saveRowIdentity?(i.identity=!0,i.row=n.options.saveRowIdentity(t.entity)):(i.identity=!1,i.row=n.renderContainers.body.visibleRowCache.indexOf(t)),i},restoreColumns:function(n,t){t.forEach(function(t,i){var r=n.getColumn(t.name),u,f;r&&!n.isRowHeaderColumn(r)&&(n.options.saveVisible&&(r.visible!==t.visible||r.colDef.visible!==t.visible)&&(r.visible=t.visible,r.colDef.visible=t.visible,n.api.core.raise.columnVisibilityChanged(r)),n.options.saveWidths&&(r.width=t.width),!n.options.saveSort||angular.equals(r.sort,t.sort)||r.sort===undefined&&angular.isEmpty(t.sort)||(r.sort=angular.copy(t.sort),n.api.core.raise.sortChanged()),n.options.saveFilter&&!angular.equals(r.filters,t.filters)&&(t.filters.forEach(function(n,t){angular.extend(r.filters[t],n);(typeof n.term=="undefined"||n.term===null)&&delete r.filters[t].term}),n.api.core.raise.filterChanged()),!!n.api.pinning&&n.options.savePinning&&r.renderContainer!==t.pinned&&n.api.pinning.pinColumn(r,t.pinned),u=n.getOnlyDataColumns().indexOf(r),u!==-1&&n.options.saveOrder&&u!==i&&(f=n.columns.splice(u+n.rowHeaderColumns.length,1)[0],n.columns.splice(i+n.rowHeaderColumns.length,0,f)))})},restoreScrollFocus:function(t,i,r){var u,f,o,e;t.api.cellNav&&(r.colName&&(o=t.options.columnDefs.filter(function(n){return n.name===r.colName}),o.length>0&&(u=o[0])),r.rowVal&&r.rowVal.row&&(f=r.rowVal.identity?n.findRowByIdentity(t,r.rowVal):t.renderContainers.body.visibleRowCache[r.rowVal.row]),e=f&&f.entity?f.entity:null,(u||e)&&(r.focus?t.api.cellNav.scrollToFocus(e,u):t.scrollTo(e,u)))},restoreSelection:function(t,i){t.api.selection&&(t.api.selection.clearSelectedRows(),i.forEach(function(i){if(i.identity){var r=n.findRowByIdentity(t,i);r&&t.api.selection.selectRow(r.entity)}else t.api.selection.selectRowByVisibleIndex(i.row)}))},restoreGrouping:function(n,t){n.api.grouping&&typeof t!="undefined"&&t!==null&&!angular.equals(t,{})&&n.api.grouping.setGrouping(t)},restoreTreeView:function(n,t){n.api.treeView&&typeof t!="undefined"&&t!==null&&!angular.equals(t,{})&&n.api.treeView.setTreeView(t)},findRowByIdentity:function(n,t){if(!n.options.saveRowIdentity)return null;var i=n.rows.filter(function(i){return n.options.saveRowIdentity(i.entity)===t.row?!0:!1});return i.length>0?i[0]:null}};return n}]);n.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(n,i,r,u){t.initializeGrid(u.grid)}}}])}(),function(){"use strict";var n=angular.module("ui.grid.selection",["ui.grid"]);n.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"});angular.module("ui.grid").config(["$provide",function(n){n.decorator("GridRow",["$delegate",function(n){return n.prototype.setSelected=function(n){this.isSelected=n;n?this.grid.selection.selectedCount++:this.grid.selection.selectedCount--},n}])}]);n.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(){var n={initializeGrid:function(t){t.selection={};t.selection.lastSelectedRow=null;t.selection.selectAll=!1;t.selection.selectedCount=0;n.defaultGridOptions(t.options);var i={events:{selection:{rowSelectionChanged:function(){},rowSelectionChangedBatch:function(){}}},methods:{selection:{toggleRowSelection:function(i,r){var u=t.getRow(i);u!==null&&n.toggleRowSelection(t,u,r,t.options.multiSelect,t.options.noUnselect)},selectRow:function(i,r){var u=t.getRow(i);u===null||u.isSelected||n.toggleRowSelection(t,u,r,t.options.multiSelect,t.options.noUnselect)},selectRowByVisibleIndex:function(i,r){var u=t.renderContainers.body.visibleRowCache[i];u===null||typeof u=="undefined"||u.isSelected||n.toggleRowSelection(t,u,r,t.options.multiSelect,t.options.noUnselect)},unSelectRow:function(i,r){var u=t.getRow(i);u!==null&&u.isSelected&&n.toggleRowSelection(t,u,r,t.options.multiSelect,t.options.noUnselect)},selectAllRows:function(i){if(t.options.multiSelect!==!1){var r=[];t.rows.forEach(function(u){u.isSelected||u.enableSelection===!1||(u.setSelected(!0),n.decideRaiseSelectionEvent(t,u,r,i))});n.decideRaiseSelectionBatchEvent(t,r,i);t.selection.selectAll=!0}},selectAllVisibleRows:function(i){if(t.options.multiSelect!==!1){var r=[];t.rows.forEach(function(u){u.visible?u.isSelected||u.enableSelection===!1||(u.setSelected(!0),n.decideRaiseSelectionEvent(t,u,r,i)):u.isSelected&&(u.setSelected(!1),n.decideRaiseSelectionEvent(t,u,r,i))});n.decideRaiseSelectionBatchEvent(t,r,i);t.selection.selectAll=!0}},clearSelectedRows:function(i){n.clearSelectedRows(t,i)},getSelectedRows:function(){return n.getSelectedRows(t).map(function(n){return n.entity})},getSelectedGridRows:function(){return n.getSelectedRows(t)},setMultiSelect:function(n){t.options.multiSelect=n},setModifierKeysToMultiSelect:function(n){t.options.modifierKeysToMultiSelect=n},getSelectAllState:function(){return t.selection.selectAll}}}};t.api.registerEventsFromObject(i.events);t.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(n){n.enableRowSelection=n.enableRowSelection!==!1;n.multiSelect=n.multiSelect!==!1;n.noUnselect=n.noUnselect===!0;n.modifierKeysToMultiSelect=n.modifierKeysToMultiSelect===!0;n.enableRowHeaderSelection=n.enableRowHeaderSelection!==!1;typeof n.enableFullRowSelection=="undefined"&&(n.enableFullRowSelection=!n.enableRowHeaderSelection);n.enableSelectAll=n.enableSelectAll!==!1;n.enableSelectionBatchEvent=n.enableSelectionBatchEvent!==!1;n.selectionRowHeaderWidth=angular.isDefined(n.selectionRowHeaderWidth)?n.selectionRowHeaderWidth:30;n.enableFooterTotalSelected=n.enableFooterTotalSelected!==!1;n.isRowSelectable=angular.isDefined(n.isRowSelectable)?n.isRowSelectable:angular.noop},toggleRowSelection:function(t,i,r,u,f){var e=i.isSelected,o;(i.enableSelection!==!1||e)&&(u||e?!u&&e&&(o=n.getSelectedRows(t),o.length>1&&(e=!1,n.clearSelectedRows(t,r))):n.clearSelectedRows(t,r),e&&f||(i.setSelected(!e),i.isSelected===!0?t.selection.lastSelectedRow=i:t.selection.selectAll=!1,t.api.selection.raise.rowSelectionChanged(i,r)))},shiftSelect:function(t,i,r,u){var c,h,s,f;if(u){var l=n.getSelectedRows(t),e=l.length>0?t.renderContainers.body.visibleRowCache.indexOf(t.selection.lastSelectedRow):0,o=t.renderContainers.body.visibleRowCache.indexOf(i);for(e>o&&(c=e,e=o,o=c),h=[],s=e;s<=o;s++)f=t.renderContainers.body.visibleRowCache[s],f&&(f.isSelected||f.enableSelection===!1||(f.setSelected(!0),t.selection.lastSelectedRow=f,n.decideRaiseSelectionEvent(t,f,h,r)));n.decideRaiseSelectionBatchEvent(t,h,r)}},getSelectedRows:function(n){return n.rows.filter(function(n){return n.isSelected})},clearSelectedRows:function(t,i){var r=[];n.getSelectedRows(t).forEach(function(u){u.isSelected&&(u.setSelected(!1),n.decideRaiseSelectionEvent(t,u,r,i))});n.decideRaiseSelectionBatchEvent(t,r,i);t.selection.selectAll=!1},decideRaiseSelectionEvent:function(n,t,i,r){n.options.enableSelectionBatchEvent?i.push(t):n.api.selection.raise.rowSelectionChanged(t,r)},decideRaiseSelectionBatchEvent:function(n,t,i){t.length>0&&n.api.selection.raise.rowSelectionChangedBatch(t,i)}};return n}]);n.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(n,t,i,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(i,u,f,e){var o,c;t.initializeGrid(e.grid);e.grid.options.enableRowHeaderSelection&&(o={name:n.selectionRowHeaderColName,displayName:"",width:e.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0},e.grid.addRowHeaderColumn(o));var s=!1,l=function(n){return n.forEach(function(n){n.enableSelection=e.grid.options.isRowSelectable(n)}),n},h=function(){e.grid.options.isRowSelectable!==angular.noop&&s!==!0&&(e.grid.registerRowsProcessor(l,500),s=!0)};h();c=e.grid.registerDataChangeCallback(h,[r.dataChange.OPTIONS]);i.$on("$destroy",c)},post:function(){}}}}}]);n.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(n,t,i){return{replace:!0,restrict:"E",template:n.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(n,r,u,f){function o(n,i){i.stopPropagation();i.shiftKey?t.shiftSelect(e,n,i,e.options.multiSelect):i.ctrlKey||i.metaKey?t.toggleRowSelection(e,n,i,e.options.multiSelect,e.options.noUnselect):t.toggleRowSelection(e,n,i,e.options.multiSelect&&!e.options.modifierKeysToMultiSelect,e.options.noUnselect)}function s(n){(n.ctrlKey||n.shiftKey)&&(n.target.onselectstart=function(){return!1},window.setTimeout(function(){n.target.onselectstart=null},0))}var e=f.grid;if(n.selectButtonClick=o,i.detectBrowser()==="ie")r.on("mousedown",s)}}}]);n.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(n,t){return{replace:!0,restrict:"E",template:n.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(n){var i=n.col.grid;n.headerButtonClick=function(n,r){i.selection.selectAll?(t.clearSelectedRows(i,r),i.options.noUnselect&&i.api.selection.selectRowByVisibleIndex(0,r),i.selection.selectAll=!1):i.options.multiSelect&&(i.api.selection.selectAllVisibleRows(r),i.selection.selectAll=!0)}}}}]);n.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(){return{priority:-200,scope:!1,compile:function(n){var t=angular.element(n.children().children()[0]),i=t.attr("ng-class"),r="";return r=i?i.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",t.attr("ng-class",r),{pre:function(){},post:function(){}}}}}]);n.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(n,t,i,r,u,f,e){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(n,i,r,u){function a(){if(n.grid.options.enableRowSelection&&n.grid.options.enableFullRowSelection){i.addClass("ui-grid-disable-selection");i.on("touchstart",l);i.on("touchend",s);i.on("click",o);n.registered=!0}}function y(){n.registered&&(i.removeClass("ui-grid-disable-selection"),i.off("touchstart",l),i.off("touchend",s),i.off("click",o),n.registered=!1)}var c=0,h=300,v;u.grid.api.cellNav&&u.grid.api.cellNav.on.viewPortKeyDown(n,function(t,i){i!==null&&i.row===n.row&&i.col===n.col&&t.keyCode===32&&n.col.colDef.name==="selectionRowHeaderCol"&&(f.toggleRowSelection(n.grid,n.row,t,n.grid.options.multiSelect&&!n.grid.options.modifierKeysToMultiSelect,n.grid.options.noUnselect),n.$apply())});var o=function(t){i.off("touchend",s);t.shiftKey?f.shiftSelect(n.grid,n.row,t,n.grid.options.multiSelect):t.ctrlKey||t.metaKey?f.toggleRowSelection(n.grid,n.row,t,n.grid.options.multiSelect,n.grid.options.noUnselect):f.toggleRowSelection(n.grid,n.row,t,n.grid.options.multiSelect&&!n.grid.options.modifierKeysToMultiSelect,n.grid.options.noUnselect);n.$apply();e(function(){i.on("touchend",s)},h)},l=function(){c=(new Date).getTime();i.off("click",o)},s=function(n){var t=(new Date).getTime(),r=t-c;r<h&&o(n);e(function(){i.on("click",o)},h)};a();v=n.grid.registerDataChangeCallback(function(){n.grid.options.enableRowSelection&&n.grid.options.enableFullRowSelection&&!n.registered?a():n.grid.options.enableRowSelection&&n.grid.options.enableFullRowSelection||!n.registered||y()},[t.dataChange.OPTIONS]);i.on("$destroy",v)}}}]);n.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(n,t,i){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(t,r,u,f){f.grid.options.showGridFooter&&i.getTemplate("ui-grid/gridFooterSelectedItems").then(function(i){var u=angular.element(i),f=n(u)(t);angular.element(r[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(f)})},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.treeBase",["ui.grid"]);n.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}});n.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(n,t,i,r,u,f,e,o){var s={initializeGrid:function(n){n.treeBase={};n.treeBase.numberLevels=0;n.treeBase.expandAll=!1;n.treeBase.tree={};s.defaultGridOptions(n.options);n.registerRowsProcessor(s.treeRows,410);n.registerColumnBuilder(s.treeBaseColumnBuilder);s.createRowHeader(n);var t={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){s.expandAllRows(n)},collapseAllRows:function(){s.collapseAllRows(n)},toggleRowTreeState:function(t){s.toggleRowTreeState(n,t)},expandRow:function(t){s.expandRow(n,t)},expandRowChildren:function(t){s.expandRowChildren(n,t)},collapseRow:function(t){s.collapseRow(n,t)},collapseRowChildren:function(t){s.collapseRowChildren(n,t)},getTreeExpandedState:function(){return{expandedState:s.getTreeState(n)}},setTreeState:function(t){s.setTreeState(n,t)},getRowChildren:function(n){return n.treeNode.children.map(function(n){return n.row})}}}};n.api.registerEventsFromObject(t.events);n.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(n){n.treeRowHeaderBaseWidth=n.treeRowHeaderBaseWidth||30;n.treeIndent=n.treeIndent||10;n.showTreeRowHeader=n.showTreeRowHeader!==!1;n.showTreeExpandNoChildren=n.showTreeExpandNoChildren!==!1;n.treeRowHeaderAlwaysVisible=n.treeRowHeaderAlwaysVisible!==!1;n.treeCustomAggregations=n.treeCustomAggregations||{}},treeBaseColumnBuilder:function(n,t,i){typeof n.customTreeAggregationFn!="undefined"&&(t.treeAggregationFn=n.customTreeAggregationFn);typeof n.treeAggregationType!="undefined"&&(t.treeAggregation={type:n.treeAggregationType},typeof i.treeCustomAggregations[n.treeAggregationType]!="undefined"?(t.treeAggregationFn=i.treeCustomAggregations[n.treeAggregationType].aggregationFn,t.treeAggregationFinalizerFn=i.treeCustomAggregations[n.treeAggregationType].finalizerFn,t.treeAggregation.label=i.treeCustomAggregations[n.treeAggregationType].label):typeof s.nativeAggregations()[n.treeAggregationType]!="undefined"&&(t.treeAggregationFn=s.nativeAggregations()[n.treeAggregationType].aggregationFn,t.treeAggregation.label=s.nativeAggregations()[n.treeAggregationType].label));typeof n.treeAggregationLabel!="undefined"&&(typeof t.treeAggregation=="undefined"&&(t.treeAggregation={}),t.treeAggregation.label=n.treeAggregationLabel);t.treeAggregationUpdateEntity=n.treeAggregationUpdateEntity!==!1;typeof t.customTreeAggregationFinalizerFn=="undefined"&&(t.customTreeAggregationFinalizerFn=n.customTreeAggregationFinalizerFn)},createRowHeader:function(n){var i={name:t.rowHeaderColName,displayName:"",width:n.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};i.visible=n.options.treeRowHeaderAlwaysVisible;n.addRowHeaderColumn(i)},expandAllRows:function(n){n.treeBase.tree.forEach(function(i){s.setAllNodes(n,i,t.EXPANDED)});n.treeBase.expandAll=!0;n.queueGridRefresh()},collapseAllRows:function(n){n.treeBase.tree.forEach(function(i){s.setAllNodes(n,i,t.COLLAPSED)});n.treeBase.expandAll=!1;n.queueGridRefresh()},setAllNodes:function(n,i,r){typeof i.state!="undefined"&&i.state!==r&&(i.state=r,r===t.EXPANDED?n.api.treeBase.raise.rowExpanded(i.row):n.api.treeBase.raise.rowCollapsed(i.row));i.children&&i.children.forEach(function(t){s.setAllNodes(n,t,r)})},toggleRowTreeState:function(n,i){typeof i.treeLevel=="undefined"||i.treeLevel===null||i.treeLevel<0||(i.treeNode.state===t.EXPANDED?s.collapseRow(n,i):s.expandRow(n,i),n.queueGridRefresh())},expandRow:function(n,i){typeof i.treeLevel=="undefined"||i.treeLevel===null||i.treeLevel<0||i.treeNode.state!==t.EXPANDED&&(i.treeNode.state=t.EXPANDED,n.api.treeBase.raise.rowExpanded(i),n.treeBase.expandAll=s.allExpanded(n.treeBase.tree),n.queueGridRefresh())},expandRowChildren:function(n,i){typeof i.treeLevel=="undefined"||i.treeLevel===null||i.treeLevel<0||(s.setAllNodes(n,i.treeNode,t.EXPANDED),n.treeBase.expandAll=s.allExpanded(n.treeBase.tree),n.queueGridRefresh())},collapseRow:function(n,i){typeof i.treeLevel=="undefined"||i.treeLevel===null||i.treeLevel<0||i.treeNode.state!==t.COLLAPSED&&(i.treeNode.state=t.COLLAPSED,n.treeBase.expandAll=!1,n.api.treeBase.raise.rowCollapsed(i),n.queueGridRefresh())},collapseRowChildren:function(n,i){typeof i.treeLevel=="undefined"||i.treeLevel===null||i.treeLevel<0||(s.setAllNodes(n,i.treeNode,t.COLLAPSED),n.treeBase.expandAll=!1,n.queueGridRefresh())},allExpanded:function(n){var t=!0;return n.forEach(function(n){s.allExpandedInternal(n)||(t=!1)}),t},allExpandedInternal:function(n){if(n.children&&n.children.length>0){if(n.state===t.COLLAPSED)return!1;var i=!0;return n.children.forEach(function(n){s.allExpandedInternal(n)||(i=!1)}),i}return!0},treeRows:function(n){if(n.length===0)return n;var i=this,r=t.EXPANDED;return i.treeBase.tree=s.createTree(i,n),s.updateRowHeaderWidth(i),s.sortTree(i),s.fixFilter(i),s.renderTree(i.treeBase.tree)},updateRowHeaderWidth:function(n){var i=n.getColumn(t.rowHeaderColName),u=n.options.treeRowHeaderBaseWidth+n.options.treeIndent*Math.max(n.treeBase.numberLevels-1,0),r;i&&u!==i.width&&(i.width=u,n.queueRefresh());r=!0;n.options.showTreeRowHeader===!1&&(r=!1);n.options.treeRowHeaderAlwaysVisible===!1&&n.treeBase.numberLevels<=0&&(r=!1);i.visible!==r&&(i.visible=r,i.colDef.visible=r,n.queueGridRefresh())},renderTree:function(n){var i=[];return n.forEach(function(n){n.row.visible&&i.push(n.row);n.state===t.EXPANDED&&n.children&&n.children.length>0&&(i=i.concat(s.renderTree(n.children)))}),i},createTree:function(n,i){var u=-1,r=[],f,e,o,h;for(n.treeBase.tree=[],n.treeBase.numberLevels=0,e=s.getAggregations(n),o=function(i){if(typeof i.entity.$$treeLevel!="undefined"&&i.treeLevel!==i.entity.$$treeLevel&&(i.treeLevel=i.entity.$$treeLevel),i.treeLevel<=u){while(i.treeLevel<=u){var o=r.pop();s.finaliseAggregations(o);u--}f=r.length>0?s.setCurrentState(r):t.EXPANDED}(typeof i.treeLevel=="undefined"||i.treeLevel===null||i.treeLevel<0)&&i.visible&&s.aggregate(n,i,r);s.addOrUseNode(n,i,r,e);typeof i.treeLevel!="undefined"&&i.treeLevel!==null&&i.treeLevel>=0&&(r.push(i),u++,f=s.setCurrentState(r));n.treeBase.numberLevels<i.treeLevel+1&&(n.treeBase.numberLevels=i.treeLevel+1)},i.forEach(o);r.length>0;)h=r.pop(),s.finaliseAggregations(h);return n.treeBase.tree},addOrUseNode:function(n,i,r,u){var e=[],f;u.forEach(function(n){e.push(s.buildAggregationObject(n.col))});f={state:t.COLLAPSED,row:i,parentRow:null,aggregations:e,children:[]};i.treeNode&&(f.state=i.treeNode.state);r.length>0&&(f.parentRow=r[r.length-1]);i.treeNode=f;r.length===0?n.treeBase.tree.push(f):r[r.length-1].treeNode.children.push(f)},setCurrentState:function(n){var i=t.EXPANDED;return n.forEach(function(n){n.treeNode.state===t.COLLAPSED&&(i=t.COLLAPSED)}),i},sortTree:function(n){n.columns.forEach(function(n){n.sort&&n.sort.ignoreSort&&delete n.sort.ignoreSort});n.treeBase.tree=s.sortInternal(n,n.treeBase.tree)},sortInternal:function(n,i){var r=i.map(function(n){return n.row}),u;return r=o.sort(n,r,n.columns),u=r.map(function(n){return n.treeNode}),u.forEach(function(i){i.state===t.EXPANDED&&i.children&&i.children.length>0&&(i.children=s.sortInternal(n,i.children))}),u},fixFilter:function(n){var t;n.treeBase.tree.forEach(function(n){n.children&&n.children.length>0&&(t=n.row.visible,s.fixFilterInternal(n.children,t))})},fixFilterInternal:function(n,t){return n.forEach(function(n){n.row.visible&&!t&&(s.setParentsVisible(n),t=!0);n.children&&n.children.length>0&&s.fixFilterInternal(n.children,t&&n.row.visible)&&(t=!0)}),t},setParentsVisible:function(n){while(n.parentRow)n.parentRow.visible=!0,n=n.parentRow.treeNode},buildAggregationObject:function(n){var t={col:n};return n.treeAggregation&&n.treeAggregation.type&&(t.type=n.treeAggregation.type),n.treeAggregation&&n.treeAggregation.label&&(t.label=n.treeAggregation.label),t},getAggregations:function(n){var t=[];return n.columns.forEach(function(n){typeof n.treeAggregationFn!="undefined"&&t.push(s.buildAggregationObject(n))}),t},aggregate:function(n,t,i){i.length!==0&&i.forEach(function(i){i.treeNode.aggregations&&i.treeNode.aggregations.forEach(function(i){var r=n.getCellValue(t,i.col),u=Number(r);i.col.treeAggregationFn(i,r,u,t)})})},nativeAggregations:function(){return{count:{label:f.get().aggregation.count,menuTitle:f.get().grouping.aggregate_count,aggregationFn:function(n){typeof n.value=="undefined"?n.value=1:n.value++}},sum:{label:f.get().aggregation.sum,menuTitle:f.get().grouping.aggregate_sum,aggregationFn:function(n,t,i){isNaN(i)||(typeof n.value=="undefined"?n.value=i:n.value+=i)}},min:{label:f.get().aggregation.min,menuTitle:f.get().grouping.aggregate_min,aggregationFn:function(n,t){typeof n.value=="undefined"?n.value=t:typeof t!="undefined"&&t!==null&&(t<n.value||n.value===null)&&(n.value=t)}},max:{label:f.get().aggregation.max,menuTitle:f.get().grouping.aggregate_max,aggregationFn:function(n,t){typeof n.value=="undefined"?n.value=t:typeof t!="undefined"&&t!==null&&(t>n.value||n.value===null)&&(n.value=t)}},avg:{label:f.get().aggregation.avg,menuTitle:f.get().grouping.aggregate_avg,aggregationFn:function(n,t,i){(typeof n.count=="undefined"?n.count=1:n.count++,isNaN(i))||(typeof n.value=="undefined"||typeof n.sum=="undefined"?(n.value=i,n.sum=i):(n.sum+=i,n.value=n.sum/n.count))}}}},finaliseAggregations:function(n){typeof n.treeNode.aggregations!="undefined"&&n.treeNode.aggregations.forEach(function(t){if(t.col.treeAggregationUpdateEntity&&typeof n.entity["$$"+t.col.uid]!="undefined"&&angular.extend(t,n.entity["$$"+t.col.uid]),typeof t.col.treeAggregationFinalizerFn=="function"&&t.col.treeAggregationFinalizerFn(t),typeof t.col.customTreeAggregationFinalizerFn=="function"&&t.col.customTreeAggregationFinalizerFn(t),typeof t.rendered=="undefined"&&(t.rendered=t.label?t.label+t.value:t.value),t.col.treeAggregationUpdateEntity){var i={};angular.forEach(t,function(n,r){t.hasOwnProperty(r)&&r!=="col"&&(i[r]=n)});n.entity["$$"+t.col.uid]=i}})}};return s}]);n.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(n,t){return{replace:!0,restrict:"E",template:n.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(n,i,r,u){var f=u.grid;n.treeButtonClick=function(n,i){t.toggleRowTreeState(f,n,i)}}}}]);n.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(n,t){return{replace:!0,restrict:"E",template:n.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(n){var i=n.col.grid;n.headerButtonClick=function(n,r){i.treeBase.expandAll?t.collapseAllRows(i,r):t.expandAllRows(i,r)}}}}]);n.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(){return{priority:-200,scope:!1,compile:function(n){var t=angular.element(n.children().children()[0]),i=t.attr("ng-class"),r="";return r=i?i.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",t.attr("ng-class",r),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var n=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);n.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}});n.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(n,t,i,r){var u={initializeGrid:function(n,t){r.initializeGrid(n,t);n.treeView={};n.registerRowsProcessor(u.adjustSorting,60);var i={events:{treeView:{}},methods:{treeView:{}}};n.api.registerEventsFromObject(i.events);n.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(n){n.enableTreeView=n.enableTreeView!==!1},adjustSorting:function(n){var t=this;return t.columns.forEach(function(n){n.sort&&(n.sort.ignoreSort=!0)}),n}};return u}]);n.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(n,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,u){u.grid.options.enableTreeView!==!1&&t.initializeGrid(u.grid,n)},post:function(){}}}}}])}();angular.module("ui.grid").run(["$templateCache",function(n){"use strict";n.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}"><div class="ui-grid-filter-button" ng-click="colFilter.term = null" ng-if="!colFilter.disableCancelFilterButton"><i class="ui-grid-icon-cancel" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'">&nbsp;<\/i><\/div><\/div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""><\/option><\/select><div class="ui-grid-filter-button-select" ng-click="colFilter.term = null" ng-if="!colFilter.disableCancelFilterButton"><i class="ui-grid-icon-cancel" ng-show="colFilter.term !== undefined && colFilter.term != null">&nbsp;<\/i><\/div><\/div><\/div>');n.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div class="ui-grid-footer-cell-row"><div ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-footer-cell col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"><\/div><\/div><\/div><\/div><\/div><\/div>');n.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}<\/span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})<\/span><\/div>');n.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"><\/div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x<\/span><\/span> <span ng-hide="$last" class="ngGroupArrow"><\/span><\/span><\/li><\/ul><\/div>');n.put("ui-grid/ui-grid-header",'<div class="ui-grid-header"><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"><\/div><\/div><\/div><\/div><\/div><\/div><\/div>');n.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button" ng-click="toggleMenu()"><div class="ui-grid-icon-container"><i class="ui-grid-icon-menu">&nbsp;<\/i><\/div><div ui-grid-menu menu-items="menuItems"><\/div><\/div>');n.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"><\/div>');n.put("ui-grid/ui-grid-row",'<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.uid" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell><\/div>');n.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}<\/style><div class="ui-grid-contents-wrapper"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"><\/div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"><\/div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"><\/div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"><\/div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"><\/div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"><\/div><div ng-transclude><\/div><\/div><\/div>');n.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}<\/div>');n.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"><\/i> Sort Ascending<\/li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"><\/i> Sort Descending<\/li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"><\/i> Remove Sort<\/li>\n        <\/div>\n      <\/ul>\n    <\/div>\n  <\/div> --><\/div><\/div>');n.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}<\/div><\/div>');n.put("ui-grid/uiGridHeaderCell",'<div ng-class="{ \'sortable\': sortable }"><!-- <div class="ui-grid-vertical-bar">&nbsp;<\/div> --><div class="ui-grid-cell-contents" col-index="renderIndex" title="TOOLTIP"><span>{{ col.displayName CUSTOM_FILTERS }}<\/span> <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">&nbsp;<\/span><\/div><div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}"><i class="ui-grid-icon-angle-down">&nbsp;<\/i><\/div><div ui-grid-filter><\/div><\/div>');n.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul class="ui-grid-menu-items"><li ng-repeat="item in menuItems" ui-grid-menu-item action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen"><\/li><\/ul><\/div><\/div><\/div>');n.put("ui-grid/uiGridMenuItem",'<li class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\' : active() }"><i ng-class="icon"><\/i> {{ name }}<\/li>');n.put("ui-grid/uiGridRenderContainer","<div class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\"><div ui-grid-header><\/div><div ui-grid-viewport><\/div><div ui-grid-footer ng-if=\"grid.options.showColumnFooter\"><\/div><\/div>");n.put("ui-grid/uiGridViewport",'<div class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()"><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div ui-grid-row="row" row-render-index="rowRenderIndex"><\/div><\/div><\/div><\/div>');n.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"><\/form><\/div>');n.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"><\/select><\/form><\/div>');n.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"><\/form><\/div>');n.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\'\n     , height: grid.options.expandableRowHeight + \'px\'}"><\/div>');n.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"><\/i><\/div><\/div>');n.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px',\n              height: grid.options.expandableRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{ 'margin-top': ( grid.options.expandableRowHeight/2 - 5) + 'px',\n            'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px' }\"><\/i><\/div>");n.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"><\/i><\/div><\/div>');n.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL<\/a><\/span>');n.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"><\/form><\/li>');n.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item><\/div>");n.put("ui-grid/pagination",'<div class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div class="ui-grid-pager-container"><div class="ui-grid-pager-control"><button type="button" ng-click="paginationApi.seek(1)" ng-disabled="cantPageBackward()"><div class="first-triangle"><div class="first-bar"><\/div><\/div><\/button> <button type="button" ng-click="paginationApi.previousPage()" ng-disabled="cantPageBackward()"><div class="first-triangle prev-triangle"><\/div><\/button> <input type="number" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0">/ {{ paginationApi.getTotalPages() }}<\/span> <button type="button" ng-click="paginationApi.nextPage()" ng-disabled="cantPageForward()"><div class="last-triangle next-triangle"><\/div><\/button> <button type="button" ng-click="paginationApi.seek(paginationApi.getTotalPages())" ng-disabled="cantPageToLast()"><div class="last-triangle"><div class="last-bar"><\/div><\/div><\/button><\/div><div class="ui-grid-pager-row-count-picker"><select ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"><\/select><span class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}<\/span><\/div><\/div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{showingLow}} - {{showingHigh}} of {{grid.options.totalItems}} {{totalItemsLabel}}<\/span><\/div><\/div><\/div>');n.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"><\/div>');n.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})<\/span>');n.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;<\/div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"><\/ui-grid-selection-select-all-buttons><\/div><\/div>');n.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons><\/ui-grid-selection-row-header-buttons><\/div><\/div>');n.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;<\/div>');n.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"><\/div>');n.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"><\/div>');n.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons><\/ui-grid-tree-base-expand-all-buttons><\/div><\/div>');n.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons><\/ui-grid-tree-base-row-header-buttons><\/div>');n.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"><\/i> &nbsp;<\/div>")}]);
/*
//# sourceMappingURL=ui-grid.min.js.map
*/